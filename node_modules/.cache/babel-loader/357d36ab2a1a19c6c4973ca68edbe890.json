{"remainingRequest":"D:\\inventarioInformatico\\stock\\stock\\node_modules\\babel-loader\\lib\\index.js!D:\\inventarioInformatico\\stock\\stock\\node_modules\\cache-loader\\dist\\cjs.js??ref--1-0!D:\\inventarioInformatico\\stock\\stock\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!D:\\inventarioInformatico\\stock\\stock\\src\\views\\inicio.vue?vue&type=script&lang=js&","dependencies":[{"path":"D:\\inventarioInformatico\\stock\\stock\\src\\views\\inicio.vue","mtime":1646745742360},{"path":"D:\\inventarioInformatico\\stock\\stock\\babel.config.js","mtime":1645539073406},{"path":"D:\\inventarioInformatico\\stock\\stock\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1647002043141},{"path":"D:\\inventarioInformatico\\stock\\stock\\node_modules\\babel-loader\\lib\\index.js","mtime":1645539058368},{"path":"D:\\inventarioInformatico\\stock\\stock\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1647002043141},{"path":"D:\\inventarioInformatico\\stock\\stock\\node_modules\\vue-loader\\lib\\index.js","mtime":1645539059241}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IF9vYmplY3RTcHJlYWQgZnJvbSAiRDovaW52ZW50YXJpb0luZm9ybWF0aWNvL3N0b2NrL3N0b2NrL25vZGVfbW9kdWxlcy9AYmFiZWwvcnVudGltZS9oZWxwZXJzL2VzbS9vYmplY3RTcHJlYWQyLmpzIjsKLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KaW1wb3J0IHsgcmVxdWlyZWQsIGVtYWlsLCBtaW5MZW5ndGggfSBmcm9tICJ2dWVsaWRhdGUvbGliL3ZhbGlkYXRvcnMiOwppbXBvcnQgeyBtYXBBY3Rpb25zIH0gZnJvbSAndnVleCc7CmV4cG9ydCBkZWZhdWx0IHsKICBuYW1lOiAnaW5pY2lvJywKICBkYXRhOiBmdW5jdGlvbiBkYXRhKCkgewogICAgcmV0dXJuIHsKICAgICAgLy9EYXRvcyBkZWwgTG9naW4KICAgICAgY29ycmVvOiAnJywKICAgICAgcGFzc3dvcmQ6ICcnCiAgICB9OwogIH0sCiAgdmFsaWRhdGlvbnM6IHsKICAgIC8vU2UgdmFsaWRhbiBlbCBlbWFpbCB5IGxhIGNvbnRyYXNlw7FhIGNvbiB1biBtaW5pbW8gZGUgbGV0cmFzCiAgICBjb3JyZW86IHsKICAgICAgcmVxdWlyZWQ6IHJlcXVpcmVkLAogICAgICBlbWFpbDogZW1haWwKICAgIH0sCiAgICBwYXNzd29yZDogewogICAgICByZXF1aXJlZDogcmVxdWlyZWQsCiAgICAgIG1pbkxlbmd0aDogbWluTGVuZ3RoKDYpCiAgICB9CiAgfSwKICBtZXRob2RzOiBfb2JqZWN0U3ByZWFkKF9vYmplY3RTcHJlYWQoe30sIG1hcEFjdGlvbnMoWydndWFyZGFyVXN1YXJpbycsICdsZWVyVG9rZW4nXSkpLCB7fSwgewogICAgbG9naW46IGZ1bmN0aW9uIGxvZ2luKCkgewogICAgICB2YXIgX3RoaXMgPSB0aGlzOwoKICAgICAgLy9TZSByZXZpc2EgcXVlIHNlIGN1bXBsYSBjb24gbG9zIHJlcXVlcmltaWVudG9zIHkgbHVlZ28gc2UgYnVzY2EgYWwgdXN1YXJpbyBlbiBsYSBiYXNlIGRlIGRhdG9zCiAgICAgIHRoaXMuJHYuJHRvdWNoKCk7CgogICAgICBpZiAoIXRoaXMuJHYuJGludmFsaWQpIHsKICAgICAgICB0aGlzLmF4aW9zLnBvc3QoJy9hdXRoL2xvZ2luJywgewogICAgICAgICAgY29ycmVvOiB0aGlzLmNvcnJlbywKICAgICAgICAgIHBhc3N3b3JkOiB0aGlzLnBhc3N3b3JkCiAgICAgICAgfSkudGhlbihmdW5jdGlvbiAocmVzKSB7CiAgICAgICAgICBjb25zb2xlLmxvZyhyZXMuZGF0YSk7CiAgICAgICAgICB2YXIgdG9rZW4gPSByZXMuZGF0YS50b2tlbjsKCiAgICAgICAgICBfdGhpcy5ndWFyZGFyVXN1YXJpbyh0b2tlbik7CiAgICAgICAgfSkuY2F0Y2goZnVuY3Rpb24gKGUpIHsKICAgICAgICAgIFN3YWwuZmlyZSh7CiAgICAgICAgICAgIGljb246ICdlcnJvcicsCiAgICAgICAgICAgIHRpdGxlOiAnT29wcy4uLicsCiAgICAgICAgICAgIHRleHQ6IGUucmVzcG9uc2UuZGF0YS5tZW5zYWplLAogICAgICAgICAgICBmb290ZXI6ICdFcnJvciBhbCBpbnRlbnRhciBJbmdyZXNhciBhIHN1IHNlc2nDs24nCiAgICAgICAgICB9KTsKICAgICAgICB9KTsKICAgICAgfSBlbHNlIHsKICAgICAgICBTd2FsLmZpcmUoewogICAgICAgICAgaWNvbjogJ2Vycm9yJywKICAgICAgICAgIHRpdGxlOiAnT29wcy4uLicsCiAgICAgICAgICB0ZXh0OiAnRGViZSByZWxsZW5hciBjb3JyZWN0YW1lbnRlIHRvZG9zIGxvcyBjYW1wb3MnLAogICAgICAgICAgZm9vdGVyOiAnQXNlZ3VyZXNlIGRlIHF1ZSBlbCBlbWFpbCB5IGxhIGNvbnRyYXNlw7FhIHNlYW4gdmFsaWRhcycKICAgICAgICB9KTsKICAgICAgfQogICAgfQogIH0pLAogIGNyZWF0ZWQ6IGZ1bmN0aW9uIGNyZWF0ZWQoKSB7CiAgICB0aGlzLmxlZXJUb2tlbigpOwogIH0KfTs="},{"version":3,"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAiCA;AACA;AACA;AACAA,gBADA;AAEAC,MAFA,kBAEA;AACA;AACA;AACAC,gBAFA;AAGAC;AAHA;AAKA,GARA;AASAC;AACA;AACAF;AAAAG;AAAAC;AAAA,KAFA;AAGAH;AAAAE;AAAAE;AAAA;AAHA,GATA;AAcAC,2CACAC,2CADA;AAEAC,SAFA,mBAEA;AAAA;;AACA;AACA;;AACA;AACA;AAAAR;AAAAC;AAAA,WACAQ,IADA,CACA;AACAC;AACA;;AACA;AACA,SALA,EAMAC,KANA,CAMA;AACAC;AACAC,yBADA;AAEAC,4BAFA;AAGAC,yCAHA;AAIAC;AAJA;AAMA,SAbA;AAcA,OAfA,MAeA;AACAJ;AACAC,uBADA;AAEAC,0BAFA;AAGAC,8DAHA;AAIAC;AAJA;AAMA;AACA;AA5BA,IAdA;AA4CAC,SA5CA,qBA4CA;AACA;AACA;AA9CA","names":["name","data","correo","password","validations","required","email","minLength","methods","mapActions","login","then","console","catch","Swal","icon","title","text","footer","created"],"sourceRoot":"src/views","sources":["inicio.vue"],"sourcesContent":["<template>\n  <div class=\"home\">\n    <section class=\"vh-100\" style=\"background-color: #eee;\">\n      <div class=\"container py-5 h-100\">\n        <div class=\"row d-flex justify-content-center align-items-center h-100\">\n          <div class=\"col-12 col-md-8 col-lg-6 col-xl-5\">\n            <div class=\"card shadow-2-strong\" style=\"border-radius: 1rem;\">\n              <div class=\"card-body p-5 text-center\">\n                <img src=\"../assets/junji-2.png\" alt=\"\" width=\"150px\" class=\"imagen p-1\">\n                <h3 class=\"mb-4\">Sistema de stock</h3>\n\n                <div class=\"form-outline mb-4\">\n                  <label class=\"form-label\" for=\"typeEmailX-2\">Correo</label>\n                  <input type=\"email\" id=\"typeEmailX-2\" class=\"form-control form-control-lg\" placeholder=\"Ingrese su correo\" v-model=\"$v.correo.$model\"/>\n                  <p class=\"text-danger\" v-if=\"$v.correo.$error\">Por favor ingrese un correo</p>\n                </div>\n\n                <div class=\"form-outline mb-4\">\n                  <label class=\"form-label\" for=\"typePasswordX-2\">Contraseña</label>\n                  <input type=\"password\" id=\"typePasswordX-2\" class=\"form-control form-control-lg\" placeholder=\"Ingrese su contraseña\" v-model=\"$v.password.$model\"/>\n                  <p class=\"text-danger\" v-if=\"!$v.password.minLength\">Mínimo de 6 caracteres</p>\n                </div>\n                <b-button @click=\"login()\" variant=\"primary\" class=\"btn btn-primary border-dark boton\" type=\"submit\">Iniciar Sesión</b-button>\n              </div>\n            </div>\n          </div>\n        </div>\n      </div>\n    </section>\n  </div>\n</template>\n\n<script>\nimport { required, email, minLength } from \"vuelidate/lib/validators\"\nimport { mapActions } from 'vuex';\nexport default {\n  name: 'inicio',\n  data(){\n    return{\n      //Datos del Login\n      correo: '',\n      password: ''\n    }\n  },\n  validations:{\n    //Se validan el email y la contraseña con un minimo de letras\n    correo:{required,email},\n    password:{required, minLength: minLength(6)}\n  },\n  methods: {\n    ...mapActions(['guardarUsuario', 'leerToken']),\n    login(){\n      //Se revisa que se cumpla con los requerimientos y luego se busca al usuario en la base de datos\n      this.$v.$touch()\n      if(!this.$v.$invalid){\n        this.axios.post('/auth/login', {correo: this.correo, password: this.password})\n          .then(res => {\n            console.log(res.data)\n            const token = res.data.token;\n            this.guardarUsuario(token);\n          })\n          .catch(e => {\n            Swal.fire({\n              icon: 'error',\n              title: 'Oops...',\n              text: e.response.data.mensaje,\n              footer: 'Error al intentar Ingresar a su sesión'\n            })\n          })\n      }else{\n        Swal.fire({\n              icon: 'error',\n              title: 'Oops...',\n              text: 'Debe rellenar correctamente todos los campos',\n              footer: 'Asegurese de que el email y la contraseña sean validas'\n            })\n      }\n    }\n  },\n  created(){\n    this.leerToken();\n  }\n}\n</script>\n\n<style>\n  .boton{\n    margin: 20px;\n    width: 90%;\n    border-radius: 12px !important;\n    border-color: black;\n    background-color: #0d6efd;\n  }\n  \n  body{\n    background-color: #eee;\n  }\n</style>"]}]}