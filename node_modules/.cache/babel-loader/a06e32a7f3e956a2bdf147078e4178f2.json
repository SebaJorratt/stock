{"remainingRequest":"D:\\inventarioInformatico\\stock\\stock\\node_modules\\babel-loader\\lib\\index.js!D:\\inventarioInformatico\\stock\\stock\\node_modules\\cache-loader\\dist\\cjs.js??ref--1-0!D:\\inventarioInformatico\\stock\\stock\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!D:\\inventarioInformatico\\stock\\stock\\src\\views\\insumos.vue?vue&type=script&lang=js&","dependencies":[{"path":"D:\\inventarioInformatico\\stock\\stock\\src\\views\\insumos.vue","mtime":1646674102649},{"path":"D:\\inventarioInformatico\\stock\\stock\\babel.config.js","mtime":1645539073406},{"path":"D:\\inventarioInformatico\\stock\\stock\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1645539054355},{"path":"D:\\inventarioInformatico\\stock\\stock\\node_modules\\babel-loader\\lib\\index.js","mtime":1645539058368},{"path":"D:\\inventarioInformatico\\stock\\stock\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1645539054355},{"path":"D:\\inventarioInformatico\\stock\\stock\\node_modules\\vue-loader\\lib\\index.js","mtime":1645539059241}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuZmluZC1pbmRleC5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLmFycmF5LnNwbGljZS5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLnJlZ2V4cC5leGVjLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuc3RyaW5nLnNwbGl0LmpzIjsKLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KaW1wb3J0IG5hdmJhciBmcm9tICIuLi9jb21wb25lbnRzL25hdmJhci52dWUiOwppbXBvcnQgeyByZXF1aXJlZCwgbWluTGVuZ3RoIH0gZnJvbSAidnVlbGlkYXRlL2xpYi92YWxpZGF0b3JzIjsKZXhwb3J0IGRlZmF1bHQgewogIG5hbWU6ICJpbnN1bW9zIiwKICBjb21wb25lbnRzOiB7CiAgICBuYXZiYXI6IG5hdmJhcgogIH0sCiAgZGF0YTogZnVuY3Rpb24gZGF0YSgpIHsKICAgIHJldHVybiB7CiAgICAgIC8vRGF0b3MgcGFyYSBhZ3JlZ2FyIHVuIG51ZXZvIG1lbW8gKGhpc3RvcmlhbCkgY29uIHYtbW9kZWwKICAgICAgY2FudGlkYWRQcm9kdWN0b3M6IDEsCiAgICAgIHByb2R1Y3RvczogW3sKICAgICAgICBrZXk6IDEsCiAgICAgICAgbm9tUHJvZHVjdG86ICcnLAogICAgICAgIGNhbnRpZGFkOiAwLAogICAgICAgIHN0b2NrOiAwLAogICAgICAgIGNvZGlnb0JhcnJhOiAnJwogICAgICB9XSwKICAgICAgcHJvZHM6IFtdLAogICAgICBwcm9kdWN0b0FudDogJycsCiAgICAgIC8vVmFyaWFibGUgcGFyYSBsYXMgZGVwZW5kZW5jaWFzIAogICAgICBkZXBlbmRlbmNpYXM6IFtdLAogICAgICBkZXBlbmRlbmNpYTogJycsCiAgICAgIC8vVmFyaWFibGVzIHBhcmEgaW5kaWNhciBhbCBmdW5jaW9uYXJpbwogICAgICBmdW5jaW9uYXJpb3M6IFtdLAogICAgICBmdW5jaW9uYXJpbzogJycsCiAgICAgIC8vVmFyaWFibGVzIGRlIGxhcyBhbGVydGFzCiAgICAgIGRpc21pc3NTZWNzOiA1LAogICAgICBkaXNtaXNzQ291bnREb3duOiAwLAogICAgICBtZW5zYWplOiB7CiAgICAgICAgY29sb3I6ICcnLAogICAgICAgIHRleHRvOiAnJwogICAgICB9LAogICAgICAvL1ZBUklBQkxFUyBERSBERVRBTExFUwogICAgICBjb2RpZ286ICcnLAogICAgICBwcm9kdWN0bzogJycsCiAgICAgIG1hcmNhOiAnJywKICAgICAgZGVzY3JpcGNpb246ICcnCiAgICB9OwogIH0sCiAgdmFsaWRhdGlvbnM6IHsKICAgIC8vVmFsaWRhY2lvbmVzIGRlIGxvcyBpbnB1dAogICAgZGVwZW5kZW5jaWE6IHsKICAgICAgcmVxdWlyZWQ6IHJlcXVpcmVkCiAgICB9CiAgfSwKICBjcmVhdGVkOiBmdW5jdGlvbiBjcmVhdGVkKCkgewogICAgdGhpcy5jYXJnYXJQcm9kdWN0b3ModHJ1ZSk7CiAgICB0aGlzLmNhcmdhckRlcGVuZGVuY2lhcygpOwogICAgdGhpcy5jYXJnYXJGdW5jaW9uYXJpb3MoKTsKICB9LAogIG1ldGhvZHM6IHsKICAgIC8vTWV0b2RvIHF1ZSBDYXJnYSB0b2RvcyBsb3MgcHJvZHVjdG9zIGRlbCBzaXN0ZW1hCiAgICBjYXJnYXJQcm9kdWN0b3M6IGZ1bmN0aW9uIGNhcmdhclByb2R1Y3RvcyhwcmltZXJhKSB7CiAgICAgIHZhciBfdGhpcyA9IHRoaXM7CgogICAgICB0aGlzLmF4aW9zLmdldCgnYXBpL29idGVuZXJQcm9kdWN0b3NTb2xvcycpLnRoZW4oZnVuY3Rpb24gKHJlcykgewogICAgICAgIF90aGlzLnByb2RzID0gcmVzLmRhdGE7CgogICAgICAgIGlmIChwcmltZXJhKSB7CiAgICAgICAgICBfdGhpcy5wcm9kdWN0b3NbMF0ubm9tUHJvZHVjdG8gPSBfdGhpcy5wcm9kc1swXS5ub21Qcm9kdWN0bzsKICAgICAgICAgIF90aGlzLnByb2R1Y3Rvc1swXS5zdG9jayA9IF90aGlzLnByb2RzWzBdLnN0b2NrOwogICAgICAgICAgX3RoaXMucHJvZHVjdG9zWzBdLmNvZGlnb0JhcnJhID0gX3RoaXMucHJvZHNbMF0uY29kaWdvQmFycmE7CiAgICAgICAgfQogICAgICB9KS5jYXRjaChmdW5jdGlvbiAoZSkgewogICAgICAgIF90aGlzLmFsZXJ0YSgnZGFuZ2VyJywgJ05vIHNlIGhhbiBwb2RpZG8gY2FyZ2FyIGxvcyBQcm9kdWN0b3MnKTsKICAgICAgfSk7CiAgICB9LAogICAgLy9GdW5jacOzbiBxdWUgc2UgZW5jYXJnYXIgZGUgY2FyZ2FyIGxhcyBkZXBlbmRlbmNpYXMKICAgIGNhcmdhckRlcGVuZGVuY2lhczogZnVuY3Rpb24gY2FyZ2FyRGVwZW5kZW5jaWFzKCkgewogICAgICB2YXIgX3RoaXMyID0gdGhpczsKCiAgICAgIHRoaXMuYXhpb3MuZ2V0KCdhcGkvb2J0ZW5lckRlcGVuZGVuY2lhcycpLnRoZW4oZnVuY3Rpb24gKHJlcykgewogICAgICAgIF90aGlzMi5kZXBlbmRlbmNpYXMgPSByZXMuZGF0YTsKICAgICAgICBfdGhpczIuZGVwZW5kZW5jaWEgPSBfdGhpczIuZGVwZW5kZW5jaWFzWzBdLm5vbURlcGVuZGVuY2lhOwogICAgICB9KS5jYXRjaChmdW5jdGlvbiAoZSkgewogICAgICAgIF90aGlzMi5hbGVydGEoJ2RhbmdlcicsICdObyBzZSBoYW4gcG9kaWRvIGNhcmdhciBsYXMgRGVwZW5kZW5jaWFzJyk7CiAgICAgIH0pOwogICAgfSwKICAgIC8vRnVuY2nDs24gcXVlIHNlIGVuY2FyZ2FyIGRlIGNhcmdhciBsYXMgZGVwZW5kZW5jaWFzCiAgICBjYXJnYXJGdW5jaW9uYXJpb3M6IGZ1bmN0aW9uIGNhcmdhckZ1bmNpb25hcmlvcygpIHsKICAgICAgdmFyIF90aGlzMyA9IHRoaXM7CgogICAgICB0aGlzLmF4aW9zLmdldCgnYXBpL29idGVuZXJGdW5jaW9uYXJpb3MnKS50aGVuKGZ1bmN0aW9uIChyZXMpIHsKICAgICAgICBfdGhpczMuZnVuY2lvbmFyaW9zID0gcmVzLmRhdGE7CiAgICAgICAgX3RoaXMzLmZ1bmNpb25hcmlvID0gX3RoaXMzLmZ1bmNpb25hcmlvc1swXS5ub21GdW5jaW9uYXJpbzsKICAgICAgfSkuY2F0Y2goZnVuY3Rpb24gKGUpIHsKICAgICAgICBfdGhpczMuYWxlcnRhKCdkYW5nZXInLCAnTm8gc2UgaGFuIHBvZGlkbyBjYXJnYXIgbG9zIEZ1bmNpb25hcmlvcycpOwogICAgICB9KTsKICAgIH0sCiAgICAvL0Z1bmNpw7NuIHF1ZSB0ZSBwZXJtaXRlIGd1YXJkYXIgZWwgdmFsb3IgYW50ZXJpb3IgZGVsIHNlbGVjdAogICAgYW50ZXJpb3I6IGZ1bmN0aW9uIGFudGVyaW9yKG5vbVByb2R1Y3RvKSB7CiAgICAgIHRoaXMucHJvZHVjdG9BbnQgPSBub21Qcm9kdWN0bzsKICAgIH0sCiAgICAvL1NpIHNlIGNhbWJpYSB1biBwcm9kdWN0byBzZSBkZWJlIGJ1c2NhciBzdSBzdG9jawogICAgY2FtYmlvUHJvZHVjdG86IGZ1bmN0aW9uIGNhbWJpb1Byb2R1Y3RvKG5vbVByb2R1Y3RvLCBrZXkpIHsKICAgICAgdmFyIGluZGV4QWN0dWFsID0gdGhpcy5wcm9kdWN0b3MuZmluZEluZGV4KGZ1bmN0aW9uIChpdGVtKSB7CiAgICAgICAgcmV0dXJuIGl0ZW0ua2V5ID09IGtleTsKICAgICAgfSk7CiAgICAgIHZhciByZXBldGlkbyA9IGZhbHNlOwoKICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCB0aGlzLnByb2R1Y3Rvcy5sZW5ndGg7IGkrKykgewogICAgICAgIGlmIChpICE9IGluZGV4QWN0dWFsKSB7CiAgICAgICAgICBpZiAodGhpcy5wcm9kdWN0b3NbaV0ubm9tUHJvZHVjdG8gPT09IHRoaXMucHJvZHVjdG9zW2luZGV4QWN0dWFsXS5ub21Qcm9kdWN0bykgewogICAgICAgICAgICByZXBldGlkbyA9IHRydWU7CiAgICAgICAgICB9CiAgICAgICAgfQogICAgICB9CgogICAgICBpZiAoIXJlcGV0aWRvKSB7CiAgICAgICAgdmFyIGluZGV4ID0gdGhpcy5wcm9kcy5maW5kSW5kZXgoZnVuY3Rpb24gKGl0ZW0pIHsKICAgICAgICAgIHJldHVybiBpdGVtLm5vbVByb2R1Y3RvID09IG5vbVByb2R1Y3RvOwogICAgICAgIH0pOwogICAgICAgIHZhciBpbmRleDIgPSB0aGlzLnByb2R1Y3Rvcy5maW5kSW5kZXgoZnVuY3Rpb24gKGl0ZW0pIHsKICAgICAgICAgIHJldHVybiBpdGVtLmtleSA9PSBrZXk7CiAgICAgICAgfSk7CiAgICAgICAgdGhpcy5wcm9kdWN0b3NbaW5kZXgyXS5zdG9jayA9IHRoaXMucHJvZHNbaW5kZXhdLnN0b2NrOwogICAgICAgIHRoaXMucHJvZHVjdG9zW2luZGV4Ml0uY29kaWdvQmFycmEgPSB0aGlzLnByb2RzW2luZGV4XS5jb2RpZ29CYXJyYTsKCiAgICAgICAgaWYgKHRoaXMucHJvZHVjdG9zW2luZGV4Ml0uY2FudGlkYWQgPiB0aGlzLnByb2R1Y3Rvc1tpbmRleDJdLnN0b2NrKSB7CiAgICAgICAgICB0aGlzLnByb2R1Y3Rvc1tpbmRleDJdLmNhbnRpZGFkID0gdGhpcy5wcm9kdWN0b3NbaW5kZXgyXS5zdG9jazsKICAgICAgICB9CiAgICAgIH0gZWxzZSB7CiAgICAgICAgdGhpcy5wcm9kdWN0b3NbaW5kZXhBY3R1YWxdLm5vbVByb2R1Y3RvID0gdGhpcy5wcm9kdWN0b0FudDsKICAgICAgfQogICAgfSwKICAgIC8vU2UgYWdyZWdhIHVuIG51ZXZvIHBvc2libGUgcHJvZHVjdG8KICAgIC8vQURFTUFTIGRlYmUgcmV2aXNhciBzaSBsb3MgdmFsb3JlcyBhbnRlcmlvcmVzIGVzdGFuIHJlcGV0aWRvcwogICAgYWdyZWdhUHJvZHVjdG86IGZ1bmN0aW9uIGFncmVnYVByb2R1Y3RvKCkgewogICAgICB2YXIgX3RoaXM0ID0gdGhpczsKCiAgICAgIHRoaXMuY2FudGlkYWRQcm9kdWN0b3MrKzsKICAgICAgdmFyIGEgPSAwOwogICAgICB0aGlzLnByb2R1Y3Rvcy5wdXNoKHsKICAgICAgICBrZXk6IHRoaXMuY2FudGlkYWRQcm9kdWN0b3MsCiAgICAgICAgbm9tUHJvZHVjdG86ICcnLAogICAgICAgIGNhbnRpZGFkOiAwLAogICAgICAgIHN0b2NrOiAwCiAgICAgIH0pOyAvL0J1c2NhIHNpIHVuIHByb2R1Y3RvIHlhIGV4aXN0ZSBlbiBlbiBhbGd1bm8gZGUgbG9zIHNlbGVjdCBoYWJpbGl0YWRvcyAKCiAgICAgIHdoaWxlIChhIDwgdGhpcy5wcm9kcy5sZW5ndGgpIHsKICAgICAgICB2YXIgaW5kZXggPSB0aGlzLnByb2R1Y3Rvcy5maW5kSW5kZXgoZnVuY3Rpb24gKGl0ZW0pIHsKICAgICAgICAgIHJldHVybiBpdGVtLm5vbVByb2R1Y3RvID09IF90aGlzNC5wcm9kc1thXS5ub21Qcm9kdWN0bzsKICAgICAgICB9KTsgLy9TaSBsbyBlbmN1ZW50cmEgcGFzYSBhbCBzaWd1aWVudGUgcHJvZHVjdG8KCiAgICAgICAgaWYgKGluZGV4ICE9IC0xKSB7CiAgICAgICAgICBhKys7CiAgICAgICAgfSBlbHNlIHsKICAgICAgICAgIC8vU2kgZWwgdmFsb3IgcmV0b3JuYWRvIGVzIC0xIHNpZ25pZmljYSBxdWUgZWwgcHJvZHVjdG8geWEgZXhpc3RlLCBwb3IgbG8gdGFudG8gZGViZSBzZWd1aXIgYnVzY2FuZG8KICAgICAgICAgIHRoaXMucHJvZHVjdG9zW3RoaXMucHJvZHVjdG9zLmxlbmd0aCAtIDFdLm5vbVByb2R1Y3RvID0gdGhpcy5wcm9kc1thXS5ub21Qcm9kdWN0bzsKICAgICAgICAgIHRoaXMucHJvZHVjdG9zW3RoaXMucHJvZHVjdG9zLmxlbmd0aCAtIDFdLnN0b2NrID0gdGhpcy5wcm9kc1thXS5zdG9jazsKICAgICAgICAgIHRoaXMucHJvZHVjdG9zW3RoaXMucHJvZHVjdG9zLmxlbmd0aCAtIDFdLmNvZGlnb0JhcnJhID0gdGhpcy5wcm9kc1thXS5jb2RpZ29CYXJyYTsKICAgICAgICAgIHRoaXMucHJvZHVjdG9zW3RoaXMucHJvZHVjdG9zLmxlbmd0aCAtIDFdLmtleSA9IHRoaXMuY2FudGlkYWRQcm9kdWN0b3M7CiAgICAgICAgICBicmVhazsKICAgICAgICB9CgogICAgICAgIGlmIChhID09IHRoaXMucHJvZHMubGVuZ3RoKSB7CiAgICAgICAgICB0aGlzLmNhbnRpZGFkUHJvZHVjdG9zLS07CiAgICAgICAgICB0aGlzLnByb2R1Y3Rvcy5zcGxpY2UoLTEpOwogICAgICAgICAgdGhpcy5hbGVydGEoJ2RhbmdlcicsICdObyBleGlzdGVuIG1hcyBwcm9kdWN0b3MgcGFyYSBhZ3JlZ2FyJyk7CiAgICAgICAgICBicmVhazsKICAgICAgICB9CiAgICAgIH0KICAgIH0sCiAgICAvL1NlIHF1aXRhIHVuIFByb2R1Y3RvIGRlIGxvcyBxdWUgc2Vyw6FuIGFncmVnYWRvcyBhbCBzaXN0ZW1hCiAgICBxdWl0YXJQcm9kdWN0bzogZnVuY3Rpb24gcXVpdGFyUHJvZHVjdG8oKSB7CiAgICAgIGlmICh0aGlzLnByb2R1Y3Rvcy5sZW5ndGggPiAxKSB7CiAgICAgICAgdGhpcy5jYW50aWRhZFByb2R1Y3Rvcy0tOwogICAgICAgIHRoaXMucHJvZHVjdG9zLnNwbGljZSgtMSk7CiAgICAgIH0gZWxzZSB7CiAgICAgICAgdGhpcy5hbGVydGEoJ2RhbmdlcicsICdUaWVuZSBxdWUgZXhpc3RpciBhbCBtZW5vcyAxIHByb2R1Y3RvJyk7CiAgICAgIH0KICAgIH0sCiAgICAvL0luZGljYW1vcyBlbCBtaW5pbW8gZGUgY2FudGlkYWQgcGFyYSBxdWUgbm8gZXN0ZSB2YWNpbyBvIHNlYSBtZW5vciBhIDAKICAgIGNhbnRNaW46IGZ1bmN0aW9uIGNhbnRNaW4ocHJvZHVjdG8pIHsKICAgICAgdmFyIGluZGV4ID0gdGhpcy5wcm9kdWN0b3MuZmluZEluZGV4KGZ1bmN0aW9uIChpdGVtKSB7CiAgICAgICAgcmV0dXJuIGl0ZW0ua2V5ID09IHByb2R1Y3RvOwogICAgICB9KTsKCiAgICAgIGlmICh0aGlzLnByb2R1Y3Rvc1tpbmRleF0uY2FudGlkYWQgPCAxKSB7CiAgICAgICAgdGhpcy5wcm9kdWN0b3NbaW5kZXhdLmNhbnRpZGFkID0gMTsKICAgICAgfSBlbHNlIGlmICh0aGlzLnByb2R1Y3Rvc1tpbmRleF0uY2FudGlkYWQgPiB0aGlzLnByb2R1Y3Rvc1tpbmRleF0uc3RvY2spIHsKICAgICAgICB0aGlzLnByb2R1Y3Rvc1tpbmRleF0uY2FudGlkYWQgPSB0aGlzLnByb2R1Y3Rvc1tpbmRleF0uc3RvY2s7CiAgICAgIH0KICAgIH0sCiAgICBjb252ZXJ0RGF0ZU15c3FsOiBmdW5jdGlvbiBjb252ZXJ0RGF0ZU15c3FsKHlvdXJEYXRlKSB7CiAgICAgIHlvdXJEYXRlLnRvSVNPU3RyaW5nKCkuc3BsaXQoJ1QnKVswXTsKICAgICAgdmFyIG9mZnNldCA9IHlvdXJEYXRlLmdldFRpbWV6b25lT2Zmc2V0KCk7CiAgICAgIHlvdXJEYXRlID0gbmV3IERhdGUoeW91ckRhdGUuZ2V0VGltZSgpIC0gb2Zmc2V0ICogNjAgKiAxMDAwKTsKICAgICAgcmV0dXJuIHlvdXJEYXRlLnRvSVNPU3RyaW5nKCkuc3BsaXQoJ1QnKVswXTsKICAgIH0sCiAgICAvL0Z1bmNpw7NuIHF1ZSBwZXJtaXRlIGdlbmVyYXIgdW4gaW5mb3JtZSB5IGVudmlhciBsb3MgZGF0b3MgZGUgdW4gbnVldm8gSElTVE9SSUFMIAogICAgZ2VuZXJhckluZm9ybWU6IGZ1bmN0aW9uIGdlbmVyYXJJbmZvcm1lKCkgewogICAgICB2YXIgX3RoaXM1ID0gdGhpczsKCiAgICAgIHZhciBkdCA9IHRoaXMuY29udmVydERhdGVNeXNxbChuZXcgRGF0ZSgpKTsKICAgICAgdmFyIHN1bWFTdG9jayA9IDA7CiAgICAgIHZhciBzdW1hID0gMDsKCiAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgdGhpcy5wcm9kdWN0b3MubGVuZ3RoOyBpKyspIHsKICAgICAgICBzdW1hU3RvY2sgPSBzdW1hU3RvY2sgKyB0aGlzLnByb2R1Y3Rvc1tpXS5zdG9jazsKICAgICAgICBzdW1hID0gc3VtYSArIHRoaXMucHJvZHVjdG9zW2ldLmNhbnRpZGFkOwogICAgICB9CgogICAgICBzd2FsLmZpcmUoewogICAgICAgIHRpdGxlOiAnwr9TZWd1cm8gcXVlIGRlc2VhIHJlYWxpemFyIGxhIGVudHJlZ3NhIGRlIEluc3Vtb3MgJyArIHRoaXMuZHVlw7FvICsgJz8nLAogICAgICAgIHR5cGU6ICd3YXJuaW5nJywKICAgICAgICBzaG93Q2FuY2VsQnV0dG9uOiB0cnVlLAogICAgICAgIGNvbmZpcm1CdXR0b25Db2xvcjogJyMzMDg1ZDYnLAogICAgICAgIGNhbmNlbEJ1dHRvbkNvbG9yOiAnI2QzMycsCiAgICAgICAgY2FuY2VsQnV0dG9uVGV4dDogJ0NhbmNlbGFyJywKICAgICAgICBjb25maXJtQnV0dG9uVGV4dDogJ8KhU2khJwogICAgICB9KS50aGVuKGZ1bmN0aW9uIChyZXN1bHQpIHsKICAgICAgICBpZiAocmVzdWx0LnZhbHVlKSB7CiAgICAgICAgICBpZiAoc3VtYVN0b2NrID4gMCAmJiBzdW1hID4gMCkgewogICAgICAgICAgICBfdGhpczUuYXhpb3MucG9zdCgnYXBpL2FncmVnYUhpc3RvcmlhbCcsIHsKICAgICAgICAgICAgICBmZWNoYTogZHQsCiAgICAgICAgICAgICAgbm9tRnVuY2lvbmFyaW86IF90aGlzNS5mdW5jaW9uYXJpbywKICAgICAgICAgICAgICBub21EZXBlbmRlbmNpYTogX3RoaXM1LmRlcGVuZGVuY2lhCiAgICAgICAgICAgIH0pLnRoZW4oZnVuY3Rpb24gKHJlcykgewogICAgICAgICAgICAgIGlmICghcmVzLmRhdGEuc3FsTWVzc2FnZSkgewogICAgICAgICAgICAgICAgX3RoaXM1Lkhpc3RvcmlhbFByb2R1Y3RvKCk7CgogICAgICAgICAgICAgICAgX3RoaXM1LnJlc3RhclN0b2NrKCk7CiAgICAgICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgICAgIFN3YWwuZmlyZSh7CiAgICAgICAgICAgICAgICAgIGljb246ICdlcnJvcicsCiAgICAgICAgICAgICAgICAgIHRpdGxlOiAnT29wcy4uLicsCiAgICAgICAgICAgICAgICAgIHRleHQ6ICdObyBzZSBoYSBsb2dyYWRvIGNyZWFyICcsCiAgICAgICAgICAgICAgICAgIGZvb3RlcjogJ0FsZ8O6biBkYXRvIGhhIHNpZG8gaW5jb3JyZWN0byB2ZXJpZmlxdWVsb3MnCiAgICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0pLmNhdGNoKGZ1bmN0aW9uIChlKSB7CiAgICAgICAgICAgICAgU3dhbC5maXJlKHsKICAgICAgICAgICAgICAgIGljb246ICdlcnJvcicsCiAgICAgICAgICAgICAgICB0aXRsZTogJ09vcHMuLi4nLAogICAgICAgICAgICAgICAgdGV4dDogJ05vIHNlIGhhIGxvZ3JhZG8gcmVnaXN0cmFyIGxhIGVudHJlZ2EgZGUgaW5zdW1vcycsCiAgICAgICAgICAgICAgICBmb290ZXI6ICdQb3NpYmxlIGVycm9yIGRlbCBzaXN0ZW1hJwogICAgICAgICAgICAgIH0pOwogICAgICAgICAgICB9KTsKICAgICAgICAgIH0gZWxzZSBpZiAoc3VtYVN0b2NrIDwgMCkgewogICAgICAgICAgICBfdGhpczUuYWxlcnRhKCdkYW5nZXInLCAnTm8gc2UgZW5jdWVudHJhIHN0b2NrIGRpc3BvbmlibGUnKTsKICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgIF90aGlzNS5hbGVydGEoJ2RhbmdlcicsICdObyBzZSBoYSBpbmdyZXNhZG8gbmluZ3VuYSBjYW50aWRhZCcpOwogICAgICAgICAgfQogICAgICAgIH0KICAgICAgfSk7CiAgICB9LAogICAgLy9SZWdpc3RyYSBsb3MgcHJvZHVjdG9zIGRlIGVzdGEgRU5UUkVHQSBERSBJTlNVTU9TIAogICAgSGlzdG9yaWFsUHJvZHVjdG86IGZ1bmN0aW9uIEhpc3RvcmlhbFByb2R1Y3RvKCkgewogICAgICBmb3IgKHZhciBpID0gMDsgaSA8IHRoaXMucHJvZHVjdG9zLmxlbmd0aDsgaSsrKSB7CiAgICAgICAgaWYgKHRoaXMucHJvZHVjdG9zW2ldLmNhbnRpZGFkID4gMCkgewogICAgICAgICAgdGhpcy5heGlvcy5wb3N0KCdhcGkvYWdyZWdhaGlzdFByb2QnLCB7CiAgICAgICAgICAgIGNhbnRpZGFkOiB0aGlzLnByb2R1Y3Rvc1tpXS5jYW50aWRhZCwKICAgICAgICAgICAgY29kaWdvQmFycmE6IHRoaXMucHJvZHVjdG9zW2ldLmNvZGlnb0JhcnJhCiAgICAgICAgICB9KS50aGVuKGZ1bmN0aW9uIChyZXMpIHsKICAgICAgICAgICAgaWYgKCFyZXMuZGF0YS5zcWxNZXNzYWdlKSB7CiAgICAgICAgICAgICAgU3dhbC5maXJlKCdTZSBoYSByZWdpc3RyYWRvIGxhIGVudHJlZ2EgZGUgaW5zdW1vcyBjb3JyZWN0YW1lbnRlJywgJ1NlbGVjY2lvbmUgT2sgcGFyYSBjb250aW51YXInLCAnc3VjY2VzcycpOwogICAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICAgIFN3YWwuZmlyZSh7CiAgICAgICAgICAgICAgICBpY29uOiAnZXJyb3InLAogICAgICAgICAgICAgICAgdGl0bGU6ICdPb3BzLi4uJywKICAgICAgICAgICAgICAgIHRleHQ6ICdObyBzZSBoYSBsb2dyYWRvIGNyZWFyICcsCiAgICAgICAgICAgICAgICBmb290ZXI6ICdBbGfDum4gZGF0byBoYSBzaWRvIGluY29ycmVjdG8gdmVyaWZpcXVlbG9zJwogICAgICAgICAgICAgIH0pOwogICAgICAgICAgICB9CiAgICAgICAgICB9KS5jYXRjaChmdW5jdGlvbiAoZSkgewogICAgICAgICAgICBTd2FsLmZpcmUoewogICAgICAgICAgICAgIGljb246ICdlcnJvcicsCiAgICAgICAgICAgICAgdGl0bGU6ICdPb3BzLi4uJywKICAgICAgICAgICAgICB0ZXh0OiAnTm8gc2UgaGEgbG9ncmFkbyByZWdpc3RyYXIgbGEgZW50cmVnYSBkZSBpbnN1bW9zJywKICAgICAgICAgICAgICBmb290ZXI6ICdQb3NpYmxlIGVycm9yIGRlbCBzaXN0ZW1hJwogICAgICAgICAgICB9KTsKICAgICAgICAgIH0pOwogICAgICAgIH0KICAgICAgfQogICAgfSwKICAgIC8vUmVzdGEgbG9zIHN0b2NrIGRlIGNhZGEgcHJvZHVjdG8KICAgIHJlc3RhclN0b2NrOiBmdW5jdGlvbiByZXN0YXJTdG9jaygpIHsKICAgICAgdmFyIF90aGlzNiA9IHRoaXM7CgogICAgICBmb3IgKHZhciBpID0gMDsgaSA8IHRoaXMucHJvZHVjdG9zLmxlbmd0aDsgaSsrKSB7CiAgICAgICAgaWYgKHRoaXMucHJvZHVjdG9zW2ldLmNhbnRpZGFkID4gMCkgewogICAgICAgICAgdGhpcy5heGlvcy5wdXQoImFwaS9hY3R1YWxpemFTdG9jay8iLmNvbmNhdCh0aGlzLnByb2R1Y3Rvc1tpXS5jb2RpZ29CYXJyYSksIHsKICAgICAgICAgICAgY2FudGlkYWQ6IHRoaXMucHJvZHVjdG9zW2ldLmNhbnRpZGFkCiAgICAgICAgICB9KS50aGVuKGZ1bmN0aW9uIChyZXMpIHsKICAgICAgICAgICAgX3RoaXM2LmFjdHVhbGl6YXJTdG9jaygpOwogICAgICAgICAgfSkuY2F0Y2goZnVuY3Rpb24gKGUpIHsKICAgICAgICAgICAgdmFyIG1lbnNhamUgPSAnUG9zaWJsZSBlcnJvciBkZWwgc2lzdGVtYSc7CiAgICAgICAgICAgIFN3YWwuZmlyZSh7CiAgICAgICAgICAgICAgaWNvbjogJ2Vycm9yJywKICAgICAgICAgICAgICB0aXRsZTogJ09vcHMuLi4nLAogICAgICAgICAgICAgIHRleHQ6ICdObyBzZSBoYSBsb2dyYWRvIHJlZ2lzdHJhciBsYSBlbnRyZWdhIGRlIGluc3Vtb3MnLAogICAgICAgICAgICAgIGZvb3RlcjogbWVuc2FqZQogICAgICAgICAgICB9KTsKICAgICAgICAgIH0pOwogICAgICAgIH0KICAgICAgfQogICAgfSwKICAgIC8vQWN0dWFsaXphIGxhIHBhZ2luYSB0cmFzIGdlbmVyYXIgdW5hIGVudHJlZ2EgZGUgaW5zdW1vcwogICAgYWN0dWFsaXphclN0b2NrOiBmdW5jdGlvbiBhY3R1YWxpemFyU3RvY2soKSB7CiAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgdGhpcy5wcm9kdWN0b3MubGVuZ3RoIC0gMTsgaSsrKSB7CiAgICAgICAgdGhpcy5jYW50aWRhZFByb2R1Y3Rvcy0tOwogICAgICAgIHRoaXMucHJvZHVjdG9zLnNwbGljZSgtMSk7CiAgICAgIH0KCiAgICAgIHRoaXMuY2FyZ2FyUHJvZHVjdG9zKHRydWUpOwogICAgfSwKICAgIC8vUGVybWl0ZSB2ZXIgbG9zIGRldGFsbGVzIGRlIHVuIHByb2R1Y3RvIHkgbG9zIGNhcmdhCiAgICBkZXRhbGxlczogZnVuY3Rpb24gZGV0YWxsZXMoaWQpIHsKICAgICAgdmFyIF90aGlzNyA9IHRoaXM7CgogICAgICB0aGlzLmF4aW9zLmdldCgiYXBpL29idGVuZXJQcm9kdWN0by8iLmNvbmNhdChpZCkpLnRoZW4oZnVuY3Rpb24gKHJlcykgewogICAgICAgIF90aGlzNy5jb2RpZ28gPSByZXMuZGF0YVswXS5jb2RpZ29CYXJyYTsKICAgICAgICBfdGhpczcucHJvZHVjdG8gPSByZXMuZGF0YVswXS5ub21Qcm9kdWN0bzsKICAgICAgICBfdGhpczcubWFyY2EgPSByZXMuZGF0YVswXS5tYXJjYTsKICAgICAgICBfdGhpczcuZGVzY3JpcGNpb24gPSByZXMuZGF0YVswXS5kZXNjcmlwY2lvbjsKICAgICAgfSkuY2F0Y2goZnVuY3Rpb24gKGUpIHsKICAgICAgICBTd2FsLmZpcmUoewogICAgICAgICAgaWNvbjogJ2Vycm9yJywKICAgICAgICAgIHRpdGxlOiAnT29wcy4uLicsCiAgICAgICAgICB0ZXh0OiAnTm8gc2UgaGEgbG9ncmFkbyBlbmNvbnRyYXIgbG9zIGRhdG9zIGRlbCBlcXVpcG8nLAogICAgICAgICAgZm9vdGVyOiAnUG9zaWJsZSBlcnJvciBkZWwgc2lzdGVtYScKICAgICAgICB9KTsKICAgICAgfSk7CiAgICB9LAogICAgLy9GdW5jaW9uZXMgZGUgbGEgYWxlcnRhCiAgICBjb3VudERvd25DaGFuZ2VkOiBmdW5jdGlvbiBjb3VudERvd25DaGFuZ2VkKGRpc21pc3NDb3VudERvd24pIHsKICAgICAgdGhpcy5kaXNtaXNzQ291bnREb3duID0gZGlzbWlzc0NvdW50RG93bjsKICAgIH0sCiAgICBzaG93QWxlcnQ6IGZ1bmN0aW9uIHNob3dBbGVydCgpIHsKICAgICAgdGhpcy5kaXNtaXNzQ291bnREb3duID0gdGhpcy5kaXNtaXNzU2VjczsKICAgIH0sCiAgICBhbGVydGE6IGZ1bmN0aW9uIGFsZXJ0YShjb2xvciwgdGV4dG8pIHsKICAgICAgdGhpcy5tZW5zYWplLmNvbG9yID0gY29sb3I7CiAgICAgIHRoaXMubWVuc2FqZS50ZXh0byA9IHRleHRvOwogICAgICB0aGlzLnNob3dBbGVydCgpOwogICAgfQogIH0KfTs="},{"version":3,"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA8FA;AACA;AACA;AACAA,iBADA;AAEAC;AACAC;AADA,GAFA;AAKAC,MALA,kBAKA;AACA;AACA;AACAC,0BAFA;AAGAC;AAAAC;AAAAC;AAAAC;AAAAC;AAAAC;AAAA,QAHA;AAIAC,eAJA;AAKAC,qBALA;AAMA;AACAC,sBAPA;AAQAC,qBARA;AASA;AACAC,sBAVA;AAWAC,qBAXA;AAYA;AACAC,oBAbA;AAcAC,yBAdA;AAeAC;AAAAC;AAAAC;AAAA,OAfA;AAgBA;AACAC,gBAjBA;AAkBAC,kBAlBA;AAmBAC,eAnBA;AAoBAC;AApBA;AAsBA,GA5BA;AA6BAC;AACA;AACAZ;AAAAa;AAAA;AAFA,GA7BA;AAiCAC,SAjCA,qBAiCA;AACA;AACA;AACA;AACA,GArCA;AAsCAC;AACA;AACAC,mBAFA,2BAEAC,OAFA,EAEA;AAAA;;AACA,kDACAC,IADA,CACA;AACA;;AACA;AACA;AACA;AACA;AACA;AACA,OARA,EASAC,KATA,CASA;AACA;AACA,OAXA;AAYA,KAfA;AAgBA;AACAC,sBAjBA,gCAiBA;AAAA;;AACA,gDACAF,IADA,CACA;AACA;AACA;AACA,OAJA,EAKAC,KALA,CAKA;AACA;AACA,OAPA;AAQA,KA1BA;AA2BA;AACAE,sBA5BA,gCA4BA;AAAA;;AACA,gDACAH,IADA,CACA;AACA;AACA;AACA,OAJA,EAKAC,KALA,CAKA;AACA;AACA,OAPA;AAQA,KArCA;AAsCA;AACAG,YAvCA,oBAuCA7B,WAvCA,EAuCA;AACA;AACA,KAzCA;AA0CA;AACA8B,kBA3CA,0BA2CA9B,WA3CA,EA2CAD,GA3CA,EA2CA;AACA;AAAA;AAAA;AACA;;AACA;AACA;AACA;AACAgC;AACA;AACA;AACA;;AACA;AACA;AAAA;AAAA;AACA;AAAA;AAAA;AACA;AACA;;AACA;AACA;AACA;AACA,OARA,MAQA;AACA;AAEA;AACA,KAjEA;AAkEA;AACA;AACAC,kBApEA,4BAoEA;AAAA;;AACA;AACA;AACA;AAAAjC;AAAAC;AAAAC;AAAAC;AAAA,SAHA,CAIA;;AACA;AACA;AAAA;AAAA,WADA,CAEA;;AACA;AACA+B;AACA,SAFA,MAEA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KA5FA;AA6FA;AACAC,kBA9FA,4BA8FA;AACA;AACA;AACA;AACA,OAHA,MAGA;AACA;AACA;AACA,KArGA;AAsGA;AACAC,WAvGA,mBAuGAnB,QAvGA,EAuGA;AACA;AAAA;AAAA;;AACA;AACA;AACA,OAFA,MAEA;AACA;AACA;AACA,KA9GA;AA+GAoB,oBA/GA,4BA+GAC,QA/GA,EA+GA;AACAA;AACA;AACAA;AACA;AACA,KApHA;AAqHA;AACAC,kBAtHA,4BAsHA;AAAA;;AACA;AACA;AACA;;AACA;AACAC;AACAC;AACA;;AACAC;AACAC,sFADA;AAEAC,uBAFA;AAGAC,8BAHA;AAIAC,qCAJA;AAKAC,iCALA;AAMAC,oCANA;AAOAC;AAPA,SAQAvB,IARA,CAQA;AACA;AACA;AACA;AAAAwB;AAAAC;AAAAC;AAAA,eACA1B,IADA,CACA;AACA;AACA;;AACA;AACA,eAHA,MAGA;AACA2B;AACAC,+BADA;AAEAX,kCAFA;AAGAY,iDAHA;AAIAC;AAJA;AAMA;AACA,aAbA,EAcA7B,KAdA,CAcA;AACA0B;AACAC,6BADA;AAEAX,gCAFA;AAGAY,wEAHA;AAIAC;AAJA;AAMA,aArBA;AAsBA,WAvBA,MAuBA;AACA;AACA,WAFA,MAEA;AACA;AACA;AACA;AACA,OAvCA;AAwCA,KAtKA;AAuKA;AACAC,qBAxKA,+BAwKA;AACA;AACA;AACA;AAAAvD;AAAAE;AAAA,aACAsB,IADA,CACA;AACA;AACA2B,wBACA,sDADA,EAEA,8BAFA,EAGA,SAHA;AAKA,aANA,MAMA;AACAA;AACAC,6BADA;AAEAX,gCAFA;AAGAY,+CAHA;AAIAC;AAJA;AAMA;AACA,WAhBA,EAiBA7B,KAjBA,CAiBA;AACA0B;AACAC,2BADA;AAEAX,8BAFA;AAGAY,sEAHA;AAIAC;AAJA;AAMA,WAxBA;AAyBA;AACA;AACA,KAtMA;AAuMA;AACAE,eAxMA,yBAwMA;AAAA;;AACA;AACA;AACA;AAAAxD;AAAA,aACAwB,IADA,CACA;AACA;AACA,WAHA,EAIAC,KAJA,CAIA;AACA;AACA0B;AACAC,2BADA;AAEAX,8BAFA;AAGAY,sEAHA;AAIAC;AAJA;AAMA,WAZA;AAaA;AACA;AACA,KA1NA;AA2NA;AACAG,mBA5NA,6BA4NA;AACA;AACA;AACA;AACA;;AACA;AACA,KAlOA;AAmOA;AACAC,YApOA,oBAoOAC,EApOA,EAoOA;AAAA;;AACA,wDACAnC,IADA,CACA;AACA;AACA;AACA;AACA;AACA,OANA,EAOAC,KAPA,CAOA;AACA0B;AACAC,uBADA;AAEAX,0BAFA;AAGAY,iEAHA;AAIAC;AAJA;AAMA,OAdA;AAeA,KApPA;AAqPA;AACAM,oBAtPA,4BAsPAlD,gBAtPA,EAsPA;AACA;AACA,KAxPA;AAyPAmD,aAzPA,uBAyPA;AACA;AACA,KA3PA;AA4PAC,UA5PA,kBA4PAlD,KA5PA,EA4PAC,KA5PA,EA4PA;AACA;AACA;AACA;AACA;AAhQA;AAtCA","names":["name","components","navbar","data","cantidadProductos","productos","key","nomProducto","cantidad","stock","codigoBarra","prods","productoAnt","dependencias","dependencia","funcionarios","funcionario","dismissSecs","dismissCountDown","mensaje","color","texto","codigo","producto","marca","descripcion","validations","required","created","methods","cargarProductos","primera","then","catch","cargarDependencias","cargarFuncionarios","anterior","cambioProducto","repetido","agregaProducto","a","quitarProducto","cantMin","convertDateMysql","yourDate","generarInforme","sumaStock","suma","swal","title","type","showCancelButton","confirmButtonColor","cancelButtonColor","cancelButtonText","confirmButtonText","fecha","nomFuncionario","nomDependencia","Swal","icon","text","footer","HistorialProducto","restarStock","actualizarStock","detalles","id","countDownChanged","showAlert","alerta"],"sourceRoot":"src/views","sources":["insumos.vue"],"sourcesContent":["<template>\r\n    <div class=\"menu\">\r\n        <navbar />\r\n        <transition name=\"slide-fade\">\r\n            <b-container><br>\r\n                <h1 class=\"mt-2\">Entrega de Insumos</h1>\r\n                <b-alert\r\n                :show=\"dismissCountDown\"\r\n                dismissible\r\n                :variant=\"mensaje.color\"\r\n                @dismissed=\"dismissCountDown=0\"\r\n                @dismiss-count-down=\"countDownChanged\"\r\n                >\r\n                {{mensaje.texto}}\r\n                </b-alert>\r\n                <div class=\" card mt-4\">\r\n                    <div class=\"card-header\">\r\n                        <h2>Determine que productos serán enviados a la Dependencia</h2>\r\n                    </div>\r\n                    <div class=\"card-body\">\r\n                        <b-row class=\"mt-2\">\r\n                            <b-col cols=\"12\" md=\"4\">\r\n                                <label for=\"exampleInputEmail1\" class=\"form-label\">Dependencia</label>\r\n                                <select class=\"form-control\" v-model=\"$v.dependencia.$model\">\r\n                                    <option v-for=\"i in dependencias\" :key=\"i.nomDependencia\" :value=\"i.nomDependencia\">{{i.nomDependencia}}</option>\r\n                                </select>\r\n                            </b-col>\r\n                            <b-col cols=\"12\" md=\"4\">\r\n                                <label for=\"exampleInputEmail1\" class=\"form-label\">Funcionario</label>\r\n                                <select class=\"form-control\" v-model=\"funcionario\">\r\n                                    <option v-for=\"i in funcionarios\" :key=\"i.nomFuncionario\" :value=\"i.nomFuncionario\">{{i.nomFuncionario}}</option>\r\n                                </select>\r\n                            </b-col>\r\n                            <b-col cols=\"12\" md=\"2\">\r\n                                <b-button @click=\"agregaProducto()\" variant=\"primary\" class=\"btn-primary btn boton\">Agregar Producto</b-button>\r\n                            </b-col>\r\n                            <b-col cols=\"12\" md=\"2\">\r\n                                <b-button @click=\"quitarProducto()\" class=\"btn-danger btn boton\">Quitar Producto</b-button>\r\n                            </b-col>\r\n                        </b-row>\r\n                        <b-row class=\"mt-2\" v-for=\"i in productos\" :key=\"i.key\">\r\n                            <b-col cols=\"12\" md=\"4\">\r\n                                <label for=\"exampleInputEmail1\" class=\"form-label\">Producto</label>\r\n                                <select class=\"form-control\" @click=\"anterior(i.nomProducto)\" @change=\"cambioProducto(i.nomProducto, i.key)\" v-model=\"i.nomProducto\">\r\n                                    <option v-for=\"i in prods\" :key=\"i.nomProducto\" :value=\"i.nomProducto\">{{i.nomProducto}}</option>\r\n                                </select>\r\n                            </b-col>\r\n                            <b-col cols=\"12\" md=\"3\">\r\n                                <label for=\"exampleInputEmail1\" class=\"form-label\">Cantidad ha agregar</label>\r\n                                <input type=\"number\" @change=\"cantMin(i.key)\" min=\"1\" class=\"form-control\" aria-describedby=\"emailHelp\" v-model=\"i.cantidad\">\r\n                            </b-col>\r\n                            <b-col cols=\"12\" md=\"3\">\r\n                                <label for=\"exampleInputEmail1\" class=\"form-label\">Stock Actual</label>\r\n                                <input disabled type=\"number\" class=\"form-control\" aria-describedby=\"emailHelp\" v-model=\"i.stock\">\r\n                            </b-col>\r\n                            <b-col cols=\"12\" md=\"2\">\r\n                                <b-button @click=\"detalles(i.codigoBarra)\" v-b-modal.modal-1 class=\"btn-success boton\">Detalles Producto</b-button>\r\n                            </b-col>\r\n                        </b-row>\r\n                        <b-row>\r\n                            <b-button @click=\"generarInforme()\" class=\"btn-success btn boton mt-5\">Generar Informe</b-button>\r\n                        </b-row>\r\n                    </div>\r\n                </div>\r\n                <b-modal id=\"modal-1\" title=\"Detalles del Producto\">\r\n                    <div class=\"card-body\">\r\n                            <b-row class=\"mt-2\">\r\n                                <b-col cols=\"12\" md=\"4\">\r\n                                    <label for=\"exampleInputEmail1\" class=\"form-label\">Codigo de Barras</label>\r\n                                    <input disabled type=\"text\" class=\"form-control\" aria-describedby=\"emailHelp\" v-model=\"codigo\">\r\n                                </b-col>\r\n                                <b-col cols=\"12\" md=\"4\">\r\n                                    <label for=\"exampleInputEmail1\" class=\"form-label\">Nombre</label>\r\n                                    <input disabled type=\"text\" class=\"form-control\" aria-describedby=\"emailHelp\" v-model=\"producto\">\r\n                                </b-col>\r\n                                <b-col cols=\"12\" md=\"4\">\r\n                                    <label for=\"exampleInputEmail1\" class=\"form-label\">Marca</label>\r\n                                    <input disabled type=\"text\" class=\"form-control\" aria-describedby=\"emailHelp\" v-model=\"marca\">\r\n                                </b-col>\r\n                            </b-row>\r\n                            <b-row class=\"mt-4\">\r\n                                <b-col cols=\"12\" md=\"12\">\r\n                                    <label for=\"exampleInputEmail1\" class=\"form-label\">Descripcion</label>\r\n                                    <textarea disabled type=\"text\" class=\"form-control\" id=\"exampleInputEmail1\" aria-describedby=\"emailHelp\" v-model=\"descripcion\"></textarea>\r\n                                </b-col>\r\n                            </b-row>\r\n                        </div>\r\n                </b-modal>\r\n            </b-container>\r\n        </transition>\r\n    </div>\r\n</template>\r\n\r\n<script>\r\nimport navbar from \"../components/navbar.vue\";\r\nimport { required, minLength} from \"vuelidate/lib/validators\";\r\nexport default {\r\n    name: \"insumos\",\r\n    components: {\r\n        navbar,\r\n    },\r\n     data() {\r\n      return {\r\n        //Datos para agregar un nuevo memo (historial) con v-model\r\n        cantidadProductos: 1,\r\n        productos: [{key: 1, nomProducto: '', cantidad: 0, stock: 0, codigoBarra: ''}],\r\n        prods: [],\r\n        productoAnt: '',\r\n        //Variable para las dependencias \r\n        dependencias: [],\r\n        dependencia: '',\r\n        //Variables para indicar al funcionario\r\n        funcionarios: [],\r\n        funcionario: '',\r\n        //Variables de las alertas\r\n        dismissSecs: 5,\r\n        dismissCountDown: 0,\r\n        mensaje: {color: '', texto: ''},\r\n        //VARIABLES DE DETALLES\r\n        codigo: '',\r\n        producto: '',\r\n        marca: '',\r\n        descripcion: '',\r\n      }\r\n    },\r\n    validations:{\r\n      //Validaciones de los input\r\n      dependencia: {required}\r\n    },\r\n    created(){\r\n        this.cargarProductos(true);\r\n        this.cargarDependencias();\r\n        this.cargarFuncionarios();\r\n    },\r\n    methods:{\r\n        //Metodo que Carga todos los productos del sistema\r\n        cargarProductos(primera){\r\n            this.axios.get('api/obtenerProductosSolos')\r\n            .then(res => {\r\n                this.prods = res.data;\r\n                if(primera){\r\n                    this.productos[0].nomProducto = this.prods[0].nomProducto\r\n                    this.productos[0].stock = this.prods[0].stock\r\n                    this.productos[0].codigoBarra = this.prods[0].codigoBarra\r\n                }\r\n            })\r\n            .catch(e => {\r\n                this.alerta('danger', 'No se han podido cargar los Productos');\r\n            })\r\n        },\r\n        //Función que se encargar de cargar las dependencias\r\n        cargarDependencias(){\r\n            this.axios.get('api/obtenerDependencias')\r\n            .then(res => {\r\n                this.dependencias = res.data;\r\n                this.dependencia = this.dependencias[0].nomDependencia;\r\n            })\r\n            .catch(e => {\r\n                this.alerta('danger', 'No se han podido cargar las Dependencias');\r\n            })\r\n        },\r\n        //Función que se encargar de cargar las dependencias\r\n        cargarFuncionarios(){\r\n            this.axios.get('api/obtenerFuncionarios')\r\n            .then(res => {\r\n                this.funcionarios = res.data;\r\n                this.funcionario = this.funcionarios[0].nomFuncionario;\r\n            })\r\n            .catch(e => {\r\n                this.alerta('danger', 'No se han podido cargar los Funcionarios');\r\n            })\r\n        },\r\n        //Función que te permite guardar el valor anterior del select\r\n        anterior(nomProducto){\r\n            this.productoAnt = nomProducto\r\n        },\r\n        //Si se cambia un producto se debe buscar su stock\r\n        cambioProducto(nomProducto, key){\r\n            const indexActual = this.productos.findIndex(item => item.key == key);\r\n            var repetido = false;\r\n            for(var i = 0; i<this.productos.length; i++){\r\n                if(i != indexActual){\r\n                    if(this.productos[i].nomProducto === this.productos[indexActual].nomProducto){\r\n                        repetido = true;\r\n                    }\r\n                }\r\n            }\r\n            if(!repetido){\r\n                const index = this.prods.findIndex(item => item.nomProducto == nomProducto);\r\n                const index2 = this.productos.findIndex(item => item.key == key);\r\n                this.productos[index2].stock = this.prods[index].stock\r\n                this.productos[index2].codigoBarra = this.prods[index].codigoBarra\r\n                if(this.productos[index2].cantidad > this.productos[index2].stock){\r\n                    this.productos[index2].cantidad = this.productos[index2].stock;\r\n                }\r\n            }else{\r\n                this.productos[indexActual].nomProducto = this.productoAnt\r\n                \r\n            }\r\n        },\r\n        //Se agrega un nuevo posible producto\r\n        //ADEMAS debe revisar si los valores anteriores estan repetidos\r\n        agregaProducto(){\r\n            this.cantidadProductos++\r\n            var a = 0;\r\n            this.productos.push({key: this.cantidadProductos, nomProducto: '', cantidad: 0, stock: 0});\r\n            //Busca si un producto ya existe en en alguno de los select habilitados \r\n            while(a < this.prods.length){\r\n                const index = this.productos.findIndex(item => item.nomProducto == this.prods[a].nomProducto);\r\n                //Si lo encuentra pasa al siguiente producto\r\n                if(index != -1){\r\n                    a++;\r\n                }else{ //Si el valor retornado es -1 significa que el producto ya existe, por lo tanto debe seguir buscando\r\n                    this.productos[this.productos.length-1].nomProducto = this.prods[a].nomProducto\r\n                    this.productos[this.productos.length-1].stock = this.prods[a].stock\r\n                    this.productos[this.productos.length-1].codigoBarra = this.prods[a].codigoBarra\r\n                    this.productos[this.productos.length-1].key = this.cantidadProductos\r\n                    break;\r\n                }\r\n                if(a == this.prods.length){\r\n                    this.cantidadProductos--;\r\n                    this.productos.splice(-1);\r\n                    this.alerta('danger','No existen mas productos para agregar')\r\n                    break;\r\n                }\r\n            } \r\n        },\r\n        //Se quita un Producto de los que serán agregados al sistema\r\n        quitarProducto(){\r\n            if(this.productos.length > 1){\r\n                this.cantidadProductos--;\r\n                this.productos.splice(-1);\r\n            }else{\r\n                this.alerta('danger', 'Tiene que existir al menos 1 producto');\r\n            }\r\n        },\r\n        //Indicamos el minimo de cantidad para que no este vacio o sea menor a 0\r\n        cantMin(producto){\r\n            const index = this.productos.findIndex(item => item.key == producto);\r\n            if(this.productos[index].cantidad < 1){\r\n                this.productos[index].cantidad = 1;\r\n            } else if(this.productos[index].cantidad > this.productos[index].stock){\r\n                this.productos[index].cantidad = this.productos[index].stock;\r\n            }\r\n        },\r\n        convertDateMysql(yourDate){\r\n            yourDate.toISOString().split('T')[0]\r\n            const offset = yourDate.getTimezoneOffset()\r\n            yourDate = new Date(yourDate.getTime() - (offset*60*1000))\r\n            return yourDate.toISOString().split('T')[0]\r\n\t\t},\r\n        //Función que permite generar un informe y enviar los datos de un nuevo HISTORIAL \r\n        generarInforme(){\r\n            var dt = this.convertDateMysql(new Date())\r\n            var sumaStock = 0;\r\n            var suma = 0;\r\n            for(var i = 0; i < this.productos.length; i++){\r\n                sumaStock = sumaStock + this.productos[i].stock\r\n                suma = suma + this.productos[i].cantidad\r\n            }\r\n            swal.fire({\r\n            title: '¿Seguro que desea realizar la entregsa de Insumos ' + this.dueño + '?',\r\n            type: 'warning',\r\n            showCancelButton: true,\r\n            confirmButtonColor: '#3085d6',\r\n            cancelButtonColor: '#d33',\r\n            cancelButtonText: 'Cancelar',\r\n            confirmButtonText: '¡Si!'\r\n            }).then((result) => {\r\n                if (result.value) {\r\n                    if(sumaStock > 0 && suma > 0 ){\r\n                        this.axios.post('api/agregaHistorial', {fecha: dt, nomFuncionario: this.funcionario, nomDependencia: this.dependencia})\r\n                        .then(res => {\r\n                        if(!res.data.sqlMessage){\r\n                            this.HistorialProducto();\r\n                            this.restarStock();\r\n                        }else{\r\n                            Swal.fire({\r\n                            icon: 'error',\r\n                            title: 'Oops...',\r\n                            text: 'No se ha logrado crear ',\r\n                            footer: 'Algún dato ha sido incorrecto verifiquelos'\r\n                            })\r\n                        }\r\n                        })\r\n                        .catch(e => {\r\n                        Swal.fire({\r\n                            icon: 'error',\r\n                            title: 'Oops...',\r\n                            text: 'No se ha logrado registrar la entrega de insumos',\r\n                            footer: 'Posible error del sistema'\r\n                        })\r\n                        }) \r\n                    }else if(sumaStock < 0){\r\n                        this.alerta('danger', 'No se encuentra stock disponible')\r\n                    }else{\r\n                        this.alerta('danger', 'No se ha ingresado ninguna cantidad')\r\n                    }\r\n                }\r\n            })\r\n        },\r\n        //Registra los productos de esta ENTREGA DE INSUMOS \r\n        HistorialProducto(){\r\n            for(var i = 0; i<this.productos.length; i++){\r\n                if(this.productos[i].cantidad > 0){\r\n                    this.axios.post('api/agregahistProd', {cantidad: this.productos[i].cantidad, codigoBarra: this.productos[i].codigoBarra})\r\n                        .then(res => {\r\n                        if(!res.data.sqlMessage){\r\n                            Swal.fire(\r\n                            'Se ha registrado la entrega de insumos correctamente',\r\n                            'Seleccione Ok para continuar',\r\n                            'success'\r\n                            )\r\n                        }else{\r\n                            Swal.fire({\r\n                            icon: 'error',\r\n                            title: 'Oops...',\r\n                            text: 'No se ha logrado crear ',\r\n                            footer: 'Algún dato ha sido incorrecto verifiquelos'\r\n                            })\r\n                        }\r\n                        })\r\n                        .catch(e => {\r\n                        Swal.fire({\r\n                            icon: 'error',\r\n                            title: 'Oops...',\r\n                            text: 'No se ha logrado registrar la entrega de insumos',\r\n                            footer: 'Posible error del sistema'\r\n                        })\r\n                        })\r\n                }\r\n            }\r\n        },\r\n        //Resta los stock de cada producto\r\n        restarStock(){\r\n            for(var i = 0; i<this.productos.length; i++){\r\n                if(this.productos[i].cantidad > 0){\r\n                    this.axios.put(`api/actualizaStock/${this.productos[i].codigoBarra}`, {cantidad: this.productos[i].cantidad})\r\n                        .then(res => {\r\n                            this.actualizarStock();\r\n                        })\r\n                        .catch(e => {\r\n                            var mensaje = 'Posible error del sistema';\r\n                            Swal.fire({\r\n                            icon: 'error',\r\n                            title: 'Oops...',\r\n                            text: 'No se ha logrado registrar la entrega de insumos',\r\n                            footer: mensaje\r\n                            })\r\n                        })\r\n                }\r\n            }\r\n        },\r\n        //Actualiza la pagina tras generar una entrega de insumos\r\n        actualizarStock(){\r\n            for(var i = 0; i<this.productos.length-1; i++){\r\n                this.cantidadProductos--;\r\n                this.productos.splice(-1);\r\n            }\r\n            this.cargarProductos(true);\r\n        },\r\n        //Permite ver los detalles de un producto y los carga\r\n        detalles(id){\r\n            this.axios.get(`api/obtenerProducto/${id}`)\r\n                .then(res => {\r\n                    this.codigo = res.data[0].codigoBarra;\r\n                    this.producto = res.data[0].nomProducto;\r\n                    this.marca = res.data[0].marca;\r\n                    this.descripcion = res.data[0].descripcion\r\n                })\r\n                .catch(e => {\r\n                    Swal.fire({\r\n                    icon: 'error',\r\n                    title: 'Oops...',\r\n                    text: 'No se ha logrado encontrar los datos del equipo',\r\n                    footer: 'Posible error del sistema'\r\n                    })\r\n                })\r\n        },\r\n        //Funciones de la alerta\r\n        countDownChanged(dismissCountDown) {\r\n            this.dismissCountDown = dismissCountDown\r\n        },\r\n        showAlert() {\r\n            this.dismissCountDown = this.dismissSecs\r\n        },\r\n        alerta(color, texto){\r\n            this.mensaje.color = color;\r\n            this.mensaje.texto = texto;\r\n            this.showAlert();\r\n        },\r\n    },\r\n}\r\n</script>\r\n\r\n<style>\r\n    body{\r\n        background-color: #eee;\r\n    }\r\n\r\n    .texto{\r\n        text-align: center;\r\n    }\r\n\r\n    .imagen{\r\n        width: 50%;\r\n    }\r\n\r\n    .boton{\r\n        margin: 20px;\r\n        width: 90%;\r\n        border-radius: 12px !important;\r\n        border-color: black !important;\r\n    }\r\n\r\n    /* Las animaciones de entrada y salida pueden usar */\r\n    /* funciones de espera y duración diferentes.      */\r\n    .slide-fade-enter-active {\r\n    transition: all .3s ease;\r\n    }\r\n    .slide-fade-leave-active {\r\n    transition: all .8s cubic-bezier(1.0, 0.5, 0.8, 1.0);\r\n    }\r\n    .slide-fade-enter, .slide-fade-leave-to\r\n    /* .slide-fade-leave-active below version 2.1.8 */ {\r\n    transform: translateX(10px);\r\n    opacity: 0;\r\n    }\r\n</style>"]}]}