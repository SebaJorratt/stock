{"remainingRequest":"D:\\inventarioInformatico\\stock\\stock\\node_modules\\babel-loader\\lib\\index.js!D:\\inventarioInformatico\\stock\\stock\\node_modules\\cache-loader\\dist\\cjs.js??ref--1-0!D:\\inventarioInformatico\\stock\\stock\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!D:\\inventarioInformatico\\stock\\stock\\src\\views\\bodegas.vue?vue&type=script&lang=js&","dependencies":[{"path":"D:\\inventarioInformatico\\stock\\stock\\src\\views\\bodegas.vue","mtime":1648831504576},{"path":"D:\\inventarioInformatico\\stock\\stock\\babel.config.js","mtime":1645539073406},{"path":"D:\\inventarioInformatico\\stock\\stock\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1647002043141},{"path":"D:\\inventarioInformatico\\stock\\stock\\node_modules\\babel-loader\\lib\\index.js","mtime":1645539058368},{"path":"D:\\inventarioInformatico\\stock\\stock\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1647002043141},{"path":"D:\\inventarioInformatico\\stock\\stock\\node_modules\\vue-loader\\lib\\index.js","mtime":1645539059241}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IF9hc3luY1RvR2VuZXJhdG9yIGZyb20gIkQ6L2ludmVudGFyaW9JbmZvcm1hdGljby9zdG9jay9zdG9jay9ub2RlX21vZHVsZXMvQGJhYmVsL3J1bnRpbWUvaGVscGVycy9lc20vYXN5bmNUb0dlbmVyYXRvci5qcyI7CmltcG9ydCBfb2JqZWN0U3ByZWFkIGZyb20gIkQ6L2ludmVudGFyaW9JbmZvcm1hdGljby9zdG9jay9zdG9jay9ub2RlX21vZHVsZXMvQGJhYmVsL3J1bnRpbWUvaGVscGVycy9lc20vb2JqZWN0U3ByZWFkMi5qcyI7CmltcG9ydCAicmVnZW5lcmF0b3ItcnVudGltZS9ydW50aW1lLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkubWFwLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuc3BsaWNlLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuZmluZC1pbmRleC5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLnJlZ2V4cC5leGVjLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuc3RyaW5nLnNwbGl0LmpzIjsKLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KaW1wb3J0IG5hdmJhciBmcm9tICIuLi9jb21wb25lbnRzL25hdmJhci52dWUiOwppbXBvcnQgeyByZXF1aXJlZCwgbWluTGVuZ3RoIH0gZnJvbSAidnVlbGlkYXRlL2xpYi92YWxpZGF0b3JzIjsKaW1wb3J0ICdqcXVlcnkvZGlzdC9qcXVlcnkubWluLmpzJzsKaW1wb3J0ICdib290c3RyYXAvZGlzdC9jc3MvYm9vdHN0cmFwLm1pbi5jc3MnOwppbXBvcnQgImRhdGF0YWJsZXMubmV0LWR0L2pzL2RhdGFUYWJsZXMuZGF0YVRhYmxlcyI7CmltcG9ydCAiZGF0YXRhYmxlcy5uZXQtZHQvY3NzL2pxdWVyeS5kYXRhVGFibGVzLm1pbi5jc3MiOwppbXBvcnQgJCBmcm9tICdqcXVlcnknOwppbXBvcnQgeyBtYXBTdGF0ZSB9IGZyb20gJ3Z1ZXgnOyAvL0VYQ0VMIGVYcG9ydGFjacOzbgoKaW1wb3J0ICogYXMgWExTWCBmcm9tICd4bHN4L3hsc3gubWpzJzsKLyogbG9hZCAnZnMnIGZvciByZWFkRmlsZSBhbmQgd3JpdGVGaWxlIHN1cHBvcnQgKi8KCmltcG9ydCAqIGFzIGZzIGZyb20gJ2ZzJzsKWExTWC5zZXRfZnMoZnMpOwovKiBsb2FkIHRoZSBjb2RlcGFnZSBzdXBwb3J0IGxpYnJhcnkgZm9yIGV4dGVuZGVkIHN1cHBvcnQgd2l0aCBvbGRlciBmb3JtYXRzICAqLwoKaW1wb3J0ICogYXMgY3BleGNlbCBmcm9tICd4bHN4L2Rpc3QvY3BleGNlbC5mdWxsLm1qcyc7ClhMU1guc2V0X2NwdGFibGUoY3BleGNlbCk7CmV4cG9ydCBkZWZhdWx0IHsKICBuYW1lOiAiYWJvdXQiLAogIGNvbXBvbmVudHM6IHsKICAgIG5hdmJhcjogbmF2YmFyCiAgfSwKICBkYXRhOiBmdW5jdGlvbiBkYXRhKCkgewogICAgcmV0dXJuIHsKICAgICAgLy9EYXRvcyBwYXJhIGFncmVnYXIgdW4gbnVldm8gbWVtbyAoaGlzdG9yaWFsKSBjb24gdi1tb2RlbAogICAgICBwZXN0YcOxYTogJ2JvZGVnYXMnLAogICAgICBhZ3JlZ2FyOiAnbm8nLAogICAgICBib2RlZ2FzOiBbXSwKICAgICAgb3JkZW5lczogW10sCiAgICAgIGRldGFsbGVPcmRlbjogW10sCiAgICAgIGVudmlhcjogW10sCiAgICAgIGltYWdlbmVzOiBbXSwKICAgICAgLy9WYXJpYWJsZXMgZGVsIEFHUkVHQVIKICAgICAgbnVldmFCb2RlZ2E6ICcnLAogICAgICAvL1ZhcmlhYmxlIHBhcmEgcmVjb25vY2VyIHVuYSBib2RlZ2EKICAgICAgbm9tQm9kZWdhOiAnJywKICAgICAgLy9EYXRvcyBwYXJhIGFncmVnYXIgdW5hIG51ZXZhIE9yZGVuIGRlIENvbXByYSBjb24gdi1tb2RlbAogICAgICBib2RlZ2FDcmVhcjogJycsCiAgICAgIHByb3ZlZWRvcjogJycsCiAgICAgIG51ZXZhT3JkZW46ICcnLAogICAgICBjYW50aWRhZFByb2R1Y3RvczogMSwKICAgICAgcHJvZHVjdG9zOiBbewogICAgICAgIGtleTogMSwKICAgICAgICBub21Qcm9kdWN0bzogJycsCiAgICAgICAgY2FudGlkYWQ6IDAsCiAgICAgICAgc3RvY2s6IDAsCiAgICAgICAgc3RvY2tDcml0aWNvOiAwLAogICAgICAgIGNvZGlnb0JhcnJhOiAnJywKICAgICAgICBjb2RCYXI6ICcnLAogICAgICAgIG1hcmNhOiAnJwogICAgICB9XSwKICAgICAgcHJvZHM6IFtdLAogICAgICBwcm9kdWN0b0FudDogJycsCiAgICAgIC8vVkFSSUFCTEVTIERFIERFVEFMTEVTCiAgICAgIGNvZGlnbzogJycsCiAgICAgIHByb2R1Y3RvOiAnJywKICAgICAgbWFyY2E6ICcnLAogICAgICBkZXNjcmlwY2lvbjogJycsCiAgICAgIGltYWdlbjogbnVsbCwKICAgICAgaW1hZ2VuRGlyOiAnJywKICAgICAgLy9WQVJJQUJMRVMgUEFSQSBBR1JFR0FSIFVOIE5VRVZPIFBST0RVQ1RPCiAgICAgIHByb2R1Y3RvQUdSRUdBRE86ICcnLAogICAgICBub21icmVQcm9kdWN0b0FHUkVHQURPOiAnJywKICAgICAgc3RvY2tBR1JFR0FETzogJycsCiAgICAgIHN0b2NrQ3JpdGljb0FHUkVHQURPOiAnJywKICAgICAgcHJvZHVjdG9zQUdSRUdBUjogW10sCiAgICAgIGNvZGlnb0FHUkVHQVI6ICcnLAogICAgICAvL1ZhcmlhYmxlcyBkZSBsYXMgYWxlcnRhcwogICAgICBkaXNtaXNzU2VjczogNSwKICAgICAgZGlzbWlzc0NvdW50RG93bjogMCwKICAgICAgbWVuc2FqZTogewogICAgICAgIGNvbG9yOiAnJywKICAgICAgICB0ZXh0bzogJycKICAgICAgfQogICAgfTsKICB9LAogIHZhbGlkYXRpb25zOiB7CiAgICAvL1ZhbGlkYWNpb25lcyBkZSBsb3MgaW5wdXQKICAgIG51ZXZhQm9kZWdhOiB7CiAgICAgIHJlcXVpcmVkOiByZXF1aXJlZAogICAgfSwKICAgIHByb3ZlZWRvcjogewogICAgICByZXF1aXJlZDogcmVxdWlyZWQKICAgIH0sCiAgICBudWV2YU9yZGVuOiB7CiAgICAgIHJlcXVpcmVkOiByZXF1aXJlZAogICAgfSwKICAgIHN0b2NrQUdSRUdBRE86IHsKICAgICAgcmVxdWlyZWQ6IHJlcXVpcmVkCiAgICB9LAogICAgc3RvY2tDcml0aWNvQUdSRUdBRE86IHsKICAgICAgcmVxdWlyZWQ6IHJlcXVpcmVkCiAgICB9LAogICAgbm9tYnJlUHJvZHVjdG9BR1JFR0FETzogewogICAgICByZXF1aXJlZDogcmVxdWlyZWQKICAgIH0KICB9LAogIGNvbXB1dGVkOiBfb2JqZWN0U3ByZWFkKHt9LCBtYXBTdGF0ZShbJ3Rva2VuJywgJ3VzdWFyaW9EQiddKSksCiAgY3JlYXRlZDogZnVuY3Rpb24gY3JlYXRlZCgpIHsKICAgIHRoaXMuY2FyZ2FyQm9kZWdhcygpOwogICAgdGhpcy5vYnRlbmVySW1hZ2VuZXMoKTsKICB9LAogIG1ldGhvZHM6IHsKICAgIC8vRnVuY2nDs24gcXVlIHBlcm1pdGUgZXhwb3J0YXIgbGFzIHRhYmxhcyBlbiBleGNlbAogICAgZXhwb3J0YXI6IGZ1bmN0aW9uIGV4cG9ydGFyKG51bSkgewogICAgICB2YXIgZGF0YSA9IFtdOwogICAgICB2YXIgZmlsZW5hbWUgPSAicGxhbmlsbGEiOwoKICAgICAgaWYgKG51bSA9PT0gMSkgewogICAgICAgIHZhciBhcnJlZ2xhZG8gPSB0aGlzLmVudmlhci5tYXAoZnVuY3Rpb24gKGl0ZW0pIHsKICAgICAgICAgIHJldHVybiB7CiAgICAgICAgICAgIENvZGlnb0JhcnJhOiBpdGVtLmNvZGlnb0JhcnJhLAogICAgICAgICAgICBQcm9kdWN0bzogaXRlbS5ub21Qcm9kdWN0bywKICAgICAgICAgICAgU3RvY2s6IGl0ZW0uc3RvY2ssCiAgICAgICAgICAgIFN0b2NrQm9kZWdhOiBpdGVtLnN0b2NrQm9kZWdhLAogICAgICAgICAgICBDYW50aWRhZDogaXRlbS5jYW50aWRhZCwKICAgICAgICAgICAgc3RvY2tDcml0aWNvOiBpdGVtLnN0b2NrQ3JpdGljbwogICAgICAgICAgfTsKICAgICAgICB9KTsKICAgICAgICBkYXRhID0gWExTWC51dGlscy5qc29uX3RvX3NoZWV0KGFycmVnbGFkbyk7CiAgICAgICAgZmlsZW5hbWUgPSAnUHJvZHVjdG9zJzsKICAgICAgfSBlbHNlIGlmIChudW0gPT09IDIpIHsKICAgICAgICB2YXIgYXJyZWdsYWRvID0gdGhpcy5vcmRlbmVzLm1hcChmdW5jdGlvbiAoaXRlbSkgewogICAgICAgICAgcmV0dXJuIHsKICAgICAgICAgICAgQ8OzZGlnbzogaXRlbS5jb2RPcmRlbiwKICAgICAgICAgICAgQm9kZWdhOiBpdGVtLm5vbUJvZGVnYSwKICAgICAgICAgICAgUHJvdmVlZG9yOiBpdGVtLnByb3ZlZWRvciwKICAgICAgICAgICAgRmVjaGE6IGl0ZW0uZmVjaGEKICAgICAgICAgIH07CiAgICAgICAgfSk7CiAgICAgICAgZGF0YSA9IFhMU1gudXRpbHMuanNvbl90b19zaGVldChhcnJlZ2xhZG8pOwoKICAgICAgICBpZiAoYXJyZWdsYWRvWzBdKSB7CiAgICAgICAgICBmaWxlbmFtZSA9ICdPcmRlbmVzJyArIHRoaXMubm9tQm9kZWdhOwogICAgICAgIH0gZWxzZSB7CiAgICAgICAgICBmaWxlbmFtZSA9ICdPcmRlbmVzJzsKICAgICAgICB9CiAgICAgIH0gZWxzZSBpZiAobnVtID09PSAzKSB7CiAgICAgICAgdmFyIGFycmVnbGFkbyA9IHRoaXMuZGV0YWxsZU9yZGVuLm1hcChmdW5jdGlvbiAoaXRlbSkgewogICAgICAgICAgcmV0dXJuIHsKICAgICAgICAgICAgUHJvZHVjdG86IGl0ZW0ubm9tUHJvZHVjdG8sCiAgICAgICAgICAgIENvZGlnb0JhcnJhOiBpdGVtLmNvZGlnb0JhcnJhLAogICAgICAgICAgICBDYW50aWRhZDogaXRlbS5jYW50aWRhZAogICAgICAgICAgfTsKICAgICAgICB9KTsKICAgICAgICBkYXRhID0gWExTWC51dGlscy5qc29uX3RvX3NoZWV0KGFycmVnbGFkbyk7CiAgICAgICAgZmlsZW5hbWUgPSAnT3JkZW4nICsgdGhpcy5oaXN0bzsKICAgICAgfQoKICAgICAgdmFyIHdvcmtib29rID0gWExTWC51dGlscy5ib29rX25ldygpOwogICAgICBYTFNYLnV0aWxzLmJvb2tfYXBwZW5kX3NoZWV0KHdvcmtib29rLCBkYXRhLCBmaWxlbmFtZSk7CiAgICAgIFhMU1gud3JpdGVGaWxlKHdvcmtib29rLCAiIi5jb25jYXQoZmlsZW5hbWUsICIueGxzeCIpKTsKICAgIH0sCiAgICAvL01FVE9ET1MgUEFSQSBHRU5FUkFSIExBUyBPUkRFTkVTIERFIENPTVBSQQogICAgLy9NZXRvZG8gcXVlIENhcmdhIHRvZG9zIGxvcyBwcm9kdWN0b3MgZGVsIHNpc3RlbWEKICAgIGNhcmdhclByb2R1Y3RvczogZnVuY3Rpb24gY2FyZ2FyUHJvZHVjdG9zKHByaW1lcmEpIHsKICAgICAgdmFyIF90aGlzID0gdGhpczsKCiAgICAgIHZhciBjb25maWcgPSB7CiAgICAgICAgaGVhZGVyczogewogICAgICAgICAgdG9rZW46IHRoaXMudG9rZW4KICAgICAgICB9CiAgICAgIH07CiAgICAgIHRoaXMuYXhpb3MuZ2V0KCJhcGkvb2J0ZW5lclByb2R1Y3Rvc0JvZGVnYS8iLmNvbmNhdCh0aGlzLmJvZGVnYUNyZWFyKSwgY29uZmlnKS50aGVuKGZ1bmN0aW9uIChyZXMpIHsKICAgICAgICBfdGhpcy5wcm9kcyA9IHJlcy5kYXRhOwoKICAgICAgICBpZiAocHJpbWVyYSkgewogICAgICAgICAgX3RoaXMucHJvZHVjdG9zWzBdLm5vbVByb2R1Y3RvID0gX3RoaXMucHJvZHNbMF0ubm9tUHJvZHVjdG87CiAgICAgICAgICBfdGhpcy5wcm9kdWN0b3NbMF0uc3RvY2sgPSBfdGhpcy5wcm9kc1swXS5zdG9ja0JvZGVnYTsKICAgICAgICAgIF90aGlzLnByb2R1Y3Rvc1swXS5zdG9ja0NyaXRpY28gPSBfdGhpcy5wcm9kc1swXS5zdG9ja0NyaXRpY287CiAgICAgICAgICBfdGhpcy5wcm9kdWN0b3NbMF0uY29kaWdvQmFycmEgPSBfdGhpcy5wcm9kc1swXS5jb2RpZ29CYXJyYTsKICAgICAgICAgIF90aGlzLnByb2R1Y3Rvc1swXS5jb2RCYXIgPSBfdGhpcy5wcm9kc1swXS5jb2RpZ29CYXJyYTsKICAgICAgICAgIF90aGlzLnByb2R1Y3Rvc1swXS5tYXJjYSA9IF90aGlzLnByb2RzWzBdLm1hcmNhOwoKICAgICAgICAgIGlmIChfdGhpcy5wcm9kdWN0b3NbMF0uc3RvY2sgPCBfdGhpcy5wcm9kdWN0b3NbMF0uc3RvY2tDcml0aWNvKSB7CiAgICAgICAgICAgIGlmIChfdGhpcy5wcm9kdWN0b3NbMF0uc3RvY2sgPT09IDApIHsKICAgICAgICAgICAgICBfdGhpcy5hbGVydGEoJ2RhbmdlcicsICdObyBoYXkgc3RvY2sgZGlzcG9uaWJsZSBlbiBib2RlZ2EgcGFyYSBlbCBwcm9kdWN0byAnICsgX3RoaXMucHJvZHVjdG9zWzBdLm5vbVByb2R1Y3RvKTsKICAgICAgICAgICAgfQogICAgICAgICAgfQogICAgICAgIH0KICAgICAgfSkuY2F0Y2goZnVuY3Rpb24gKGUpIHsKICAgICAgICBfdGhpcy5hbGVydGEoJ2RhbmdlcicsICdObyBzZSBoYW4gcG9kaWRvIGNhcmdhciBsb3MgUHJvZHVjdG9zJyk7CiAgICAgIH0pOwogICAgfSwKICAgIC8vRnVuY2nDs24gcXVlIGNhcmdhIGxvcyBwcm9kdWN0b3MgZGUgdW5hIGJvZGVnYSBwYXJhIHRyYXNmZXJpciBwcm9kdWN0b3MgYSBEaXJlY2Npw7NuIFJlZ2lvbmFsCiAgICBjYXJnYXJQcm9kdWN0b3NCb2RlZ2E6IGZ1bmN0aW9uIGNhcmdhclByb2R1Y3Rvc0JvZGVnYSgpIHsKICAgICAgdmFyIF90aGlzMiA9IHRoaXM7CgogICAgICB2YXIgY29uZmlnID0gewogICAgICAgIGhlYWRlcnM6IHsKICAgICAgICAgIHRva2VuOiB0aGlzLnRva2VuCiAgICAgICAgfQogICAgICB9OwogICAgICB0aGlzLmF4aW9zLmdldCgiYXBpL29idGVuZXJQcm9kdWN0b3NCb2RlZ2EvIi5jb25jYXQodGhpcy5ub21Cb2RlZ2EpLCBjb25maWcpLnRoZW4oZnVuY3Rpb24gKHJlcykgewogICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgcmVzLmRhdGEubGVuZ3RoOyBpKyspIHsKICAgICAgICAgIF90aGlzMi5lbnZpYXIucHVzaCh7CiAgICAgICAgICAgIGNvZGlnb0JhcnJhOiByZXMuZGF0YVtpXS5jb2RpZ29CYXJyYSwKICAgICAgICAgICAgbm9tUHJvZHVjdG86IHJlcy5kYXRhW2ldLm5vbVByb2R1Y3RvLAogICAgICAgICAgICBzdG9jazogcmVzLmRhdGFbaV0uc3RvY2ssCiAgICAgICAgICAgIHN0b2NrQm9kZWdhOiByZXMuZGF0YVtpXS5zdG9ja0JvZGVnYSwKICAgICAgICAgICAgY2FudGlkYWQ6IDAsCiAgICAgICAgICAgIHN0b2NrQ3JpdGljbzogcmVzLmRhdGFbaV0uc3RvY2tDcml0aWNvCiAgICAgICAgICB9KTsKICAgICAgICB9CiAgICAgIH0pLmNhdGNoKGZ1bmN0aW9uIChlKSB7CiAgICAgICAgX3RoaXMyLmFsZXJ0YSgnZGFuZ2VyJywgJ05vIHNlIGhhbiBwb2RpZG8gY2FyZ2FyIGxvcyBQcm9kdWN0b3MnKTsKICAgICAgfSk7CiAgICB9LAogICAgLy9GVU5DScOTTiBRVUUgQ0FSR0EgVE9ET1MgTE9TIFBST0RVQ1RPUyBQQVJBIEFHUkVHQVJMTyBBIFVOQSBOVUVWQSBCT0RFR0EKICAgIGNhcmdhclRPRE9TUFJPRFVDVE9TOiBmdW5jdGlvbiBjYXJnYXJUT0RPU1BST0RVQ1RPUygpIHsKICAgICAgdmFyIF90aGlzMyA9IHRoaXM7CgogICAgICB2YXIgY29uZmlnID0gewogICAgICAgIGhlYWRlcnM6IHsKICAgICAgICAgIHRva2VuOiB0aGlzLnRva2VuCiAgICAgICAgfQogICAgICB9OwogICAgICB0aGlzLmF4aW9zLmdldCgiYXBpL29idGVuZXJQcm9kdWN0b3NTb2xvcyIsIGNvbmZpZykudGhlbihmdW5jdGlvbiAocmVzKSB7CiAgICAgICAgX3RoaXMzLnByb2R1Y3Rvc0FHUkVHQVIgPSByZXMuZGF0YTsKICAgICAgICBfdGhpczMubm9tYnJlUHJvZHVjdG9BR1JFR0FETyA9IF90aGlzMy5wcm9kdWN0b3NBR1JFR0FSWzBdLm5vbVByb2R1Y3RvOwogICAgICAgIF90aGlzMy5jb2RpZ29BR1JFR0FSID0gX3RoaXMzLnByb2R1Y3Rvc0FHUkVHQVJbMF0uY29kaWdvQmFycmE7CiAgICAgIH0pLmNhdGNoKGZ1bmN0aW9uIChlKSB7CiAgICAgICAgX3RoaXMzLmFsZXJ0YSgnZGFuZ2VyJywgJ05vIHNlIGhhbiBwb2RpZG8gY2FyZ2FyIGxvcyBQcm9kdWN0b3MnKTsKICAgICAgfSk7CiAgICB9LAogICAgLy9GdW5jacOzbiBxdWUgcGVybWl0ZSByZS1jYXJnYXIgbG9zIHByb2R1Y3RvcyBhbCBtb21lbnRvIGRlIGNhbWJpYXIgbGEgYm9kZWdhIGVuIGxhIHZpc3RhIGRlIHJlbGxlbmFyIEJvZGVnYQogICAgY2FtYmlhQm9kZWdhOiBmdW5jdGlvbiBjYW1iaWFCb2RlZ2EoKSB7CiAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgdGhpcy5wcm9kdWN0b3MubGVuZ3RoIC0gMTsgaSsrKSB7CiAgICAgICAgdGhpcy5wcm9kdWN0b3Muc3BsaWNlKC0xKTsKICAgICAgfQoKICAgICAgdGhpcy5jYXJnYXJQcm9kdWN0b3ModHJ1ZSk7CiAgICB9LAogICAgYnVzY2FyUG9yQ29kaWdvOiBmdW5jdGlvbiBidXNjYXJQb3JDb2RpZ28oY29kaWdvQmFycmEsIGtleSwgY29kQmFyKSB7CiAgICAgIHRoaXMuYW50ZXJpb3IoY29kQmFyKTsKICAgICAgdmFyIGluZGV4QWN0dWFsID0gdGhpcy5wcm9kdWN0b3MuZmluZEluZGV4KGZ1bmN0aW9uIChpdGVtKSB7CiAgICAgICAgcmV0dXJuIGl0ZW0ua2V5ID09IGtleTsKICAgICAgfSk7CiAgICAgIHZhciBwb3NQcm9kID0gdGhpcy5wcm9kcy5maW5kSW5kZXgoZnVuY3Rpb24gKGl0ZW0pIHsKICAgICAgICByZXR1cm4gaXRlbS5jb2RpZ29CYXJyYSA9PSBjb2RpZ29CYXJyYTsKICAgICAgfSk7CgogICAgICBpZiAocG9zUHJvZCAhPT0gLTEpIHsKICAgICAgICB0aGlzLmNhbWJpb1Byb2R1Y3RvKHRoaXMucHJvZHNbcG9zUHJvZF0uY29kaWdvQmFycmEsIGtleSk7CiAgICAgIH0gZWxzZSB7CiAgICAgICAgdGhpcy5wcm9kdWN0b3NbaW5kZXhBY3R1YWxdLmNvZEJhciA9IHRoaXMucHJvZHVjdG9BbnQ7CiAgICAgIH0KICAgIH0sCiAgICAvL0Z1bmNpw7NuIHF1ZSB0ZSBwZXJtaXRlIGd1YXJkYXIgZWwgdmFsb3IgYW50ZXJpb3IgZGVsIHNlbGVjdAogICAgYW50ZXJpb3I6IGZ1bmN0aW9uIGFudGVyaW9yKGNvZEJhcikgewogICAgICB0aGlzLnByb2R1Y3RvQW50ID0gY29kQmFyOwogICAgfSwKICAgIC8vU2kgc2UgY2FtYmlhIHVuIHByb2R1Y3RvIHNlIGRlYmUgYnVzY2FyIHN1IHN0b2NrCiAgICBjYW1iaW9Qcm9kdWN0bzogZnVuY3Rpb24gY2FtYmlvUHJvZHVjdG8oY29kaWdvQmFycmEsIGtleSkgewogICAgICB2YXIgaW5kZXhBY3R1YWwgPSB0aGlzLnByb2R1Y3Rvcy5maW5kSW5kZXgoZnVuY3Rpb24gKGl0ZW0pIHsKICAgICAgICByZXR1cm4gaXRlbS5rZXkgPT0ga2V5OwogICAgICB9KTsKICAgICAgdmFyIHJlcGV0aWRvID0gZmFsc2U7CgogICAgICBmb3IgKHZhciBpID0gMDsgaSA8IHRoaXMucHJvZHVjdG9zLmxlbmd0aDsgaSsrKSB7CiAgICAgICAgaWYgKGkgIT0gaW5kZXhBY3R1YWwpIHsKICAgICAgICAgIGlmICh0aGlzLnByb2R1Y3Rvc1tpXS5jb2RCYXIgPT09IGNvZGlnb0JhcnJhKSB7CiAgICAgICAgICAgIHJlcGV0aWRvID0gdHJ1ZTsKICAgICAgICAgIH0KICAgICAgICB9CiAgICAgIH0KCiAgICAgIGlmICghcmVwZXRpZG8pIHsKICAgICAgICB2YXIgaW5kZXggPSB0aGlzLnByb2RzLmZpbmRJbmRleChmdW5jdGlvbiAoaXRlbSkgewogICAgICAgICAgcmV0dXJuIGl0ZW0uY29kaWdvQmFycmEgPT0gY29kaWdvQmFycmE7CiAgICAgICAgfSk7CiAgICAgICAgdmFyIGluZGV4MiA9IHRoaXMucHJvZHVjdG9zLmZpbmRJbmRleChmdW5jdGlvbiAoaXRlbSkgewogICAgICAgICAgcmV0dXJuIGl0ZW0ua2V5ID09IGtleTsKICAgICAgICB9KTsKICAgICAgICB0aGlzLnByb2R1Y3Rvc1tpbmRleDJdLnN0b2NrID0gdGhpcy5wcm9kc1tpbmRleF0uc3RvY2tCb2RlZ2E7CiAgICAgICAgdGhpcy5wcm9kdWN0b3NbaW5kZXgyXS5zdG9ja0NyaXRpY28gPSB0aGlzLnByb2RzW2luZGV4XS5zdG9ja0NyaXRpY287CiAgICAgICAgdGhpcy5wcm9kdWN0b3NbaW5kZXgyXS5ub21Qcm9kdWN0byA9IHRoaXMucHJvZHNbaW5kZXhdLm5vbVByb2R1Y3RvOwogICAgICAgIHRoaXMucHJvZHVjdG9zW2luZGV4Ml0uY29kaWdvQmFycmEgPSB0aGlzLnByb2RzW2luZGV4XS5jb2RpZ29CYXJyYTsKICAgICAgICB0aGlzLnByb2R1Y3Rvc1tpbmRleDJdLmNvZEJhciA9IHRoaXMucHJvZHNbaW5kZXhdLmNvZGlnb0JhcnJhOwogICAgICAgIHRoaXMucHJvZHVjdG9zW2luZGV4Ml0ubWFyY2EgPSB0aGlzLnByb2RzW2luZGV4XS5tYXJjYTsKCiAgICAgICAgaWYgKHRoaXMucHJvZHVjdG9zW2luZGV4Ml0uY2FudGlkYWQgPiB0aGlzLnByb2R1Y3Rvc1tpbmRleDJdLnN0b2NrKSB7CiAgICAgICAgICB0aGlzLnByb2R1Y3Rvc1tpbmRleDJdLmNhbnRpZGFkID0gdGhpcy5wcm9kdWN0b3NbaW5kZXgyXS5zdG9jazsKICAgICAgICB9CgogICAgICAgIGlmICh0aGlzLnByb2R1Y3Rvc1tpbmRleDJdLnN0b2NrICsgdGhpcy5wcm9kdWN0b3NbaW5kZXgyXS5jYW50aWRhZCA8IHRoaXMucHJvZHVjdG9zW2luZGV4Ml0uc3RvY2tDcml0aWNvKSB7CiAgICAgICAgICBpZiAodGhpcy5wcm9kdWN0b3NbaW5kZXgyXS5zdG9jaykgewogICAgICAgICAgICB0aGlzLmFsZXJ0YSgnZGFuZ2VyJywgJ0VsIGV4aXN0ZSBzdG9jayBlbiBib2RlZ2EgcGFyYSBlbCBwcm9kdWN0byAnICsgdGhpcy5wcm9kdWN0b3NbaW5kZXgyXS5ub21Qcm9kdWN0byk7CiAgICAgICAgICB9CgogICAgICAgICAgdGhpcy5hbGVydGEoJ2RhbmdlcicsICdFbCBzdG9jayBxdWUgZXhpc3RlIGFjdHVhbG1lbnRlIGVuIGJvZGVnYSBkZWwgcHJvZHVjdG8gIicgKyB0aGlzLnByb2R1Y3Rvc1tpbmRleDJdLm5vbVByb2R1Y3RvICsgJyIgZXMgaW5mZXJpb3IgYWwgc3RvY2sgY3LDrXRpY28nKTsKICAgICAgICB9CiAgICAgIH0gZWxzZSB7CiAgICAgICAgdGhpcy5wcm9kdWN0b3NbaW5kZXhBY3R1YWxdLmNvZEJhciA9IHRoaXMucHJvZHVjdG9BbnQ7CiAgICAgIH0KICAgIH0sCiAgICAvL1NlIGFncmVnYSB1biBudWV2byBwb3NpYmxlIHByb2R1Y3RvCiAgICAvL0FERU1BUyBkZWJlIHJldmlzYXIgc2kgbG9zIHZhbG9yZXMgYW50ZXJpb3JlcyBlc3RhbiByZXBldGlkb3MKICAgIGFncmVnYVByb2R1Y3RvOiBmdW5jdGlvbiBhZ3JlZ2FQcm9kdWN0bygpIHsKICAgICAgdmFyIF90aGlzNCA9IHRoaXM7CgogICAgICB0aGlzLmNhbnRpZGFkUHJvZHVjdG9zKys7CiAgICAgIHZhciBhID0gMDsKICAgICAgdGhpcy5wcm9kdWN0b3MucHVzaCh7CiAgICAgICAga2V5OiB0aGlzLmNhbnRpZGFkUHJvZHVjdG9zLAogICAgICAgIG5vbVByb2R1Y3RvOiAnJywKICAgICAgICBjYW50aWRhZDogMCwKICAgICAgICBzdG9jazogMCwKICAgICAgICBjb2RpZ29CYXJyYTogJycsCiAgICAgICAgY29kQmFyOiAnJywKICAgICAgICBtYXJjYTogJycKICAgICAgfSk7CgogICAgICB3aGlsZSAoYSA8IHRoaXMucHJvZHMubGVuZ3RoKSB7CiAgICAgICAgdmFyIGluZGV4ID0gdGhpcy5wcm9kdWN0b3MuZmluZEluZGV4KGZ1bmN0aW9uIChpdGVtKSB7CiAgICAgICAgICByZXR1cm4gaXRlbS5jb2RCYXIgPT0gX3RoaXM0LnByb2RzW2FdLmNvZGlnb0JhcnJhOwogICAgICAgIH0pOwoKICAgICAgICBpZiAoaW5kZXggIT0gLTEpIHsKICAgICAgICAgIGErKzsKICAgICAgICB9IGVsc2UgewogICAgICAgICAgdGhpcy5wcm9kdWN0b3NbdGhpcy5wcm9kdWN0b3MubGVuZ3RoIC0gMV0ubm9tUHJvZHVjdG8gPSB0aGlzLnByb2RzW2FdLm5vbVByb2R1Y3RvOwogICAgICAgICAgdGhpcy5wcm9kdWN0b3NbdGhpcy5wcm9kdWN0b3MubGVuZ3RoIC0gMV0uc3RvY2sgPSB0aGlzLnByb2RzW2FdLnN0b2NrQm9kZWdhOwogICAgICAgICAgdGhpcy5wcm9kdWN0b3NbdGhpcy5wcm9kdWN0b3MubGVuZ3RoIC0gMV0uc3RvY2tDcml0aWNvID0gdGhpcy5wcm9kc1thXS5zdG9ja0NyaXRpY287CiAgICAgICAgICB0aGlzLnByb2R1Y3Rvc1t0aGlzLnByb2R1Y3Rvcy5sZW5ndGggLSAxXS5jb2RpZ29CYXJyYSA9IHRoaXMucHJvZHNbYV0uY29kaWdvQmFycmE7CiAgICAgICAgICB0aGlzLnByb2R1Y3Rvc1t0aGlzLnByb2R1Y3Rvcy5sZW5ndGggLSAxXS5jb2RCYXIgPSB0aGlzLnByb2RzW2FdLmNvZGlnb0JhcnJhOwogICAgICAgICAgdGhpcy5wcm9kdWN0b3NbdGhpcy5wcm9kdWN0b3MubGVuZ3RoIC0gMV0ubWFyY2EgPSB0aGlzLnByb2RzW2FdLm1hcmNhOwogICAgICAgICAgdGhpcy5wcm9kdWN0b3NbdGhpcy5wcm9kdWN0b3MubGVuZ3RoIC0gMV0ua2V5ID0gdGhpcy5jYW50aWRhZFByb2R1Y3RvczsKICAgICAgICAgIGJyZWFrOwogICAgICAgIH0KCiAgICAgICAgaWYgKGEgPT0gdGhpcy5wcm9kcy5sZW5ndGgpIHsKICAgICAgICAgIHRoaXMuY2FudGlkYWRQcm9kdWN0b3MtLTsKICAgICAgICAgIHRoaXMucHJvZHVjdG9zLnNwbGljZSgtMSk7CiAgICAgICAgICB0aGlzLmFsZXJ0YSgnZGFuZ2VyJywgJ05vIGV4aXN0ZW4gbWFzIHByb2R1Y3RvcyBwYXJhIGFncmVnYXInKTsKICAgICAgICAgIGJyZWFrOwogICAgICAgIH0KICAgICAgfQoKICAgICAgaWYgKHRoaXMucHJvZHVjdG9zW3RoaXMucHJvZHVjdG9zLmxlbmd0aCAtIDFdLnN0b2NrIDwgdGhpcy5wcm9kdWN0b3NbdGhpcy5wcm9kdWN0b3MubGVuZ3RoIC0gMV0uc3RvY2tDcml0aWNvICYmIGEgIT0gdGhpcy5wcm9kcy5sZW5ndGgpIHsKICAgICAgICB0aGlzLmFsZXJ0YSgnZGFuZ2VyJywgJ0VsIHN0b2NrIHF1ZSBleGlzdGUgYWN0dWFsbWVudGUgZW4gYm9kZWdhIGRlbCBwcm9kdWN0byAiJyArIHRoaXMucHJvZHVjdG9zW3RoaXMucHJvZHVjdG9zLmxlbmd0aCAtIDFdLm5vbVByb2R1Y3RvICsgJyIgZXMgaW5mZXJpb3IgYWwgc3RvY2sgY3LDrXRpY28nKTsKICAgICAgfQogICAgfSwKICAgIC8vU2UgcXVpdGEgdW4gUHJvZHVjdG8gZGUgbG9zIHF1ZSBzZXLDoW4gYWdyZWdhZG9zIGFsIHNpc3RlbWEKICAgIHF1aXRhclByb2R1Y3RvOiBmdW5jdGlvbiBxdWl0YXJQcm9kdWN0bygpIHsKICAgICAgaWYgKHRoaXMucHJvZHVjdG9zLmxlbmd0aCA+IDEpIHsKICAgICAgICB0aGlzLmNhbnRpZGFkUHJvZHVjdG9zLS07CiAgICAgICAgdGhpcy5wcm9kdWN0b3Muc3BsaWNlKC0xKTsKICAgICAgfSBlbHNlIHsKICAgICAgICB0aGlzLmFsZXJ0YSgnZGFuZ2VyJywgJ1RpZW5lIHF1ZSBleGlzdGlyIGFsIG1lbm9zIDEgcHJvZHVjdG8nKTsKICAgICAgfQogICAgfSwKICAgIC8vSW5kaWNhbW9zIGVsIG1pbmltbyBkZSBjYW50aWRhZCBwYXJhIHF1ZSBubyBlc3RlIHZhY2lvIG8gc2VhIG1lbm9yIGEgMAogICAgY2FudE1pbjogZnVuY3Rpb24gY2FudE1pbihwcm9kdWN0bykgewogICAgICB2YXIgaW5kZXggPSB0aGlzLnByb2R1Y3Rvcy5maW5kSW5kZXgoZnVuY3Rpb24gKGl0ZW0pIHsKICAgICAgICByZXR1cm4gaXRlbS5rZXkgPT0gcHJvZHVjdG87CiAgICAgIH0pOwoKICAgICAgaWYgKHRoaXMucHJvZHVjdG9zW2luZGV4XS5jYW50aWRhZCA8IDAgfHwgdGhpcy5wcm9kdWN0b3NbaW5kZXhdLmNhbnRpZGFkID09ICcnKSB7CiAgICAgICAgdGhpcy5wcm9kdWN0b3NbaW5kZXhdLmNhbnRpZGFkID0gMDsKICAgICAgfQoKICAgICAgaWYgKHRoaXMucHJvZHVjdG9zW2luZGV4XS5zdG9jayArIHBhcnNlSW50KHRoaXMucHJvZHVjdG9zW2luZGV4XS5jYW50aWRhZCkgPCB0aGlzLnByb2R1Y3Rvc1tpbmRleF0uc3RvY2tDcml0aWNvKSB7CiAgICAgICAgdGhpcy5hbGVydGEoJ2RhbmdlcicsICdFbCBzdG9jayBxdWUgZXhpc3RlIGFjdHVhbG1lbnRlIGVuIGJvZGVnYSBkZWwgcHJvZHVjdG8gIicgKyB0aGlzLnByb2R1Y3Rvc1tpbmRleF0ubm9tUHJvZHVjdG8gKyAnIiBlcyBpbmZlcmlvciBhbCBzdG9jayBjcsOtdGljbyBpbmdyZXNlIG1hcyBjYW50aWRhZCBwYXJhIGN1bXBsaXIgY29uIGVsIHN0b2NrIENyw610aWNvJyk7CiAgICAgIH0KICAgIH0sCiAgICAvL0luZGljYW1vcyBlbCBtaW5pbW8gZGUgY2FudGlkYWQgcGFyYSBxdWUgbm8gZXN0ZSB2YWNpbyBvIHNlYSBtZW5vciBhIDAKICAgIGNhbnRNaW5Cb2RlZ2E6IGZ1bmN0aW9uIGNhbnRNaW5Cb2RlZ2EocHJvZHVjdG8pIHsKICAgICAgdmFyIGluZGV4ID0gdGhpcy5lbnZpYXIuZmluZEluZGV4KGZ1bmN0aW9uIChpdGVtKSB7CiAgICAgICAgcmV0dXJuIGl0ZW0uY29kaWdvQmFycmEgPT0gcHJvZHVjdG87CiAgICAgIH0pOwoKICAgICAgaWYgKHRoaXMuZW52aWFyW2luZGV4XS5jYW50aWRhZCA8IDApIHsKICAgICAgICB0aGlzLmVudmlhcltpbmRleF0uY2FudGlkYWQgPSAwOwogICAgICB9CgogICAgICBpZiAodGhpcy5lbnZpYXJbaW5kZXhdLnN0b2NrQm9kZWdhIC0gcGFyc2VJbnQodGhpcy5lbnZpYXJbaW5kZXhdLmNhbnRpZGFkKSA8IHRoaXMuZW52aWFyW2luZGV4XS5zdG9ja0NyaXRpY28pIHsKICAgICAgICB0aGlzLmFsZXJ0YSgnZGFuZ2VyJywgJ1NpIHJlYWxpemEgZXN0YSBhY2Npw7NuIGVsIHN0b2NrIGVuIGJvZGVnYSBkZWwgcHJvZHVjdG8gIicgKyB0aGlzLmVudmlhcltpbmRleF0ubm9tUHJvZHVjdG8gKyAnIiBzZXJhIGluZmVyaW9yIGFsIHN0b2NrIGNyw610aWNvJyk7CiAgICAgIH0KCiAgICAgIGlmICh0aGlzLmVudmlhcltpbmRleF0uc3RvY2tCb2RlZ2EgLSBwYXJzZUludCh0aGlzLmVudmlhcltpbmRleF0uY2FudGlkYWQpIDwgMCkgewogICAgICAgIHRoaXMuZW52aWFyW2luZGV4XS5jYW50aWRhZCA9IHRoaXMuZW52aWFyW2luZGV4XS5zdG9ja0JvZGVnYTsKICAgICAgfQogICAgfSwKICAgIC8vRnVuY2nDs24gcXVlIG1hbmVqYSB2YWxvcmVzIGRlbCBpbnB1dCBkZSBzdG9jayBkZSBib2RlZ2EgUEFSQSBBR1JFR0FSIFVOIFBST0RVQ1RPIEEgVU5BIE5VRVZBIEJPREVHQQogICAgY2FudE1pbkJvZGVnYUFncmVnYXI6IGZ1bmN0aW9uIGNhbnRNaW5Cb2RlZ2FBZ3JlZ2FyKCkgewogICAgICBpZiAodGhpcy5zdG9ja0FHUkVHQURPIDwgMCkgewogICAgICAgIHRoaXMuc3RvY2tBR1JFR0FETyA9IDA7CiAgICAgIH0KCiAgICAgIGlmICh0aGlzLnN0b2NrQUdSRUdBRE8gPCB0aGlzLnN0b2NrQ3JpdGljb0FHUkVHQURPKSB7CiAgICAgICAgdGhpcy5hbGVydGEoJ2RhbmdlcicsICdFbCBzdG9jayBxdWUgZXN0YSBpbmdyZXNhbmRvIGVzIG1lbm9yIGFsIGNyaXRpY28gcGFyYSBsYSBib2RlZ2EgJyArIHRoaXMubm9tQm9kZWdhKTsKICAgICAgfQogICAgfSwKICAgIGNhbnRNaW5Dcml0aWNvQUdSRUdBUjogZnVuY3Rpb24gY2FudE1pbkNyaXRpY29BR1JFR0FSKCkgewogICAgICBpZiAodGhpcy5zdG9ja0NyaXRpY29BR1JFR0FETyA8IDApIHsKICAgICAgICB0aGlzLnN0b2NrQ3JpdGljb0FHUkVHQURPID0gMDsKICAgICAgfQoKICAgICAgaWYgKHRoaXMuc3RvY2tDcml0aWNvQUdSRUdBRE8gPiB0aGlzLnN0b2NrQUdSRUdBRE8pIHsKICAgICAgICB0aGlzLmFsZXJ0YSgnZGFuZ2VyJywgJ0VsIHN0b2NrIHF1ZSBlc3RhIGluZ3Jlc2FuZG8gZXMgbWVub3IgYWwgY3JpdGljbyBwYXJhIGxhIGJvZGVnYSAnICsgdGhpcy5ub21Cb2RlZ2EpOwogICAgICB9CiAgICB9LAogICAgLy9QZXJtaXRlIHZlciBsb3MgZGV0YWxsZXMgZGUgdW4gcHJvZHVjdG8geSBsb3MgY2FyZ2EKICAgIGRldGFsbGVzOiBmdW5jdGlvbiBkZXRhbGxlcyhpZCkgewogICAgICB2YXIgX3RoaXM1ID0gdGhpczsKCiAgICAgIHZhciBjb25maWcgPSB7CiAgICAgICAgaGVhZGVyczogewogICAgICAgICAgdG9rZW46IHRoaXMudG9rZW4KICAgICAgICB9CiAgICAgIH07CiAgICAgIHRoaXMuYXhpb3MuZ2V0KCJhcGkvb2J0ZW5lclByb2R1Y3RvLyIuY29uY2F0KGlkKSwgY29uZmlnKS50aGVuKGZ1bmN0aW9uIChyZXMpIHsKICAgICAgICBfdGhpczUuY29kaWdvID0gcmVzLmRhdGFbMF0uY29kaWdvQmFycmE7CiAgICAgICAgX3RoaXM1LnByb2R1Y3RvID0gcmVzLmRhdGFbMF0ubm9tUHJvZHVjdG87CiAgICAgICAgX3RoaXM1Lm1hcmNhID0gcmVzLmRhdGFbMF0ubWFyY2E7CiAgICAgICAgX3RoaXM1LmRlc2NyaXBjaW9uID0gcmVzLmRhdGFbMF0uZGVzY3JpcGNpb247CgogICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgX3RoaXM1LmltYWdlbmVzLmxlbmd0aDsgaSsrKSB7CiAgICAgICAgICBpZiAoX3RoaXM1LmltYWdlbmVzW2ldLnNwbGl0KCcuJylbMF0gPT0gX3RoaXM1LmNvZGlnbykgewogICAgICAgICAgICBfdGhpczUuaW1hZ2VuRGlyID0gJ2h0dHA6Ly9sb2NhbGhvc3Q6MzAwMC9kYkltYWdlbmVzLycgKyBfdGhpczUuaW1hZ2VuZXNbaV07CiAgICAgICAgICAgIGJyZWFrOwogICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgX3RoaXM1LmltYWdlbkRpciA9ICdodHRwOi8vbG9jYWxob3N0OjMwMDAvZGJJbWFnZW5lcy9uby1pbWFnZW4ucG5nJzsKICAgICAgICAgIH0KICAgICAgICB9CiAgICAgIH0pLmNhdGNoKGZ1bmN0aW9uIChlKSB7CiAgICAgICAgU3dhbC5maXJlKHsKICAgICAgICAgIGljb246ICdlcnJvcicsCiAgICAgICAgICB0aXRsZTogJ09vcHMuLi4nLAogICAgICAgICAgdGV4dDogJ05vIHNlIGhhIGxvZ3JhZG8gZW5jb250cmFyIGxvcyBkYXRvcyBkZWwgZXF1aXBvJywKICAgICAgICAgIGZvb3RlcjogJ1Bvc2libGUgZXJyb3IgZGVsIHNpc3RlbWEnCiAgICAgICAgfSk7CiAgICAgIH0pOwogICAgfSwKICAgIC8vRnVuY2nDs24gcXVlIG9idGllbmUgdW5hIGltYWdlbgogICAgb2J0ZW5lckltYWdlbmVzOiBmdW5jdGlvbiBvYnRlbmVySW1hZ2VuZXMoKSB7CiAgICAgIHZhciBfdGhpczYgPSB0aGlzOwoKICAgICAgdmFyIGNvbmZpZyA9IHsKICAgICAgICBoZWFkZXJzOiB7CiAgICAgICAgICB0b2tlbjogdGhpcy50b2tlbgogICAgICAgIH0KICAgICAgfTsKICAgICAgdGhpcy5heGlvcy5nZXQoImFwaS9vYnRlbmVySW1hZ2VuIiwgY29uZmlnKS50aGVuKGZ1bmN0aW9uIChyZXMpIHsKICAgICAgICBfdGhpczYuaW1hZ2VuZXMgPSByZXMuZGF0YTsKICAgICAgfSkuY2F0Y2goZnVuY3Rpb24gKGUpIHsKICAgICAgICBfdGhpczYuYWxlcnRhKCdkYW5nZXInLCAnRXN0ZSBwcm9kdWN0byBubyBwb3NlZSBpbWFnZW4gbyBubyBoYSBjYXJnYWRvIGNvcnJlY3RhbWVudGUnKTsKICAgICAgfSk7CiAgICB9LAogICAgY29udmVydERhdGVNeXNxbDogZnVuY3Rpb24gY29udmVydERhdGVNeXNxbCh5b3VyRGF0ZSkgewogICAgICB5b3VyRGF0ZS50b0lTT1N0cmluZygpLnNwbGl0KCdUJylbMF07CiAgICAgIHZhciBvZmZzZXQgPSB5b3VyRGF0ZS5nZXRUaW1lem9uZU9mZnNldCgpOwogICAgICB5b3VyRGF0ZSA9IG5ldyBEYXRlKHlvdXJEYXRlLmdldFRpbWUoKSAtIG9mZnNldCAqIDYwICogMTAwMCk7CiAgICAgIHJldHVybiB5b3VyRGF0ZS50b0lTT1N0cmluZygpLnNwbGl0KCdUJylbMF07CiAgICB9LAogICAgLy9GdW5jacOzbiBxdWUgcGVybWl0ZSBnZW5lcmFyIHVuIGluZm9ybWUgeSBlbnZpYXIgbG9zIGRhdG9zIGRlIHVuIG51ZXZvIEhJU1RPUklBTCAKICAgIGdlbmVyYXJJbmZvcm1lOiBmdW5jdGlvbiBnZW5lcmFySW5mb3JtZSgpIHsKICAgICAgdmFyIF90aGlzNyA9IHRoaXM7CgogICAgICB2YXIgZHQgPSB0aGlzLmNvbnZlcnREYXRlTXlzcWwobmV3IERhdGUoKSk7CiAgICAgIHZhciBzdW1hU3RvY2tCb2RlZ2EgPSAwOwogICAgICB2YXIgc3VtYSA9IDA7CgogICAgICBmb3IgKHZhciBpID0gMDsgaSA8IHRoaXMucHJvZHVjdG9zLmxlbmd0aDsgaSsrKSB7CiAgICAgICAgc3VtYSA9IHN1bWEgKyB0aGlzLnByb2R1Y3Rvc1tpXS5jYW50aWRhZDsKICAgICAgfQoKICAgICAgdGhpcy4kdi4kdG91Y2goKTsKCiAgICAgIGlmICghdGhpcy4kdi5udWV2YU9yZGVuLiRpbnZhbGlkICYmICF0aGlzLiR2LnByb3ZlZWRvci4kaW52YWxpZCkgewogICAgICAgIHN3YWwuZmlyZSh7CiAgICAgICAgICB0aXRsZTogJ8K/U2VndXJvIHF1ZSBkZXNlYSByZWFsaXphciBsYSBvcmRlbiBkZSBjb21wcmEgYSBsYSBib2RlZ2EgJyArIHRoaXMuYm9kZWdhQ3JlYXIgKyAnPycsCiAgICAgICAgICB0eXBlOiAnd2FybmluZycsCiAgICAgICAgICBzaG93Q2FuY2VsQnV0dG9uOiB0cnVlLAogICAgICAgICAgY29uZmlybUJ1dHRvbkNvbG9yOiAnIzMwODVkNicsCiAgICAgICAgICBjYW5jZWxCdXR0b25Db2xvcjogJyNkMzMnLAogICAgICAgICAgY2FuY2VsQnV0dG9uVGV4dDogJ0NhbmNlbGFyJywKICAgICAgICAgIGNvbmZpcm1CdXR0b25UZXh0OiAnwqFTaSEnCiAgICAgICAgfSkudGhlbihmdW5jdGlvbiAocmVzdWx0KSB7CiAgICAgICAgICBpZiAocmVzdWx0LnZhbHVlKSB7CiAgICAgICAgICAgIGlmIChzdW1hID4gMCkgewogICAgICAgICAgICAgIHZhciBjb25maWcgPSB7CiAgICAgICAgICAgICAgICBoZWFkZXJzOiB7CiAgICAgICAgICAgICAgICAgIHRva2VuOiBfdGhpczcudG9rZW4KICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICB9OwoKICAgICAgICAgICAgICBfdGhpczcuYXhpb3MucG9zdCgnYXBpL2FncmVnYU9yZGVuRW50cmVnYScsIHsKICAgICAgICAgICAgICAgIGNvZE9yZGVuOiBfdGhpczcubnVldmFPcmRlbiwKICAgICAgICAgICAgICAgIHByb3ZlZWRvcjogX3RoaXM3LnByb3ZlZWRvciwKICAgICAgICAgICAgICAgIGZlY2hhOiBkdCwKICAgICAgICAgICAgICAgIG5vbUJvZGVnYTogX3RoaXM3LmJvZGVnYUNyZWFyCiAgICAgICAgICAgICAgfSwgY29uZmlnKS50aGVuKGZ1bmN0aW9uIChyZXMpIHsKICAgICAgICAgICAgICAgIGlmICghcmVzLmRhdGEuc3FsTWVzc2FnZSkgewogICAgICAgICAgICAgICAgICBfdGhpczcuT1JERU5Qcm9kdWN0bygpOwoKICAgICAgICAgICAgICAgICAgX3RoaXM3LnN1bWFTdG9jaygpOwogICAgICAgICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgICAgICAgU3dhbC5maXJlKHsKICAgICAgICAgICAgICAgICAgICBpY29uOiAnZXJyb3InLAogICAgICAgICAgICAgICAgICAgIHRpdGxlOiAnT29wcy4uLicsCiAgICAgICAgICAgICAgICAgICAgdGV4dDogJ05vIHNlIGhhIGxvZ3JhZG8gY3JlYXIgJywKICAgICAgICAgICAgICAgICAgICBmb290ZXI6ICdBbGfDum4gZGF0byBoYSBzaWRvIGluY29ycmVjdG8gdmVyaWZpcXVlbG9zJwogICAgICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICB9KS5jYXRjaChmdW5jdGlvbiAoZSkgewogICAgICAgICAgICAgICAgU3dhbC5maXJlKHsKICAgICAgICAgICAgICAgICAgaWNvbjogJ2Vycm9yJywKICAgICAgICAgICAgICAgICAgdGl0bGU6ICdPb3BzLi4uJywKICAgICAgICAgICAgICAgICAgdGV4dDogJ05vIHNlIGhhIGxvZ3JhZG8gcmVnaXN0cmFyIGxhIG9yZGVuIGRlIGNvbXByYScsCiAgICAgICAgICAgICAgICAgIGZvb3RlcjogJ1Bvc2libGUgZXJyb3IgZGVsIHNpc3RlbWEnCiAgICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgICBfdGhpczcuYWxlcnRhKCdkYW5nZXInLCAnTm8gc2UgaGEgaW5ncmVzYWRvIG5pbmd1bmEgY2FudGlkYWQnKTsKICAgICAgICAgICAgfQogICAgICAgICAgfQogICAgICAgIH0pOwogICAgICB9IGVsc2UgewogICAgICAgIHRoaXMuYWxlcnRhKCdkYW5nZXInLCAnUG9yZmF2b3IgaW5ncmVzZSB0b2RvcyBsb3MgY2FtcG9zIHJlcXVlcmlkb3MnKTsKICAgICAgfQogICAgfSwKICAgIC8vUmVnaXN0cmEgbG9zIHByb2R1Y3RvcyBkZSBsYSBPUkRFTiBERSBDT01QUkEKICAgIE9SREVOUHJvZHVjdG86IGZ1bmN0aW9uIE9SREVOUHJvZHVjdG8oKSB7CiAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgdGhpcy5wcm9kdWN0b3MubGVuZ3RoOyBpKyspIHsKICAgICAgICBpZiAodGhpcy5wcm9kdWN0b3NbaV0uY2FudGlkYWQgPiAwKSB7CiAgICAgICAgICB2YXIgY29uZmlnID0gewogICAgICAgICAgICBoZWFkZXJzOiB7CiAgICAgICAgICAgICAgdG9rZW46IHRoaXMudG9rZW4KICAgICAgICAgICAgfQogICAgICAgICAgfTsKICAgICAgICAgIHRoaXMuYXhpb3MucG9zdCgnYXBpL2FncmVnYU9yZGVuUHJvZHVjdG8nLCB7CiAgICAgICAgICAgIGNhbnRpZGFkOiB0aGlzLnByb2R1Y3Rvc1tpXS5jYW50aWRhZCwKICAgICAgICAgICAgY29kT3JkZW46IHRoaXMubnVldmFPcmRlbiwKICAgICAgICAgICAgY29kaWdvQmFycmE6IHRoaXMucHJvZHVjdG9zW2ldLmNvZEJhcgogICAgICAgICAgfSwgY29uZmlnKS50aGVuKGZ1bmN0aW9uIChyZXMpIHsKICAgICAgICAgICAgaWYgKCFyZXMuZGF0YS5zcWxNZXNzYWdlKSB7CiAgICAgICAgICAgICAgU3dhbC5maXJlKCdTZSBoYSByZWdpc3RyYWRvIGxhIG9yZGVuIGRlIGNvbXByYSBzYXRpc2ZhY3RvcmlhbWVudGUnLCAnU2VsZWNjaW9uZSBPayBwYXJhIGNvbnRpbnVhcicsICdzdWNjZXNzJyk7CiAgICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgICAgU3dhbC5maXJlKHsKICAgICAgICAgICAgICAgIGljb246ICdlcnJvcicsCiAgICAgICAgICAgICAgICB0aXRsZTogJ09vcHMuLi4nLAogICAgICAgICAgICAgICAgdGV4dDogJ05vIHNlIGhhIGxvZ3JhZG8gY3JlYXIgJywKICAgICAgICAgICAgICAgIGZvb3RlcjogJ0FsZ8O6biBkYXRvIGhhIHNpZG8gaW5jb3JyZWN0byB2ZXJpZmlxdWVsb3MnCiAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgIH0KICAgICAgICAgIH0pLmNhdGNoKGZ1bmN0aW9uIChlKSB7CiAgICAgICAgICAgIFN3YWwuZmlyZSh7CiAgICAgICAgICAgICAgaWNvbjogJ2Vycm9yJywKICAgICAgICAgICAgICB0aXRsZTogJ09vcHMuLi4nLAogICAgICAgICAgICAgIHRleHQ6ICdObyBzZSBoYSBsb2dyYWRvIHJlZ2lzdHJhciBsYSBvcmRlbiBkZSBjb21wcmEnLAogICAgICAgICAgICAgIGZvb3RlcjogJ1Bvc2libGUgZXJyb3IgZGVsIHNpc3RlbWEnCiAgICAgICAgICAgIH0pOwogICAgICAgICAgfSk7CiAgICAgICAgfQogICAgICB9CiAgICB9LAogICAgLy9TdW1hIGxvcyBzdG9jayBkZSBCT0RFR0EgZGUgY2FkYSBwcm9kdWN0bwogICAgc3VtYVN0b2NrOiBmdW5jdGlvbiBzdW1hU3RvY2soKSB7CiAgICAgIHZhciBfdGhpczggPSB0aGlzOwoKICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCB0aGlzLnByb2R1Y3Rvcy5sZW5ndGg7IGkrKykgewogICAgICAgIGlmICh0aGlzLnByb2R1Y3Rvc1tpXS5jYW50aWRhZCA+IDApIHsKICAgICAgICAgIHZhciBjb25maWcgPSB7CiAgICAgICAgICAgIGhlYWRlcnM6IHsKICAgICAgICAgICAgICB0b2tlbjogdGhpcy50b2tlbgogICAgICAgICAgICB9CiAgICAgICAgICB9OwogICAgICAgICAgdGhpcy5heGlvcy5wdXQoImFwaS9hY3R1YWxpemFTdG9ja0JvZGVnYW1hcy8iLmNvbmNhdCh0aGlzLnByb2R1Y3Rvc1tpXS5jb2RCYXIpLCB7CiAgICAgICAgICAgIGNhbnRpZGFkOiB0aGlzLnByb2R1Y3Rvc1tpXS5jYW50aWRhZCwKICAgICAgICAgICAgbm9tQm9kZWdhOiB0aGlzLmJvZGVnYUNyZWFyCiAgICAgICAgICB9LCBjb25maWcpLnRoZW4oZnVuY3Rpb24gKHJlcykgewogICAgICAgICAgICBfdGhpczguYWN0dWFsaXphclN0b2NrKCk7CiAgICAgICAgICB9KS5jYXRjaChmdW5jdGlvbiAoZSkgewogICAgICAgICAgICB2YXIgbWVuc2FqZSA9ICdQb3NpYmxlIGVycm9yIGRlbCBzaXN0ZW1hJzsKICAgICAgICAgICAgU3dhbC5maXJlKHsKICAgICAgICAgICAgICBpY29uOiAnZXJyb3InLAogICAgICAgICAgICAgIHRpdGxlOiAnT29wcy4uLicsCiAgICAgICAgICAgICAgdGV4dDogJ05vIHNlIGhhIGxvZ3JhZG8gcmVnaXN0cmFyIGxhIGVudHJlZ2EgZGUgaW5zdW1vcycsCiAgICAgICAgICAgICAgZm9vdGVyOiBtZW5zYWplCiAgICAgICAgICAgIH0pOwogICAgICAgICAgfSk7CiAgICAgICAgfQogICAgICB9CiAgICB9LAogICAgLy9BY3R1YWxpemEgbGEgcGFnaW5hIHRyYXMgZ2VuZXJhciB1bmEgb3JkZW4gZGUgY29tcHJhCiAgICBhY3R1YWxpemFyU3RvY2s6IGZ1bmN0aW9uIGFjdHVhbGl6YXJTdG9jaygpIHsKICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCB0aGlzLnByb2R1Y3Rvcy5sZW5ndGggLSAxOyBpKyspIHsKICAgICAgICB0aGlzLmNhbnRpZGFkUHJvZHVjdG9zLS07CiAgICAgICAgdGhpcy5wcm9kdWN0b3Muc3BsaWNlKC0xKTsKICAgICAgfQoKICAgICAgdGhpcy5jYXJnYXJQcm9kdWN0b3ModHJ1ZSk7CiAgICB9LAogICAgLy9GdW5jacOzbiBwYXJhIGNhcmdhciBsYXMgYm9kZWdhcyBkZWwgc2lzdGVtYQogICAgY2FyZ2FyQm9kZWdhczogZnVuY3Rpb24gY2FyZ2FyQm9kZWdhcygpIHsKICAgICAgdmFyIF90aGlzOSA9IHRoaXM7CgogICAgICB2YXIgY29uZmlnID0gewogICAgICAgIGhlYWRlcnM6IHsKICAgICAgICAgIHRva2VuOiB0aGlzLnRva2VuCiAgICAgICAgfQogICAgICB9OwogICAgICB0aGlzLmF4aW9zLmdldCgnYXBpL29idGVuZXJib2RlZ2FzJywgY29uZmlnKS50aGVuKGZ1bmN0aW9uIChyZXMpIHsKICAgICAgICBfdGhpczkuYm9kZWdhcyA9IHJlcy5kYXRhOwogICAgICAgIF90aGlzOS5ib2RlZ2FDcmVhciA9IHJlcy5kYXRhWzBdLm5vbUJvZGVnYTsKICAgICAgfSkuY2F0Y2goZnVuY3Rpb24gKGUpIHsKICAgICAgICBfdGhpczkuYWxlcnRhKCdkYW5nZXInLCAnTm8gc2UgaGFuIHBvZGlkbyBjYXJnYXIgbGFzIGJvZGVnYXMnKTsKICAgICAgfSk7CiAgICB9LAogICAgLy9GdW5jacOzbiBwYXJhIHJlZ3Jlc2FyIGEgbGEgdmlzdGEgcHJpbmNpcGFsCiAgICBWb2x2ZXI6IGZ1bmN0aW9uIFZvbHZlcigpIHsKICAgICAgdGhpcy5wZXN0YcOxYSA9ICdib2RlZ2FzJzsKICAgICAgJCgnI29yZGVuZXMnKS5EYXRhVGFibGUoKS5kZXN0cm95KCk7CiAgICAgICQoJyNlbnZpYXInKS5EYXRhVGFibGUoKS5kZXN0cm95KCk7CiAgICAgIHRoaXMuZW52aWFyID0gW107CiAgICAgICQoJyNib2RlZ2FzJykuRGF0YVRhYmxlKCk7CiAgICAgIHRoaXMuY2FyZ2FyQm9kZWdhcygpOwogICAgfSwKICAgIFZvbHZlck9SRDogZnVuY3Rpb24gVm9sdmVyT1JEKCkgewogICAgICAkKCcjZGV0YWxsZU9yZGVuJykuRGF0YVRhYmxlKCkuZGVzdHJveSgpOwogICAgICB0aGlzLnBlc3Rhw7FhID0gJ29yZGVuZXMnOwogICAgICB0aGlzLmNhcmdhck9yZGVuZXMoKTsKICAgICAgJCgnI29yZGVuZXMnKS5EYXRhVGFibGUoKTsKICAgIH0sCiAgICAvL1ZvbHZlciBkZXNkZSBsYSB2aXN0YSBkZSBhZ3JlZ2FyIHVuIG51ZXZvIHByb2R1Y3RvIGEgbGEgdmlzdGEgZGVsIGRlc3BsaWVndWUgZGUgbG9zIHByb2VkdWN0b3MgZGUgdW5hIGJvZGVnYQogICAgVm9sdmVyRW52aWFyOiBmdW5jdGlvbiBWb2x2ZXJFbnZpYXIoKSB7CiAgICAgIHRoaXMucGVzdGHDsWEgPSAnZW52aWFyJzsKICAgICAgJCgnI2VudmlhcicpLkRhdGFUYWJsZSgpOwogICAgICB0aGlzLmVudmlhciA9IFtdOwogICAgICB0aGlzLmNhcmdhclByb2R1Y3Rvc0JvZGVnYSgpOwogICAgfSwKICAgIC8vRnVuY2lvbmVzIHBhcmEgY2FtYmlhciBsYXMgdmlzdGFzCiAgICBBY3RBZ3JlZ2FyOiBmdW5jdGlvbiBBY3RBZ3JlZ2FyKCkgewogICAgICB0aGlzLmFncmVnYXIgPSAnc2knOwogICAgfSwKICAgIE5vQWdyZWdhcjogZnVuY3Rpb24gTm9BZ3JlZ2FyKCkgewogICAgICB0aGlzLmFncmVnYXIgPSAnbm8nOwogICAgfSwKICAgIC8vQWN0aXZhZG9yZXMgZGUgdmlzdGFzIAogICAgQWN0T3JkZW5lczogZnVuY3Rpb24gQWN0T3JkZW5lcyhub21Cb2RlZ2EpIHsKICAgICAgdGhpcy5ub21Cb2RlZ2EgPSBub21Cb2RlZ2E7CiAgICAgIHRoaXMucGVzdGHDsWEgPSAnb3JkZW5lcyc7CiAgICAgICQoJyNib2RlZ2FzJykuRGF0YVRhYmxlKCkuZGVzdHJveSgpOwogICAgICAkKCcjb3JkZW5lcycpLkRhdGFUYWJsZSgpOwogICAgICB0aGlzLmNhcmdhck9yZGVuZXMoKTsKICAgIH0sCiAgICBBY3RET3JkZW5lczogZnVuY3Rpb24gQWN0RE9yZGVuZXMoY29kT3JkZW4pIHsKICAgICAgdGhpcy5oaXN0byA9IGNvZE9yZGVuOwogICAgICB0aGlzLnBlc3Rhw7FhID0gJ2RldGFsbGVPcmRlbic7CiAgICAgICQoJyNvcmRlbmVzJykuRGF0YVRhYmxlKCkuZGVzdHJveSgpOwogICAgICAkKCcjZGV0YWxsZU9yZGVuJykuRGF0YVRhYmxlKCk7CiAgICAgIHRoaXMuY2FyZ2FyRGV0YWxsZU9yZGVuKCk7CiAgICB9LAogICAgQWN0Q3JlYXI6IGZ1bmN0aW9uIEFjdENyZWFyKCkgewogICAgICB0aGlzLnBlc3Rhw7FhID0gJ2NyZWFyJzsKICAgICAgdGhpcy5hZ3JlZ2FyID0gJ25vJzsKICAgICAgJCgnI2JvZGVnYXMnKS5EYXRhVGFibGUoKS5kZXN0cm95KCk7CiAgICAgIHRoaXMuY2FyZ2FyUHJvZHVjdG9zKHRydWUpOwogICAgfSwKICAgIEFjdFByb2R1Y3RvczogZnVuY3Rpb24gQWN0UHJvZHVjdG9zKG5vbUJvZGVnYSkgewogICAgICB0aGlzLm5vbUJvZGVnYSA9IG5vbUJvZGVnYTsKICAgICAgdGhpcy5wZXN0YcOxYSA9ICdlbnZpYXInOwogICAgICAkKCcjYm9kZWdhcycpLkRhdGFUYWJsZSgpLmRlc3Ryb3koKTsKICAgICAgJCgnI2VudmlhcicpLkRhdGFUYWJsZSgpOwogICAgICB0aGlzLmNhcmdhclByb2R1Y3Rvc0JvZGVnYSgpOwogICAgfSwKICAgIEFjdEFncmVnYXJQcm9kOiBmdW5jdGlvbiBBY3RBZ3JlZ2FyUHJvZCgpIHsKICAgICAgdGhpcy5wZXN0YcOxYSA9ICdhZ3JlZ2FyUHJvZHVjdG8nOwogICAgICAkKCcjZW52aWFyJykuRGF0YVRhYmxlKCkuZGVzdHJveSgpOwogICAgICB0aGlzLmNhcmdhclRPRE9TUFJPRFVDVE9TKCk7CiAgICAgIHRoaXMucHJvZHVjdG9BR1JFR0FETyA9ICcnOwogICAgICB0aGlzLnN0b2NrQ3JpdGljb0FHUkVHQURPID0gMTsKICAgICAgdGhpcy5zdG9ja0FHUkVHQURPID0gMTsKICAgIH0sCiAgICAvL0Z1bmNpb25lcyBkZSBBR1JFR0FSCiAgICBhZ3JlZ2FCb2RlZ2E6IGZ1bmN0aW9uIGFncmVnYUJvZGVnYSgpIHsKICAgICAgdmFyIF90aGlzMTAgPSB0aGlzOwoKICAgICAgdGhpcy4kdi4kdG91Y2goKTsKCiAgICAgIGlmICghdGhpcy4kdi5udWV2YUJvZGVnYS4kaW52YWxpZCkgewogICAgICAgIHZhciBjb25maWcgPSB7CiAgICAgICAgICBoZWFkZXJzOiB7CiAgICAgICAgICAgIHRva2VuOiB0aGlzLnRva2VuCiAgICAgICAgICB9CiAgICAgICAgfTsKICAgICAgICB0aGlzLmF4aW9zLnBvc3QoJ2FwaS9hZ3JlZ2FCb2RlZ2EnLCB7CiAgICAgICAgICBub21Cb2RlZ2E6IHRoaXMubnVldmFCb2RlZ2EKICAgICAgICB9LCBjb25maWcpLnRoZW4oZnVuY3Rpb24gKHJlcykgewogICAgICAgICAgaWYgKCFyZXMuZGF0YS5zcWxNZXNzYWdlKSB7CiAgICAgICAgICAgIF90aGlzMTAuYm9kZWdhcy5wdXNoKHsKICAgICAgICAgICAgICBub21Cb2RlZ2E6IF90aGlzMTAubnVldmFCb2RlZ2EKICAgICAgICAgICAgfSk7CgogICAgICAgICAgICBTd2FsLmZpcmUoJ1NlIGhhIHJlZ2lzdHJhZG8gbGEgYm9kZWdhIHNhdGlzZmFjdG9yaWFtZW50ZScsICdTZWxlY2Npb25lIE9rIHBhcmEgY29udGludWFyJywgJ3N1Y2Nlc3MnKTsKICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgIFN3YWwuZmlyZSh7CiAgICAgICAgICAgICAgaWNvbjogJ2Vycm9yJywKICAgICAgICAgICAgICB0aXRsZTogJ09vcHMuLi4nLAogICAgICAgICAgICAgIHRleHQ6ICdObyBzZSBoYSBsb2dyYWRvIGNyZWFyIGxhIG51ZXZhIGJvZGVnYSAiJyArIF90aGlzMTAubnVldmFCb2RlZ2EgKyAnIiAuJywKICAgICAgICAgICAgICBmb290ZXI6ICdFbCBub21icmUgZGUgbGEgYm9kZWdhIHlhIGV4aXN0ZSBlbiBlbCBzaXN0ZW1hJwogICAgICAgICAgICB9KTsKICAgICAgICAgIH0KICAgICAgICB9KS5jYXRjaChmdW5jdGlvbiAoZSkgewogICAgICAgICAgU3dhbC5maXJlKHsKICAgICAgICAgICAgaWNvbjogJ2Vycm9yJywKICAgICAgICAgICAgdGl0bGU6ICdPb3BzLi4uJywKICAgICAgICAgICAgdGV4dDogJ05vIHNlIGhhIGxvZ3JhZG8gcmVnaXN0cmFyIGxhIG51ZXZhIGJvZGVnYScsCiAgICAgICAgICAgIGZvb3RlcjogJ1Bvc2libGUgZXJyb3IgZGVsIHNpc3RlbWEnCiAgICAgICAgICB9KTsKICAgICAgICB9KTsKICAgICAgfSBlbHNlIHsKICAgICAgICB0aGlzLmFsZXJ0YSgnZGFuZ2VyJywgJ1BvcmZhdm9yIGluZ3Jlc2UgdW4gbm9tYnJlIHBhcmEgbGEgbnVldmEgYm9kZWdhJyk7CiAgICAgIH0KICAgIH0sCiAgICAvL1RBQkxBIERFIE9SREVORVMgUVVFIFBPU0VFIFVOQSBCT0RFR0EKICAgIGNhcmdhck9yZGVuZXM6IGZ1bmN0aW9uIGNhcmdhck9yZGVuZXMoKSB7CiAgICAgIHZhciBfdGhpczExID0gdGhpczsKCiAgICAgIHZhciBjb25maWcgPSB7CiAgICAgICAgaGVhZGVyczogewogICAgICAgICAgdG9rZW46IHRoaXMudG9rZW4KICAgICAgICB9CiAgICAgIH07CiAgICAgIHRoaXMuYXhpb3MuZ2V0KCJhcGkvb2J0ZW5lck9yZGVuZXNCb2RlZ2EvIi5jb25jYXQodGhpcy5ub21Cb2RlZ2EpLCBjb25maWcpLnRoZW4oZnVuY3Rpb24gKHJlcykgewogICAgICAgIF90aGlzMTEub3JkZW5lcyA9IHJlcy5kYXRhOwogICAgICB9KS5jYXRjaChmdW5jdGlvbiAoZSkgewogICAgICAgIF90aGlzMTEuYWxlcnRhKCdkYW5nZXInLCAnTm8gc2UgaGEgbG9ncmFkbyBjYXJnYXIgbGEgb3JkZW4nKTsKICAgICAgfSk7CiAgICB9LAogICAgLy9DYXJnYXIgbG9zIGRldGFsbGVzIGRlIHVuYSBvcmRlbgogICAgY2FyZ2FyRGV0YWxsZU9yZGVuOiBmdW5jdGlvbiBjYXJnYXJEZXRhbGxlT3JkZW4oKSB7CiAgICAgIHZhciBfdGhpczEyID0gdGhpczsKCiAgICAgIHZhciBjb25maWcgPSB7CiAgICAgICAgaGVhZGVyczogewogICAgICAgICAgdG9rZW46IHRoaXMudG9rZW4KICAgICAgICB9CiAgICAgIH07CiAgICAgIHRoaXMuYXhpb3MuZ2V0KCJhcGkvb2J0ZW5lck9yZGVuLyIuY29uY2F0KHRoaXMuaGlzdG8pLCBjb25maWcpLnRoZW4oZnVuY3Rpb24gKHJlcykgewogICAgICAgIF90aGlzMTIuZGV0YWxsZU9yZGVuID0gcmVzLmRhdGE7CiAgICAgIH0pLmNhdGNoKGZ1bmN0aW9uIChlKSB7CiAgICAgICAgX3RoaXMxMi5hbGVydGEoJ2RhbmdlcicsICdObyBzZSBoYSBsb2dyYWRvIGNhcmdhciBlbCBkZXRhbGxlIGRlIHVuYSBvcmRlbicpOwogICAgICB9KTsKICAgIH0sCiAgICAvL0Z1bmNpw7NuIHF1ZSBlbnZpYSB1biBzdG9jayBkZXNkZSBib2RlZ2EgYSBEaXJlY2Npw7NuIFJlZ2lvbmFsCiAgICBFbnZpYXJEaXJlY2Npb246IGZ1bmN0aW9uIEVudmlhckRpcmVjY2lvbihjb2RpZ29CYXJyYSwgY2FudGlkYWQsIHN0b2NrQm9kZWdhKSB7CiAgICAgIHZhciBfdGhpczEzID0gdGhpczsKCiAgICAgIGlmIChzdG9ja0JvZGVnYSA+IDApIHsKICAgICAgICBzd2FsLmZpcmUoewogICAgICAgICAgdGl0bGU6ICfCv1NlZ3VybyBxdWUgZGVzZWEgZW52aWFyIGVsIHN0b2NrIGRlIGxhIGJvZGVnYSBjb24gdW5hIGNhbnRpZGFkIGRlICInICsgY2FudGlkYWQgKyAnIiBhIGRpcmVjY2nDs24gcmVnaW9uYWwgcGFyYSBlbCBwcm9kdWN0byBkZSBjb2RpZ286ICInICsgY29kaWdvQmFycmEgKyAnIj8nLAogICAgICAgICAgdHlwZTogJ3dhcm5pbmcnLAogICAgICAgICAgc2hvd0NhbmNlbEJ1dHRvbjogdHJ1ZSwKICAgICAgICAgIGNvbmZpcm1CdXR0b25Db2xvcjogJyMzMDg1ZDYnLAogICAgICAgICAgY2FuY2VsQnV0dG9uQ29sb3I6ICcjZDMzJywKICAgICAgICAgIGNhbmNlbEJ1dHRvblRleHQ6ICdDYW5jZWxhcicsCiAgICAgICAgICBjb25maXJtQnV0dG9uVGV4dDogJ8KhU2khJwogICAgICAgIH0pLnRoZW4oZnVuY3Rpb24gKHJlc3VsdCkgewogICAgICAgICAgaWYgKHJlc3VsdC52YWx1ZSkgewogICAgICAgICAgICB2YXIgY29uZmlnID0gewogICAgICAgICAgICAgIGhlYWRlcnM6IHsKICAgICAgICAgICAgICAgIHRva2VuOiBfdGhpczEzLnRva2VuCiAgICAgICAgICAgICAgfQogICAgICAgICAgICB9OwoKICAgICAgICAgICAgX3RoaXMxMy5heGlvcy5wdXQoImFwaS9hY3R1YWxpemFTdG9ja0JvZGVnYS8iLmNvbmNhdChjb2RpZ29CYXJyYSksIHsKICAgICAgICAgICAgICBjYW50aWRhZDogcGFyc2VJbnQoY2FudGlkYWQpLAogICAgICAgICAgICAgIG5vbUJvZGVnYTogX3RoaXMxMy5ub21Cb2RlZ2EKICAgICAgICAgICAgfSwgY29uZmlnKS50aGVuKGZ1bmN0aW9uIChyZXMpIHsKICAgICAgICAgICAgICBfdGhpczEzLnJlY2liaXJEaXJlY2Npb24oY29kaWdvQmFycmEsIGNhbnRpZGFkKTsKICAgICAgICAgICAgfSkuY2F0Y2goZnVuY3Rpb24gKGUpIHsKICAgICAgICAgICAgICB2YXIgbWVuc2FqZSA9ICdQb3NpYmxlIGVycm9yIGRlbCBzaXN0ZW1hJzsKICAgICAgICAgICAgICBTd2FsLmZpcmUoewogICAgICAgICAgICAgICAgaWNvbjogJ2Vycm9yJywKICAgICAgICAgICAgICAgIHRpdGxlOiAnT29wcy4uLicsCiAgICAgICAgICAgICAgICB0ZXh0OiAnTm8gc2UgaGEgbG9ncmFkbyB0cmFzcGFzYXIgbG9zIHN0b2NrcycsCiAgICAgICAgICAgICAgICBmb290ZXI6IG1lbnNhamUKICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgfSk7CiAgICAgICAgICB9CiAgICAgICAgfSk7CiAgICAgIH0gZWxzZSB7CiAgICAgICAgdGhpcy5hbGVydGEoJ2RhbmdlcicsICdFbCBzdG9jayBhY3R1YWwgcGFyYSBlc3RlIHByb2R1Y3RvIGVuIGxhIGJvZGVnYSBlcyAwJyk7CiAgICAgIH0KICAgIH0sCiAgICAvL0Z1bmNpw7NuIHF1ZSBwZXJtaXRlIGFjdHVhbGl6YXIgZWwgc3RvY2sgZGUgdW4gcHJvZHVjdG8gZW4gbGEgZGlyZWNjacOzbiBSZWdpb25hbAogICAgcmVjaWJpckRpcmVjY2lvbjogZnVuY3Rpb24gcmVjaWJpckRpcmVjY2lvbihjb2RpZ29CYXJyYSwgY2FudGlkYWQpIHsKICAgICAgdmFyIF90aGlzMTQgPSB0aGlzOwoKICAgICAgdmFyIGNvbmZpZyA9IHsKICAgICAgICBoZWFkZXJzOiB7CiAgICAgICAgICB0b2tlbjogdGhpcy50b2tlbgogICAgICAgIH0KICAgICAgfTsKICAgICAgdGhpcy5heGlvcy5wdXQoImFwaS9hY3R1YWxpemFTdG9ja21hcy8iLmNvbmNhdChjb2RpZ29CYXJyYSksIHsKICAgICAgICBjYW50aWRhZDogY2FudGlkYWQKICAgICAgfSwgY29uZmlnKS50aGVuKGZ1bmN0aW9uIChyZXMpIHsKICAgICAgICBTd2FsLmZpcmUoJ1NlIGhhIHJlYWxpemFkbyB1biB0cmFzcGFzbyBkZSBzdG9jayBhIERpcmVjY2nDs24gUmVnaW9uYWwnLCAnU2VsZWNjaW9uZSBPayBwYXJhIGNvbnRpbnVhcicsICdzdWNjZXNzJyk7CgogICAgICAgIF90aGlzMTQuYWN0dWFsaXphclN0b2Nrc1Byb2R1Y3RvQm9kZWdhKGNvZGlnb0JhcnJhLCBjYW50aWRhZCk7CiAgICAgIH0pLmNhdGNoKGZ1bmN0aW9uIChlKSB7CiAgICAgICAgdmFyIG1lbnNhamUgPSAnUG9zaWJsZSBlcnJvciBkZWwgc2lzdGVtYSc7CiAgICAgICAgU3dhbC5maXJlKHsKICAgICAgICAgIGljb246ICdlcnJvcicsCiAgICAgICAgICB0aXRsZTogJ09vcHMuLi4nLAogICAgICAgICAgdGV4dDogJ05vIHNlIGhhIGxvZ3JhZG8gcmVjaWJpciBlbCBzdG9jayBlbiBkaXJlY2Npw7NuIHJlZ2lvbmFsJywKICAgICAgICAgIGZvb3RlcjogbWVuc2FqZQogICAgICAgIH0pOwogICAgICB9KTsKICAgIH0sCiAgICAvL0Z1bmNpw7NuIHF1ZSBhY3R1YWxpemEgbG9zIHN0b2NrIGVuIGxhIHZpc3RhIGRlIGxhIHDDoWdpbmEKICAgIGFjdHVhbGl6YXJTdG9ja3NQcm9kdWN0b0JvZGVnYTogZnVuY3Rpb24gYWN0dWFsaXphclN0b2Nrc1Byb2R1Y3RvQm9kZWdhKGNvZGlnb0JhcnJhLCBjYW50aWRhZCkgewogICAgICB2YXIgaW5kZXggPSB0aGlzLmVudmlhci5maW5kSW5kZXgoZnVuY3Rpb24gKGl0ZW0pIHsKICAgICAgICByZXR1cm4gaXRlbS5jb2RpZ29CYXJyYSA9PSBjb2RpZ29CYXJyYTsKICAgICAgfSk7CiAgICAgIHRoaXMuZW52aWFyW2luZGV4XS5zdG9ja0JvZGVnYSA9IHRoaXMuZW52aWFyW2luZGV4XS5zdG9ja0JvZGVnYSAtIHBhcnNlSW50KGNhbnRpZGFkKTsKICAgICAgdGhpcy5lbnZpYXJbaW5kZXhdLnN0b2NrID0gdGhpcy5lbnZpYXJbaW5kZXhdLnN0b2NrICsgcGFyc2VJbnQoY2FudGlkYWQpOwogICAgfSwKICAgIC8vRlVOQ0nDk04gUVVFIEJVU0NBIFVOIENPRElHTyBERSBMQSBWSVNUQSBERSBBR1JFR0FSIFBST0RVQ1RPIEEgVU5BIEJPREVHQSAKICAgIGJ1c2NhckNvZGlnb0FHUkVHQURPOiBmdW5jdGlvbiBidXNjYXJDb2RpZ29BR1JFR0FETygpIHsKICAgICAgdmFyIF90aGlzMTUgPSB0aGlzOwoKICAgICAgdmFyIHBvc1Byb2QgPSB0aGlzLnByb2R1Y3Rvc0FHUkVHQVIuZmluZEluZGV4KGZ1bmN0aW9uIChpdGVtKSB7CiAgICAgICAgcmV0dXJuIGl0ZW0uY29kaWdvQmFycmEgPT0gX3RoaXMxNS5wcm9kdWN0b0FHUkVHQURPOwogICAgICB9KTsKCiAgICAgIGlmIChwb3NQcm9kICE9PSAtMSkgewogICAgICAgIHRoaXMubm9tYnJlUHJvZHVjdG9BR1JFR0FETyA9IHRoaXMucHJvZHVjdG9zQUdSRUdBUltwb3NQcm9kXS5ub21Qcm9kdWN0bzsKICAgICAgICB0aGlzLmNvZGlnb0FHUkVHQVIgPSB0aGlzLnByb2R1Y3Rvc0FHUkVHQVJbcG9zUHJvZF0uY29kaWdvQmFycmE7CiAgICAgIH0KICAgIH0sCiAgICAvL0Z1bmNpb24gcXVlIFBFUk1JVEUgQUdSRUdBUiB1biBQcm9kdWN0byBhIHVuYSBCb2RlZ2EgcmVjaWVudGUuCiAgICBhZ3JlZ2FyUFJPRFVDVE9CT0RFR0E6IGZ1bmN0aW9uIGFncmVnYXJQUk9EVUNUT0JPREVHQSgpIHsKICAgICAgdmFyIGNvbmZpZyA9IHsKICAgICAgICBoZWFkZXJzOiB7CiAgICAgICAgICB0b2tlbjogdGhpcy50b2tlbgogICAgICAgIH0KICAgICAgfTsKICAgICAgdGhpcy5heGlvcy5wb3N0KCdhcGkvYWdyZWdhUHJvZHVjdG9Cb2RlZ2EnLCB7CiAgICAgICAgc3RvY2tCb2RlZ2E6IHRoaXMuc3RvY2tBR1JFR0FETywKICAgICAgICBzdG9ja0NyaXRpY286IHRoaXMuc3RvY2tDcml0aWNvQUdSRUdBRE8sCiAgICAgICAgbm9tQm9kZWdhOiB0aGlzLm5vbUJvZGVnYSwKICAgICAgICBjb2RpZ29CYXJyYTogdGhpcy5jb2RpZ29BR1JFR0FSCiAgICAgIH0sIGNvbmZpZykudGhlbihmdW5jdGlvbiAocmVzKSB7CiAgICAgICAgaWYgKCFyZXMuZGF0YS5zcWxNZXNzYWdlKSB7CiAgICAgICAgICBTd2FsLmZpcmUoJ1NlIGhhIGdlbmVyYWRvIHVuIG51ZXZvIFByb2R1Y3RvJywgJ1NlbGVjY2lvbmUgT2sgcGFyYSBjb250aW51YXInLCAnc3VjY2VzcycpOwogICAgICAgIH0gZWxzZSB7CiAgICAgICAgICBTd2FsLmZpcmUoewogICAgICAgICAgICBpY29uOiAnZXJyb3InLAogICAgICAgICAgICB0aXRsZTogJ09vcHMuLi4nLAogICAgICAgICAgICB0ZXh0OiAnQ29kaWdvIHlhIGV4aXN0ZW50ZSBlbiBib2RlZ2EnLAogICAgICAgICAgICBmb290ZXI6ICdFcnJvciBjb24gZWwgaW5ncmVzbyBkZWwgUHJvZHVjdG8nCiAgICAgICAgICB9KTsKICAgICAgICB9CiAgICAgIH0pLmNhdGNoKGZ1bmN0aW9uIChlKSB7CiAgICAgICAgU3dhbC5maXJlKHsKICAgICAgICAgIGljb246ICdlcnJvcicsCiAgICAgICAgICB0aXRsZTogJ09vcHMuLi4nLAogICAgICAgICAgdGV4dDogJ05vIHNlIGhhIGNyZWFkbyBlc3RlIG51ZXZvIHRpcG8nLAogICAgICAgICAgZm9vdGVyOiAnUG9zaWJsZSBlcnJvciBkZWwgc2lzdGVtYScKICAgICAgICB9KTsKICAgICAgfSk7CiAgICB9LAogICAgLy9GdW5jaW9uZXMgZGUgbGFzIGFsZXJ0YXMKICAgIGNvdW50RG93bkNoYW5nZWQ6IGZ1bmN0aW9uIGNvdW50RG93bkNoYW5nZWQoZGlzbWlzc0NvdW50RG93bikgewogICAgICB0aGlzLmRpc21pc3NDb3VudERvd24gPSBkaXNtaXNzQ291bnREb3duOwogICAgfSwKICAgIHNob3dBbGVydDogZnVuY3Rpb24gc2hvd0FsZXJ0KCkgewogICAgICB0aGlzLmRpc21pc3NDb3VudERvd24gPSB0aGlzLmRpc21pc3NTZWNzOwogICAgfSwKICAgIGFsZXJ0YTogZnVuY3Rpb24gYWxlcnRhKGNvbG9yLCB0ZXh0bykgewogICAgICB0aGlzLm1lbnNhamUuY29sb3IgPSBjb2xvcjsKICAgICAgdGhpcy5tZW5zYWplLnRleHRvID0gdGV4dG87CiAgICAgIHRoaXMuc2hvd0FsZXJ0KCk7CiAgICB9CiAgfSwKICBtb3VudGVkOiBmdW5jdGlvbiBtb3VudGVkKCkgewogICAgcmV0dXJuIF9hc3luY1RvR2VuZXJhdG9yKCAvKiNfX1BVUkVfXyovcmVnZW5lcmF0b3JSdW50aW1lLm1hcmsoZnVuY3Rpb24gX2NhbGxlZSgpIHsKICAgICAgcmV0dXJuIHJlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIF9jYWxsZWUkKF9jb250ZXh0KSB7CiAgICAgICAgd2hpbGUgKDEpIHsKICAgICAgICAgIHN3aXRjaCAoX2NvbnRleHQucHJldiA9IF9jb250ZXh0Lm5leHQpIHsKICAgICAgICAgICAgY2FzZSAwOgogICAgICAgICAgICAgIF9jb250ZXh0Lm5leHQgPSAyOwogICAgICAgICAgICAgIHJldHVybiAkKCcjYm9kZWdhcycpLkRhdGFUYWJsZSgpOwoKICAgICAgICAgICAgY2FzZSAyOgogICAgICAgICAgICAgIF9jb250ZXh0Lm5leHQgPSA0OwogICAgICAgICAgICAgIHJldHVybiAkKCcjb3JkZW5lcycpLkRhdGFUYWJsZSgpOwoKICAgICAgICAgICAgY2FzZSA0OgogICAgICAgICAgICAgIF9jb250ZXh0Lm5leHQgPSA2OwogICAgICAgICAgICAgIHJldHVybiAkKCcjZGV0YWxsZU9yZGVuJykuRGF0YVRhYmxlKCk7CgogICAgICAgICAgICBjYXNlIDY6CiAgICAgICAgICAgICAgX2NvbnRleHQubmV4dCA9IDg7CiAgICAgICAgICAgICAgcmV0dXJuICQoJyNlbnZpYXInKS5EYXRhVGFibGUoKTsKCiAgICAgICAgICAgIGNhc2UgODoKICAgICAgICAgICAgY2FzZSAiZW5kIjoKICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQuc3RvcCgpOwogICAgICAgICAgfQogICAgICAgIH0KICAgICAgfSwgX2NhbGxlZSk7CiAgICB9KSkoKTsKICB9LAogIHdhdGNoOiB7CiAgICBib2RlZ2FzOiBmdW5jdGlvbiBib2RlZ2FzKHZhbCkgewogICAgICBpZiAodGhpcy5wZXN0YcOxYSA9PT0gJ2JvZGVnYXMnKSB7CiAgICAgICAgJCgnI2JvZGVnYXMnKS5EYXRhVGFibGUoKS5kZXN0cm95KCk7CiAgICAgICAgdGhpcy4kbmV4dFRpY2soZnVuY3Rpb24gKCkgewogICAgICAgICAgJCgnI2JvZGVnYXMnKS5EYXRhVGFibGUoKTsKICAgICAgICB9KTsKICAgICAgfQogICAgfSwKICAgIG9yZGVuZXM6IGZ1bmN0aW9uIG9yZGVuZXModmFsKSB7CiAgICAgIGlmICh0aGlzLnBlc3Rhw7FhID09PSAnb3JkZW5lcycpIHsKICAgICAgICAkKCcjb3JkZW5lcycpLkRhdGFUYWJsZSgpLmRlc3Ryb3koKTsKICAgICAgICB0aGlzLiRuZXh0VGljayhmdW5jdGlvbiAoKSB7CiAgICAgICAgICAkKCcjb3JkZW5lcycpLkRhdGFUYWJsZSgpOwogICAgICAgIH0pOwogICAgICB9CiAgICB9LAogICAgZGV0YWxsZU9yZGVuOiBmdW5jdGlvbiBkZXRhbGxlT3JkZW4odmFsKSB7CiAgICAgIGlmICh0aGlzLnBlc3Rhw7FhID09PSAnZGV0YWxsZU9yZGVuJykgewogICAgICAgICQoJyNkZXRhbGxlT3JkZW4nKS5EYXRhVGFibGUoKS5kZXN0cm95KCk7CiAgICAgICAgdGhpcy4kbmV4dFRpY2soZnVuY3Rpb24gKCkgewogICAgICAgICAgJCgnI2RldGFsbGVPcmRlbicpLkRhdGFUYWJsZSgpOwogICAgICAgIH0pOwogICAgICB9CiAgICB9LAogICAgZW52aWFyOiBmdW5jdGlvbiBlbnZpYXIodmFsKSB7CiAgICAgIGlmICh0aGlzLnBlc3Rhw7FhID09PSAnZW52aWFyJykgewogICAgICAgICQoJyNlbnZpYXInKS5EYXRhVGFibGUoKS5kZXN0cm95KCk7CiAgICAgICAgdGhpcy4kbmV4dFRpY2soZnVuY3Rpb24gKCkgewogICAgICAgICAgJCgnI2VudmlhcicpLkRhdGFUYWJsZSgpOwogICAgICAgIH0pOwogICAgICB9CiAgICB9CiAgfQp9Ow=="},{"version":3,"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA+RA;AACA;AAEA;AACA;AACA;AACA;AACA;AAEA,gC,CAEA;;AACA;AACA;;AACA;AACAA;AACA;;AACA;AACAA;AAEA;AACAC,eADA;AAEAC;AACAC;AADA,GAFA;AAKAC,MALA,kBAKA;AACA;AACA;AACAC,wBAFA;AAGAC,mBAHA;AAIAC,iBAJA;AAKAC,iBALA;AAMAC,sBANA;AAOAC,gBAPA;AAQAC,kBARA;AASA;AACAC,qBAVA;AAWA;AACAC,mBAZA;AAaA;AACAC,qBAdA;AAeAC,mBAfA;AAgBAC,oBAhBA;AAiBAC,0BAjBA;AAkBAC;AAAAC;AAAAC;AAAAC;AAAAC;AAAAC;AAAAC;AAAAC;AAAAC;AAAA,QAlBA;AAmBAC,eAnBA;AAoBAC,qBApBA;AAqBA;AACAC,gBAtBA;AAuBAC,kBAvBA;AAwBAJ,eAxBA;AAyBAK,qBAzBA;AA0BAC,kBA1BA;AA2BAC,mBA3BA;AA4BA;AACAC,0BA7BA;AA8BAC,gCA9BA;AA+BAC,uBA/BA;AAgCAC,8BAhCA;AAiCAC,0BAjCA;AAkCAC,uBAlCA;AAmCA;AACAC,oBApCA;AAqCAC,yBArCA;AAsCAC;AAAAC;AAAAC;AAAA;AAtCA;AAwCA,GA9CA;AA+CAC;AACA;AACAjC;AAAAkC;AAAA,KAFA;AAGA/B;AAAA+B;AAAA,KAHA;AAIA9B;AAAA8B;AAAA,KAJA;AAKAV;AAAAU;AAAA,KALA;AAMAT;AAAAS;AAAA,KANA;AAOAX;AAAAW;AAAA;AAPA,GA/CA;AAwDAC,8BACAC,gCADA,CAxDA;AA2DAC,SA3DA,qBA2DA;AACA;AACA;AACA,GA9DA;AA+DAC;AACA;AACAC,YAFA,oBAEAC,GAFA,EAEA;AACA;AACA;;AACA;AACA;AACA;AAAAC;AAAAC;AAAAC;AAAAC;AAAAC;AAAAlC;AAAA;AACA,SAFA;AAGAnB;AACAsD;AACA,OANA,MAMA;AACA;AACA;AAAAC;AAAAC;AAAAC;AAAAC;AAAA;AACA,SAFA;AAGA1D;;AACA;AACAsD;AACA,SAFA,MAEA;AACAA;AACA;AACA,OAVA,MAUA;AACA;AACA;AAAAJ;AAAAD;AAAAI;AAAA;AACA,SAFA;AAGArD;AACAsD;AACA;;AACA;AACA1D;AACAA;AACA,KA/BA;AAgCA;AACA;AACA+D,mBAlCA,2BAkCAC,OAlCA,EAkCA;AAAA;;AACA;AACAC;AACAC;AADA;AADA;AAKA,qFACAC,IADA,CACA;AACA;;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AACA;AACA;AACA;AACA;AACA;AACA;AACA,OAhBA,EAiBAC,KAjBA,CAiBA;AACA;AACA,OAnBA;AAoBA,KA5DA;AA6DA;AACAC,yBA9DA,mCA8DA;AAAA;;AACA;AACAJ;AACAC;AADA;AADA;AAKA,mFACAC,IADA,CACA;AACA;AACA;AAAA3C;AAAAJ;AAAAE;AAAAgD;AAAAjD;AAAAE;AAAA;AACA;AACA,OALA,EAMA6C,KANA,CAMA;AACA;AACA,OARA;AASA,KA7EA;AA8EA;AACAG,wBA/EA,kCA+EA;AAAA;;AACA;AACAN;AACAC;AADA;AADA;AAKA,0DACAC,IADA,CACA;AACA;AACA;AACA;AACA,OALA,EAMAC,KANA,CAMA;AACA;AACA,OARA;AASA,KA9FA;AA+FA;AACAI,gBAhGA,0BAgGA;AACA;AACA;AACA;;AACA;AACA,KArGA;AAsGAC,mBAtGA,2BAsGAjD,WAtGA,EAsGAL,GAtGA,EAsGAM,MAtGA,EAsGA;AACA;AACA;AAAA;AAAA;AACA;AAAA;AAAA;;AACA;AACA;AACA,OAFA,MAEA;AACA;AACA;AACA,KA/GA;AAgHA;AACAiD,YAjHA,oBAiHAjD,MAjHA,EAiHA;AACA;AACA,KAnHA;AAoHA;AACAkD,kBArHA,0BAqHAnD,WArHA,EAqHAL,GArHA,EAqHA;AACA;AAAA;AAAA;AACA;;AACA;AACA;AACA;AACAyD;AACA;AACA;AACA;;AACA;AACA;AAAA;AAAA;AACA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;;AACA;AACA;AACA;;AACA;AACA;AACA;AACA;;AACA;AACA;AACA,OAlBA,MAkBA;AACA;AACA;AACA,KApJA;AAqJA;AACA;AACAC,kBAvJA,4BAuJA;AAAA;;AACA;AACA;AACA;AAAA1D;AAAAC;AAAAC;AAAAC;AAAAE;AAAAC;AAAAC;AAAA;;AACA;AACA;AAAA;AAAA;;AACA;AACAoD;AACA,SAFA,MAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AACA;AACA;AACA;AACA,KAnLA;AAoLA;AACAC,kBArLA,4BAqLA;AACA;AACA;AACA;AACA,OAHA,MAGA;AACA;AACA;AACA,KA5LA;AA6LA;AACAC,WA9LA,mBA8LAlD,QA9LA,EA8LA;AACA;AAAA;AAAA;;AACA;AACA;AACA;;AACA;AACA;AACA;AACA,KAtMA;AAuMA;AACAmD,iBAxMA,yBAwMAnD,QAxMA,EAwMA;AACA;AAAA;AAAA;;AACA;AACA;AACA;;AACA;AACA;AACA;;AACA;AACA;AACA;AACA,KAnNA;AAoNA;AACAoD,wBArNA,kCAqNA;AACA;AACA;AACA;;AACA;AACA;AACA;AACA,KA5NA;AA6NAC,yBA7NA,mCA6NA;AACA;AACA;AACA;;AACA;AACA;AACA;AACA,KApOA;AAqOA;AACAC,YAtOA,oBAsOAC,EAtOA,EAsOA;AAAA;;AACA;AACApB;AACAC;AADA;AADA;AAKA,gEACAC,IADA,CACA;AACA;AACA;AACA;AACA;;AACA;AACA;AACA;AACA;AACA,WAHA,MAGA;AACA;AACA;AACA;AACA,OAdA,EAeAC,KAfA,CAeA;AACAkB;AACAC,uBADA;AAEAC,0BAFA;AAGAC,iEAHA;AAIAC;AAJA;AAMA,OAtBA;AAuBA,KAnQA;AAoQA;AACAC,mBArQA,6BAqQA;AAAA;;AACA;AACA1B;AACAC;AADA;AADA;AAKA,kDACAC,IADA,CACA;AACA;AACA,OAHA,EAIAC,KAJA,CAIA;AACA;AACA,OANA;AAQA,KAnRA;AAoRAwB,oBApRA,4BAoRAC,QApRA,EAoRA;AACAA;AACA;AACAA;AACA;AACA,KAzRA;AA0RA;AACAC,kBA3RA,4BA2RA;AAAA;;AACA;AACA;AACA;;AACA;AACAC;AACA;;AACA;;AACA;AACAC;AACAR,sGADA;AAEAS,yBAFA;AAGAC,gCAHA;AAIAC,uCAJA;AAKAC,mCALA;AAMAC,sCANA;AAOAC;AAPA,WAQAnC,IARA,CAQA;AACA;AACA;AACA;AACAF;AACAC;AADA;AADA;;AAKA;AAAAqC;AAAAxF;AAAAyF;AAAA3F;AAAA,yBACAsD,IADA,CACA;AACA;AACA;;AACA;AACA,iBAHA,MAGA;AACAmB;AACAC,iCADA;AAEAC,oCAFA;AAGAC,mDAHA;AAIAC;AAJA;AAMA;AACA,eAbA,EAcAtB,KAdA,CAcA;AACAkB;AACAC,+BADA;AAEAC,kCAFA;AAGAC,uEAHA;AAIAC;AAJA;AAMA,eArBA;AAsBA,aA5BA,MA4BA;AACA;AACA;AACA;AACA,SA1CA;AA2CA,OA5CA,MA4CA;AACA;AACA;AACA,KAlVA;AAmVA;AACAe,iBApVA,2BAoVA;AACA;AACA;AACA;AACAxC;AACAC;AADA;AADA;AAKA;AAAA7C;AAAAkF;AAAA/E;AAAA,qBACA2C,IADA,CACA;AACA;AACAmB,wBACA,wDADA,EAEA,8BAFA,EAGA,SAHA;AAKA,aANA,MAMA;AACAA;AACAC,6BADA;AAEAC,gCAFA;AAGAC,+CAHA;AAIAC;AAJA;AAMA;AACA,WAhBA,EAiBAtB,KAjBA,CAiBA;AACAkB;AACAC,2BADA;AAEAC,8BAFA;AAGAC,mEAHA;AAIAC;AAJA;AAMA,WAxBA;AAyBA;AACA;AACA,KAvXA;AAyXA;AACAgB,aA1XA,uBA0XA;AAAA;;AACA;AACA;AACA;AACAzC;AACAC;AADA;AADA;AAKA;AAAA7C;AAAAR;AAAA,qBACAsD,IADA,CACA;AACA;AACA,WAHA,EAIAC,KAJA,CAIA;AACA;AACAkB;AACAC,2BADA;AAEAC,8BAFA;AAGAC,sEAHA;AAIAC;AAJA;AAMA,WAZA;AAaA;AACA;AACA,KAjZA;AAkZA;AACAiB,mBAnZA,6BAmZA;AACA;AACA;AACA;AACA;;AACA;AACA,KAzZA;AA0ZA;AACAC,iBA3ZA,2BA2ZA;AAAA;;AACA;AACA3C;AACAC;AADA;AADA;AAKA,mDACAC,IADA,CACA;AACA;AACA;AACA,OAJA,EAKAC,KALA,CAKA;AACA;AACA,OAPA;AAQA,KAzaA;AA0aA;AACAyC,UA3aA,oBA2aA;AACA;AACAC;AACAA;AACA;AACAA;AACA;AACA,KAlbA;AAmbAC,aAnbA,uBAmbA;AACAD;AACA;AACA;AACAA;AACA,KAxbA;AAybA;AACAE,gBA1bA,0BA0bA;AACA;AACAF;AACA;AACA;AACA,KA/bA;AAgcA;AACAG,cAjcA,wBAicA;AACA;AACA,KAncA;AAocAC,aApcA,uBAocA;AACA;AACA,KAtcA;AAucA;AACAC,cAxcA,sBAwcAtG,SAxcA,EAwcA;AACA;AACA;AACAiG;AACAA;AACA;AACA,KA9cA;AA+cAM,eA/cA,uBA+cAb,QA/cA,EA+cA;AACA;AACA;AACAO;AACAA;AACA;AACA,KArdA;AAsdAO,YAtdA,sBAsdA;AACA;AACA;AACAP;AACA;AACA,KA3dA;AA4dAQ,gBA5dA,wBA4dAzG,SA5dA,EA4dA;AACA;AACA;AACAiG;AACAA;AACA;AACA,KAleA;AAmeAS,kBAneA,4BAmeA;AACA;AACAT;AACA;AACA;AACA;AACA;AACA,KA1eA;AA2eA;AACAU,gBA5eA,0BA4eA;AAAA;;AACA;;AACA;AACA;AACAvD;AACAC;AADA;AADA;AAKA;AAAArD;AAAA,mBACAsD,IADA,CACA;AACA;AACA;AAAAtD;AAAA;;AACAyE,sBACA,+CADA,EAEA,8BAFA,EAGA,SAHA;AAKA,WAPA,MAOA;AACAA;AACAC,2BADA;AAEAC,8BAFA;AAGAC,4FAHA;AAIAC;AAJA;AAMA;AACA,SAjBA,EAkBAtB,KAlBA,CAkBA;AACAkB;AACAC,yBADA;AAEAC,4BAFA;AAGAC,8DAHA;AAIAC;AAJA;AAMA,SAzBA;AA0BA,OAhCA,MAgCA;AACA;AACA;AACA,KAjhBA;AAkhBA;AACA+B,iBAnhBA,2BAmhBA;AAAA;;AACA;AACAxD;AACAC;AADA;AADA;AAKA,iFACAC,IADA,CACA;AACA;AACA,OAHA,EAIAC,KAJA,CAIA;AACA;AACA,OANA;AAOA,KAhiBA;AAiiBA;AACAsD,sBAliBA,gCAkiBA;AAAA;;AACA;AACAzD;AACAC;AADA;AADA;AAKA,qEACAC,IADA,CACA;AACA;AACA,OAHA,EAIAC,KAJA,CAIA;AACA;AACA,OANA;AAOA,KA/iBA;AAgjBA;AACAuD,mBAjjBA,2BAijBAnG,WAjjBA,EAijBAH,QAjjBA,EAijBAiD,WAjjBA,EAijBA;AAAA;;AACA;AACA0B;AACAR,gLADA;AAEAS,yBAFA;AAGAC,gCAHA;AAIAC,uCAJA;AAKAC,mCALA;AAMAC,sCANA;AAOAC;AAPA,WAQAnC,IARA,CAQA;AACA;AACA;AACAF;AACAC;AADA;AADA;;AAKA;AAAA7C;AAAAR;AAAA,uBACAsD,IADA,CACA;AACA;AACA,aAHA,EAIAC,KAJA,CAIA;AACA;AACAkB;AACAC,6BADA;AAEAC,gCAFA;AAGAC,6DAHA;AAIAC;AAJA;AAMA,aAZA;AAaA;AACA,SA7BA;AA8BA,OA/BA,MA+BA;AACA;AACA;AACA,KAplBA;AAqlBA;AACAkC,oBAtlBA,4BAslBApG,WAtlBA,EAslBAH,QAtlBA,EAslBA;AAAA;;AACA;AACA4C;AACAC;AADA;AADA;AAKA;AAAA7C;AAAA,iBACA8C,IADA,CACA;AACAmB,kBACA,2DADA,EAEA,8BAFA,EAGA,SAHA;;AAKA;AACA,OARA,EASAlB,KATA,CASA;AACA;AACAkB;AACAC,uBADA;AAEAC,0BAFA;AAGAC,yEAHA;AAIAC;AAJA;AAMA,OAjBA;AAkBA,KA9mBA;AA+mBA;AACAmC,kCAhnBA,0CAgnBArG,WAhnBA,EAgnBAH,QAhnBA,EAgnBA;AACA;AAAA;AAAA;AACA;AACA;AACA,KApnBA;AAqnBA;AACAyG,wBAtnBA,kCAsnBA;AAAA;;AACA;AAAA;AAAA;;AACA;AACA;AACA;AACA;AACA,KA5nBA;AA6nBA;AACAC,yBA9nBA,mCA8nBA;AACA;AACA9D;AACAC;AADA;AADA;AAKA;AAAAI;AAAA/C;AAAAV;AAAAW;AAAA,iBACA2C,IADA,CACA;AACA;AACAmB,oBACA,kCADA,EAEA,8BAFA,EAGA,SAHA;AAKA,SANA,MAMA;AACAA;AACAC,yBADA;AAEAC,4BAFA;AAGAC,iDAHA;AAIAC;AAJA;AAMA;AACA,OAhBA,EAiBAtB,KAjBA,CAiBA;AACAkB;AACAC,uBADA;AAEAC,0BAFA;AAGAC,iDAHA;AAIAC;AAJA;AAMA,OAxBA;AAyBA,KA7pBA;AA8pBA;AACAsC,oBA/pBA,4BA+pBAvF,gBA/pBA,EA+pBA;AACA;AACA,KAjqBA;AAkqBAwF,aAlqBA,uBAkqBA;AACA;AACA,KApqBA;AAqqBAC,UArqBA,kBAqqBAvF,KArqBA,EAqqBAC,KArqBA,EAqqBA;AACA;AACA;AACA;AACA;AAzqBA,GA/DA;AA0uBAuF,SA1uBA,qBA0uBA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,qBACArB,yBADA;;AAAA;AAAA;AAAA,qBAEAA,yBAFA;;AAAA;AAAA;AAAA,qBAGAA,8BAHA;;AAAA;AAAA;AAAA,qBAIAA,wBAJA;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAKA,GA/uBA;AAgvBAsB;AACA7H,WADA,mBACA8H,GADA,EACA;AACA;AACAvB;AACA;AACAA;AACA,SAFA;AAGA;AACA,KARA;AASAtG,WATA,mBASA6H,GATA,EASA;AACA;AACAvB;AACA;AACAA;AACA,SAFA;AAGA;AACA,KAhBA;AAiBArG,gBAjBA,wBAiBA4H,GAjBA,EAiBA;AACA;AACAvB;AACA;AACAA;AACA,SAFA;AAGA;AACA,KAxBA;AAyBApG,UAzBA,kBAyBA2H,GAzBA,EAyBA;AACA;AACAvB;AACA;AACAA;AACA,SAFA;AAGA;AACA;AAhCA;AAhvBA","names":["XLSX","name","components","navbar","data","pestaña","agregar","bodegas","ordenes","detalleOrden","enviar","imagenes","nuevaBodega","nomBodega","bodegaCrear","proveedor","nuevaOrden","cantidadProductos","productos","key","nomProducto","cantidad","stock","stockCritico","codigoBarra","codBar","marca","prods","productoAnt","codigo","producto","descripcion","imagen","imagenDir","productoAGREGADO","nombreProductoAGREGADO","stockAGREGADO","stockCriticoAGREGADO","productosAGREGAR","codigoAGREGAR","dismissSecs","dismissCountDown","mensaje","color","texto","validations","required","computed","mapState","created","methods","exportar","num","CodigoBarra","Producto","Stock","StockBodega","Cantidad","filename","Código","Bodega","Proveedor","Fecha","cargarProductos","primera","headers","token","then","catch","cargarProductosBodega","stockBodega","cargarTODOSPRODUCTOS","cambiaBodega","buscarPorCodigo","anterior","cambioProducto","repetido","agregaProducto","a","quitarProducto","cantMin","cantMinBodega","cantMinBodegaAgregar","cantMinCriticoAGREGAR","detalles","id","Swal","icon","title","text","footer","obtenerImagenes","convertDateMysql","yourDate","generarInforme","suma","swal","type","showCancelButton","confirmButtonColor","cancelButtonColor","cancelButtonText","confirmButtonText","codOrden","fecha","ORDENProducto","sumaStock","actualizarStock","cargarBodegas","Volver","$","VolverORD","VolverEnviar","ActAgregar","NoAgregar","ActOrdenes","ActDOrdenes","ActCrear","ActProductos","ActAgregarProd","agregaBodega","cargarOrdenes","cargarDetalleOrden","EnviarDireccion","recibirDireccion","actualizarStocksProductoBodega","buscarCodigoAGREGADO","agregarPRODUCTOBODEGA","countDownChanged","showAlert","alerta","mounted","watch","val"],"sourceRoot":"src/views","sources":["bodegas.vue"],"sourcesContent":["<template>\r\n    <div class=\"menu\">\r\n        <navbar />\r\n        <b-container><br>\r\n            <h1 class=\"mt-2\">Administración de Bodegas</h1>\r\n            <h2 class=\"mt-1\" v-if=\"pestaña === 'bodegas'\"> Listado de Bodegas</h2>\r\n            <h2 class=\"mt-1\" v-if=\"pestaña === 'ordenes'\"> Listado de Ordenes de la Bodega: {{nomBodega}}</h2>\r\n            <b-alert\r\n              :show=\"dismissCountDown\"\r\n              dismissible\r\n              :variant=\"mensaje.color\"\r\n              @dismissed=\"dismissCountDown=0\"\r\n              @dismiss-count-down=\"countDownChanged\"\r\n              >\r\n              {{mensaje.texto}}\r\n            </b-alert>\r\n            <div class=\"mt-1\">\r\n                <b-row v-if=\"pestaña === 'bodegas'\">\r\n                    <b-col cols=\"12\" md=\"6\">\r\n                        <b-button @click=\"ActCrear()\" class=\"btn-success btn boton mt-5\">Generar Orden de Compra</b-button>\r\n                    </b-col>\r\n                    <b-col cols=\"12\" md=\"6\" v-if=\"agregar === 'no'\">\r\n                        <b-button @click=\"ActAgregar()\" variant=\"primary\" class=\"btn boton mt-5\">Agregar Bodega</b-button>\r\n                    </b-col>\r\n                    <b-col cols=\"12\" md=\"6\" v-if=\"agregar === 'si'\">\r\n                        <b-button @click=\"NoAgregar()\" class=\"btn boton mt-5\">No Agregar</b-button>\r\n                    </b-col>\r\n                </b-row>\r\n                <div v-if=\"pestaña === 'bodegas'\">\r\n                    <b-row class=\"m-4\" v-if=\"agregar === 'si'\">\r\n                        <b-col cols=\"12\" md=\"6\">\r\n                            <label for=\"exampleInputEmail1\" class=\"form-label\">Nueva Bodega</label>\r\n                            <input type=\"text\" class=\"form-control\" aria-describedby=\"emailHelp\" v-model=\"$v.nuevaBodega.$model\">\r\n                            <p class=\"text-danger\" v-if=\"$v.nuevaBodega.$error\">Debe Ingresar el nombre de la Bodega</p>\r\n                        </b-col>\r\n                        <b-col cols=\"12\" md=\"6\">\r\n                            <b-button @click=\"agregaBodega()\" variant=\"primary\" class=\"btn boton mt-5\">Agregar Bodega</b-button>\r\n                        </b-col>\r\n                    </b-row>\r\n                </div>\r\n                <table class=\"table table-striped table-dark table-responsive-lg table-responsive-md\" id=\"bodegas\" v-if=\"pestaña === 'bodegas'\">\r\n                  <thead>\r\n                    <tr>\r\n                      <th scope=\"col\">Nombre de la Bodega</th>\r\n                      <th scope=\"col\">Enviar a Dirección</th>\r\n                      <th scope=\"col\">Ordenes de Compra</th>\r\n                    </tr>\r\n                  </thead>\r\n                  <tbody>\r\n                    <tr v-for=\"i in bodegas\" :key=\"i.nomBodega\">\r\n                      <td scope=\"row\">{{i.nomBodega}}</td>\r\n                      <td><b-button @click=\"ActProductos(i.nomBodega)\" class=\"btn-warning btn-sm\" style=\"border-color: white;\">Enviar</b-button></td>\r\n                      <td><b-button @click=\"ActOrdenes(i.nomBodega)\" class=\"btn-success btn-sm\" style=\"border-color: white;\">Ordenes</b-button></td>\r\n                    </tr>\r\n                  </tbody>\r\n                </table>\r\n                <b-button @click=\"Volver()\" class=\"btn boton mt-5\" v-if=\"pestaña === 'crear'\">Volver al Listado de Bodegas</b-button>\r\n                <div class=\" card mt-4\" v-if=\"pestaña === 'crear'\">\r\n                    <div class=\"card-header\">\r\n                        <h2>Determine que productos serán enviados a la Bodega</h2>\r\n                    </div>\r\n                    <div class=\"card-body\">\r\n                        <b-row class=\"mt-2\">\r\n                            <b-col cols=\"12\" md=\"3\">\r\n                                <label for=\"exampleInputEmail1\" class=\"form-label\">Bodega</label>\r\n                                <select @change=\"cambiaBodega()\" class=\"form-control\" v-model=\"bodegaCrear\">\r\n                                    <option v-for=\"i in bodegas\" :key=\"i.nomBodega\" :value=\"i.nomBodega\">{{i.nomBodega}}</option>\r\n                                </select>\r\n                            </b-col>\r\n                            <b-col cols=\"12\" md=\"2\">\r\n                                <label for=\"exampleInputEmail1\" class=\"form-label\">Proveedor</label>\r\n                                <input type=\"text\" class=\"form-control\" aria-describedby=\"emailHelp\" v-model=\"$v.proveedor.$model\">\r\n                                <p class=\"text-danger\" v-if=\"$v.proveedor.$error\">Debe Ingresar el proveedor</p>\r\n                            </b-col>\r\n                            <b-col cols=\"12\" md=\"3\">\r\n                                <label for=\"exampleInputEmail1\" class=\"form-label\">Numero de Orden</label>\r\n                                <input type=\"text\" class=\"form-control\" aria-describedby=\"emailHelp\" v-model=\"$v.nuevaOrden.$model\">\r\n                                <p class=\"text-danger\" v-if=\"$v.nuevaOrden.$error\">Debe Ingresar el numero de la Orden</p>\r\n                            </b-col>\r\n                            <b-col cols=\"12\" md=\"2\">\r\n                                <b-button @click=\"agregaProducto()\" variant=\"primary\" class=\"btn-primary btn boton\">Agregar Producto</b-button>\r\n                            </b-col>\r\n                            <b-col cols=\"12\" md=\"2\">\r\n                                <b-button @click=\"quitarProducto()\" class=\"btn-danger btn boton\">Quitar Producto</b-button>\r\n                            </b-col>\r\n                        </b-row>\r\n                        <b-row class=\"mt-2\" v-for=\"i in productos\" :key=\"i.key\">\r\n                            <b-col cols=\"12\" md=\"3\">\r\n                                <label for=\"exampleInputEmail1\" class=\"form-label\">Codigo de Barra</label>\r\n                                <input type=\"text\" @input=\"buscarPorCodigo(i.codigoBarra, i.key, i.codBar)\" class=\"form-control\" aria-describedby=\"emailHelp\" v-model=\"i.codigoBarra\"> \r\n                            </b-col>\r\n                            <b-col cols=\"12\" md=\"3\">\r\n                                <label for=\"exampleInputEmail1\" class=\"form-label\">Producto</label>\r\n                                <select disabled class=\"form-control\" @click=\"anterior(i.nomProducto)\" @change=\"cambioProducto(i.nomProducto, i.key)\" v-model=\"i.nomProducto\">\r\n                                    <option v-for=\"i in prods\" :key=\"i.codBar\" :value=\"i.nomProducto\">{{i.nomProducto}}</option>\r\n                                </select>\r\n                            </b-col>\r\n                            <b-col cols=\"12\" md=\"1\">\r\n                                <label for=\"exampleInputEmail1\" class=\"form-label\">Cantidad</label>\r\n                                <input type=\"number\" @change=\"cantMin(i.key)\" min=\"1\" class=\"form-control\" aria-describedby=\"emailHelp\" v-model=\"i.cantidad\">\r\n                            </b-col>\r\n                            <b-col cols=\"12\" md=\"2\">\r\n                                <label for=\"exampleInputEmail1\" class=\"form-label\">Stock en Bodega</label>\r\n                                <input disabled type=\"number\" class=\"form-control\" aria-describedby=\"emailHelp\" v-model=\"i.stock\">\r\n                            </b-col>\r\n                            <b-col cols=\"12\" md=\"1\">\r\n                                <label for=\"exampleInputEmail1\" class=\"form-label\">Critico</label>\r\n                                <input disabled type=\"number\" class=\"form-control\" aria-describedby=\"emailHelp\" v-model=\"i.stockCritico\">\r\n                            </b-col>\r\n                            <b-col cols=\"12\" md=\"2\">\r\n                                <b-button @click=\"detalles(i.codBar)\" v-b-modal.modal-1 class=\"btn-success boton\">Detalles Producto</b-button>\r\n                            </b-col>\r\n                        </b-row>\r\n                        <b-row>\r\n                            <b-col cols=\"12\" md=\"6\">\r\n                                <b-button @click=\"generarInforme()\" class=\"btn-success btn boton mt-5\">Generar Orden de Compra</b-button>\r\n                            </b-col> \r\n                            <b-col cols=\"12\" md=\"6\">\r\n                                <b-button @click=\"sumaStock()\" class=\"btn-success btn boton mt-5\">Compra en Caja Menor</b-button>\r\n                            </b-col> \r\n                        </b-row>\r\n                    </div>\r\n                </div>\r\n                <b-modal id=\"modal-1\" size=\"lg\" title=\"Detalles del Producto\">\r\n                    <div class=\"card-body\">\r\n                        <b-row class=\"mt-2\">\r\n                            <b-col cols=\"12\" md=\"4\">\r\n                                <label for=\"exampleInputEmail1\" class=\"form-label\">Codigo de Barras</label>\r\n                                <input disabled type=\"text\" class=\"form-control\" aria-describedby=\"emailHelp\" v-model=\"codigo\">\r\n                            </b-col>\r\n                            <b-col cols=\"12\" md=\"4\">\r\n                                <label for=\"exampleInputEmail1\" class=\"form-label\">Nombre</label>\r\n                                <input disabled type=\"text\" class=\"form-control\" aria-describedby=\"emailHelp\" v-model=\"producto\">\r\n                            </b-col>\r\n                            <b-col cols=\"12\" md=\"4\">\r\n                                <label for=\"exampleInputEmail1\" class=\"form-label\">Marca</label>\r\n                                <input disabled type=\"text\" class=\"form-control\" aria-describedby=\"emailHelp\" v-model=\"marca\">\r\n                            </b-col>\r\n                        </b-row>\r\n                        <b-row class=\"mt-4\">\r\n                            <b-col cols=\"12\" md=\"12\">\r\n                                <label for=\"exampleInputEmail1\" class=\"form-label\">Descripcion</label>\r\n                                <textarea disabled type=\"text\" class=\"form-control\" id=\"exampleInputEmail1\" aria-describedby=\"emailHelp\" v-model=\"descripcion\"></textarea>\r\n                            </b-col>\r\n                        </b-row>\r\n                        <b-row class=\"mt-5\">\r\n                            <b-col cols=\"12\" md=\"12\">\r\n                                <img :src=\"imagenDir\" id=\"imagenEdita\" width=\"75%\">\r\n                            </b-col>\r\n                        </b-row>\r\n                    </div>\r\n                </b-modal>\r\n\r\n                <b-row v-if=\"pestaña === 'ordenes'\">\r\n                    <b-col cols=\"12\" md=\"12\">\r\n                        <b-button @click=\"Volver()\" class=\"btn btn boton mt-5\">Volver al Listado de Bodegas</b-button>\r\n                    </b-col>\r\n                </b-row>\r\n                <table class=\"table table-striped table-dark table-responsive-lg table-responsive-md\" id=\"ordenes\" v-if=\"pestaña === 'ordenes'\">\r\n                  <thead>\r\n                    <tr>\r\n                      <th scope=\"col\">Codigo de Orden</th>\r\n                      <th scope=\"col\">Bodega</th>\r\n                      <th scope=\"col\">Proveedor</th>\r\n                      <th scope=\"col\">Fecha</th>\r\n                      <th scope=\"col\">Ver al Detalle</th>\r\n                    </tr>\r\n                  </thead>\r\n                  <tbody>\r\n                    <tr v-for=\"i in ordenes\" :key=\"i.codOrden\">\r\n                      <td scope=\"row\">{{i.codOrden}}</td>\r\n                      <td>{{i.nomBodega}}</td>\r\n                      <td>{{i.proveedor}}</td>\r\n                      <td>{{i.fecha}}</td>\r\n                      <td><b-button @click=\"ActDOrdenes(i.codOrden)\" class=\"btn-success btn-sm\" style=\"border-color: white;\">Detalles</b-button></td>\r\n                    </tr>\r\n                  </tbody>\r\n                </table>\r\n                <br v-if=\"pestaña === 'ordenes'\"><div class=\"mb-1\">\r\n                    <b-button @click=\"exportar(2)\" v-if=\"pestaña === 'ordenes'\" class=\"btn-success boton\">Exportar</b-button>\r\n                </div>\r\n                <b-row v-if=\"pestaña === 'detalleOrden'\">\r\n                    <b-col cols=\"12\" md=\"12\">\r\n                        <b-button @click=\"VolverORD()\" class=\"btn btn boton mt-5\">Volver al Historial</b-button>\r\n                    </b-col>\r\n                </b-row>\r\n                <table class=\"table table-striped table-dark table-responsive-lg table-responsive-md\" id=\"detalleOrden\" v-if=\"pestaña === 'detalleOrden'\">\r\n                  <thead>\r\n                    <tr>\r\n                      <th scope=\"col\">ID</th>\r\n                      <th scope=\"col\">Codigo Barra</th>\r\n                      <th scope=\"col\">Producto</th>\r\n                      <th scope=\"col\">Cantidad</th>\r\n                    </tr>\r\n                  </thead>\r\n                  <tbody>\r\n                    <tr v-for=\"i in detalleOrden\" :key=\"i.corrOrdenProducto\">\r\n                      <td scope=\"row\">{{i.corrOrdenProducto}}</td>\r\n                      <td>{{i.codigoBarra}}</td>\r\n                      <td>{{i.nomProducto}}</td>\r\n                      <td>{{i.cantidad}}</td>\r\n                    </tr>\r\n                  </tbody>\r\n                </table>\r\n                <br v-if=\"pestaña === 'detalleOrden'\"><div class=\"mb-1\">\r\n                    <b-button @click=\"exportar(3)\" v-if=\"pestaña === 'detalleOrden'\" class=\"btn-success boton\">Exportar</b-button>\r\n                </div>\r\n                <b-row v-if=\"pestaña === 'enviar'\">\r\n                    <b-col cols=\"12\" md=\"6\">\r\n                        <b-button @click=\"Volver()\" class=\"btn btn boton mt-5\">Volver al Listado de Bodegas</b-button>\r\n                    </b-col>\r\n                    <b-col cols=\"12\" md=\"6\">\r\n                        <b-button @click=\"ActAgregarProd()\" class=\"btn btn-success boton mt-5\">Agregar nuevo Producto</b-button>\r\n                    </b-col>\r\n                </b-row>\r\n                <table class=\"table table-striped table-dark table-responsive-lg table-responsive-md\" id=\"enviar\" v-if=\"pestaña === 'enviar'\">\r\n                  <thead>\r\n                    <tr>\r\n                      <th scope=\"col\">Codigo Barra</th>\r\n                      <th scope=\"col\">Nombre Producto</th>\r\n                      <th scope=\"col\">Stock Regional</th>\r\n                      <th scope=\"col\">Stock Bodega</th>\r\n                      <th scope=\"col\">Cantidad</th>\r\n                      <th scope=\"col\">Stock Critico</th>\r\n                      <th scope=\"col\">Enviar a Dirección</th>\r\n                    </tr>\r\n                  </thead>\r\n                  <tbody>\r\n                    <tr v-for=\"i in enviar\" :key=\"i.codigoBarra\">\r\n                      <td scope=\"row\">{{i.codigoBarra}}</td>\r\n                      <td>{{i.nomProducto}}</td>\r\n                      <td>{{i.stock}}</td>\r\n                      <td>{{i.stockBodega}}</td>\r\n                      <td><input type=\"number\" @change=\"cantMinBodega(i.codigoBarra)\" min=\"1\" class=\"form-control\" aria-describedby=\"emailHelp\" v-model=\"i.cantidad\"></td>\r\n                      <td>{{i.stockCritico}}</td>\r\n                      <td><b-button @click=\"EnviarDireccion(i.codigoBarra, i.cantidad, i.stockBodega)\" class=\"btn-success btn-sm\" style=\"border-color: white;\">Enviar</b-button></td>\r\n                    </tr>\r\n                  </tbody>\r\n                </table>\r\n                <br v-if=\"pestaña === 'enviar'\"><div class=\"mb-1\">\r\n                    <b-button @click=\"exportar(1)\" v-if=\"pestaña === 'enviar'\" class=\"btn-success boton\">Exportar</b-button>\r\n                </div>\r\n                <b-row v-if=\"pestaña === 'agregarProducto'\">\r\n                    <b-col cols=\"12\" md=\"12\">\r\n                        <b-button @click=\"VolverEnviar()\" class=\"btn btn boton mt-5\">Volver al Listado de Bodegas</b-button>\r\n                    </b-col>\r\n                </b-row>\r\n                <div class=\"card mt-5\" v-if=\"pestaña === 'agregarProducto'\" style=\"border-color: black;\">\r\n                    <div class=\"card-header\">\r\n                        <h2>Agrega un Nuevo Producto a Bodega: {{nomBodega}}</h2>\r\n                    </div>\r\n                    <div class=\"card-body\">\r\n                        <b-row class=\"mt-2\">\r\n                            <b-col cols=\"12\" md=\"4\">\r\n                                <label for=\"exampleInputEmail1\" class=\"form-label\">Codigo del Producto</label>\r\n                                <input type=\"text\" @input=\"buscarCodigoAGREGADO()\" class=\"form-control\" aria-describedby=\"emailHelp\" v-model=\"productoAGREGADO\">\r\n                            </b-col>\r\n                            <b-col cols=\"12\" md=\"3\">\r\n                                <label for=\"exampleInputEmail1\" class=\"form-label\">Producto</label>\r\n                                <select disabled class=\"form-control\" v-model=\"$v.nombreProductoAGREGADO.$model\">\r\n                                    <option v-for=\"i in productosAGREGAR\" :key=\"i.codigoBarra\" :value=\"i.nomProducto\">{{i.nomProducto}}</option>\r\n                                </select>\r\n                            </b-col>\r\n                            <b-col cols=\"12\" md=\"2\">\r\n                                <label for=\"exampleInputEmail1\" class=\"form-label\">Stock Bodega</label>\r\n                                <input type=\"number\" class=\"form-control\" @change=\"cantMinBodegaAgregar()\" aria-describedby=\"emailHelp\" v-model=\"$v.stockAGREGADO.$model\">\r\n                                <p class=\"text-danger\" v-if=\"$v.stockAGREGADO.$error\" >Es necesario ingresar este stock</p>\r\n                            </b-col>\r\n                            <b-col cols=\"12\" md=\"2\">\r\n                                <label for=\"exampleInputEmail1\" class=\"form-label\">Stock Critico</label>\r\n                                <input type=\"number\" class=\"form-control\" @change=\"cantMinCriticoAGREGAR()\" aria-describedby=\"emailHelp\" v-model=\"$v.stockCriticoAGREGADO.$model\">\r\n                                <p class=\"text-danger\" v-if=\"$v.stockCriticoAGREGADO.$error\" >Es necesario ingresar este stock</p>\r\n                            </b-col>\r\n                        </b-row>\r\n                        <b-row class=\"mt-2\">\r\n                            <b-col cols=\"12\" md=\"12\">\r\n                                <b-button @click=\"agregarPRODUCTOBODEGA()\" class=\"btn btn-success boton mt-5\">Agregar Producto</b-button>\r\n                            </b-col>\r\n                        </b-row>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        </b-container>\r\n    </div>\r\n</template>\r\n\r\n<script>\r\nimport navbar from \"../components/navbar.vue\";\r\nimport { required, minLength} from \"vuelidate/lib/validators\";\r\n\r\nimport 'jquery/dist/jquery.min.js';\r\nimport 'bootstrap/dist/css/bootstrap.min.css';\r\nimport \"datatables.net-dt/js/dataTables.dataTables\"\r\nimport \"datatables.net-dt/css/jquery.dataTables.min.css\"\r\nimport $ from 'jquery'; \r\n\r\nimport { mapState } from 'vuex'\r\n\r\n//EXCEL eXportación\r\nimport * as XLSX from 'xlsx/xlsx.mjs';\r\n/* load 'fs' for readFile and writeFile support */\r\nimport * as fs from 'fs';\r\nXLSX.set_fs(fs);\r\n/* load the codepage support library for extended support with older formats  */\r\nimport * as cpexcel from 'xlsx/dist/cpexcel.full.mjs';\r\nXLSX.set_cptable(cpexcel);\r\n\r\nexport default {\r\n    name: \"about\",\r\n    components: {\r\n        navbar,\r\n    },\r\n    data() {\r\n      return {\r\n        //Datos para agregar un nuevo memo (historial) con v-model\r\n        pestaña: 'bodegas',\r\n        agregar: 'no',\r\n        bodegas: [],\r\n        ordenes: [],\r\n        detalleOrden: [],\r\n        enviar: [],\r\n        imagenes: [],\r\n        //Variables del AGREGAR\r\n        nuevaBodega: '',\r\n        //Variable para reconocer una bodega\r\n        nomBodega: '',\r\n        //Datos para agregar una nueva Orden de Compra con v-model\r\n        bodegaCrear: '',\r\n        proveedor: '',\r\n        nuevaOrden: '',\r\n        cantidadProductos: 1,\r\n        productos: [{key: 1, nomProducto: '', cantidad: 0, stock: 0, stockCritico: 0, codigoBarra: '', codBar: '', marca: ''}],\r\n        prods: [],\r\n        productoAnt: '',\r\n        //VARIABLES DE DETALLES\r\n        codigo: '',\r\n        producto: '',\r\n        marca: '',\r\n        descripcion: '',\r\n        imagen: null,\r\n        imagenDir: '',\r\n        //VARIABLES PARA AGREGAR UN NUEVO PRODUCTO\r\n        productoAGREGADO: '',\r\n        nombreProductoAGREGADO: '',\r\n        stockAGREGADO: '',\r\n        stockCriticoAGREGADO: '',\r\n        productosAGREGAR: [],\r\n        codigoAGREGAR: '',\r\n        //Variables de las alertas\r\n        dismissSecs: 5,\r\n        dismissCountDown: 0,\r\n        mensaje: {color: '', texto: ''},\r\n      }\r\n    },\r\n    validations:{\r\n        //Validaciones de los input\r\n        nuevaBodega:{required},\r\n        proveedor:{required},\r\n        nuevaOrden:{required},\r\n        stockAGREGADO:{required},\r\n        stockCriticoAGREGADO:{required},\r\n        nombreProductoAGREGADO:{required}\r\n    },\r\n    computed: {\r\n      ...mapState(['token', 'usuarioDB'])\r\n    },\r\n    created(){\r\n        this.cargarBodegas();\r\n        this.obtenerImagenes();\r\n    },\r\n    methods:{\r\n        //Función que permite exportar las tablas en excel\r\n        exportar(num) {\r\n            let data = [];\r\n            var filename = \"planilla\";\r\n            if(num === 1){\r\n                var arreglado = this.enviar.map( item => { \r\n                    return { CodigoBarra: item.codigoBarra , Producto : item.nomProducto, Stock : item.stock, StockBodega : item.stockBodega, Cantidad : item.cantidad, stockCritico : item.stockCritico }; \r\n                });\r\n                data = XLSX.utils.json_to_sheet(arreglado);\r\n                filename = 'Productos'\r\n            }else if(num === 2){\r\n                var arreglado = this.ordenes.map( item => { \r\n                    return { Código: item.codOrden , Bodega : item.nomBodega, Proveedor : item.proveedor, Fecha : item.fecha }; \r\n                });\r\n                data = XLSX.utils.json_to_sheet(arreglado);\r\n                if(arreglado[0]){\r\n                    filename = 'Ordenes' + this.nomBodega\r\n                }else{\r\n                    filename = 'Ordenes'\r\n                }\r\n            }else if(num === 3){\r\n                var arreglado = this.detalleOrden.map( item => { \r\n                    return { Producto: item.nomProducto , CodigoBarra : item.codigoBarra, Cantidad : item.cantidad }; \r\n                });\r\n                data = XLSX.utils.json_to_sheet(arreglado);\r\n                filename = 'Orden' + this.histo\r\n            }\r\n            const workbook = XLSX.utils.book_new();\r\n            XLSX.utils.book_append_sheet(workbook, data, filename);\r\n            XLSX.writeFile(workbook, `${filename}.xlsx`);\r\n        },\r\n        //METODOS PARA GENERAR LAS ORDENES DE COMPRA\r\n        //Metodo que Carga todos los productos del sistema\r\n        cargarProductos(primera){\r\n            let config = {\r\n                headers: {\r\n                    token: this.token\r\n                }\r\n            }\r\n            this.axios.get(`api/obtenerProductosBodega/${this.bodegaCrear}`, config)\r\n            .then(res => {\r\n                this.prods = res.data;\r\n                if(primera){\r\n                    this.productos[0].nomProducto = this.prods[0].nomProducto\r\n                    this.productos[0].stock = this.prods[0].stockBodega\r\n                    this.productos[0].stockCritico = this.prods[0].stockCritico\r\n                    this.productos[0].codigoBarra = this.prods[0].codigoBarra\r\n                    this.productos[0].codBar = this.prods[0].codigoBarra\r\n                    this.productos[0].marca = this.prods[0].marca\r\n                    if(this.productos[0].stock < this.productos[0].stockCritico){\r\n                        if(this.productos[0].stock === 0){\r\n                            this.alerta('danger', 'No hay stock disponible en bodega para el producto ' + this.productos[0].nomProducto)\r\n                        }\r\n                    }\r\n                }\r\n            })\r\n            .catch(e => {\r\n                this.alerta('danger', 'No se han podido cargar los Productos');\r\n            })\r\n        },\r\n        //Función que carga los productos de una bodega para trasferir productos a Dirección Regional\r\n        cargarProductosBodega(){\r\n            let config = {\r\n                headers: {\r\n                    token: this.token\r\n                }\r\n            }\r\n            this.axios.get(`api/obtenerProductosBodega/${this.nomBodega}`, config)\r\n            .then(res => {\r\n                for(var i = 0; i<res.data.length; i++){\r\n                    this.enviar.push({codigoBarra: res.data[i].codigoBarra, nomProducto: res.data[i].nomProducto, stock: res.data[i].stock, stockBodega: res.data[i].stockBodega, cantidad: 0, stockCritico: res.data[i].stockCritico})\r\n                }\r\n            })\r\n            .catch(e => {\r\n                this.alerta('danger', 'No se han podido cargar los Productos');\r\n            })\r\n        },\r\n        //FUNCIÓN QUE CARGA TODOS LOS PRODUCTOS PARA AGREGARLO A UNA NUEVA BODEGA\r\n        cargarTODOSPRODUCTOS(){\r\n            let config = {\r\n                headers: {\r\n                    token: this.token\r\n                }\r\n            }\r\n            this.axios.get(`api/obtenerProductosSolos`, config)\r\n            .then(res => {\r\n                this.productosAGREGAR = res.data;\r\n                this.nombreProductoAGREGADO = this.productosAGREGAR[0].nomProducto;\r\n                this.codigoAGREGAR = this.productosAGREGAR[0].codigoBarra;\r\n            })\r\n            .catch(e => {\r\n                this.alerta('danger', 'No se han podido cargar los Productos');\r\n            })\r\n        },\r\n        //Función que permite re-cargar los productos al momento de cambiar la bodega en la vista de rellenar Bodega\r\n        cambiaBodega(){\r\n            for(var i = 0; i<this.productos.length-1; i++){\r\n                this.productos.splice(-1)\r\n            }\r\n            this.cargarProductos(true)\r\n        },\r\n        buscarPorCodigo(codigoBarra, key, codBar){\r\n            this.anterior(codBar)\r\n            const indexActual = this.productos.findIndex(item => item.key == key);\r\n            const posProd = this.prods.findIndex(item => item.codigoBarra == codigoBarra)\r\n            if(posProd !== -1){\r\n                this.cambioProducto(this.prods[posProd].codigoBarra, key)\r\n            }else{\r\n                this.productos[indexActual].codBar = this.productoAnt\r\n            }\r\n        },\r\n        //Función que te permite guardar el valor anterior del select\r\n        anterior(codBar){\r\n            this.productoAnt = codBar\r\n        },\r\n        //Si se cambia un producto se debe buscar su stock\r\n        cambioProducto(codigoBarra, key){\r\n            const indexActual = this.productos.findIndex(item => item.key == key);\r\n            var repetido = false;\r\n            for(var i = 0; i<this.productos.length; i++){\r\n                if(i != indexActual){\r\n                    if(this.productos[i].codBar === codigoBarra){\r\n                        repetido = true;\r\n                    }\r\n                }\r\n            }\r\n            if(!repetido){\r\n                const index = this.prods.findIndex(item => item.codigoBarra == codigoBarra);\r\n                const index2 = this.productos.findIndex(item => item.key == key);\r\n                this.productos[index2].stock = this.prods[index].stockBodega\r\n                this.productos[index2].stockCritico = this.prods[index].stockCritico\r\n                this.productos[index2].nomProducto = this.prods[index].nomProducto;\r\n                this.productos[index2].codigoBarra = this.prods[index].codigoBarra\r\n                this.productos[index2].codBar = this.prods[index].codigoBarra\r\n                this.productos[index2].marca = this.prods[index].marca\r\n                if(this.productos[index2].cantidad > this.productos[index2].stock){\r\n                    this.productos[index2].cantidad = this.productos[index2].stock;\r\n                }\r\n                if(this.productos[index2].stock + this.productos[index2].cantidad < this.productos[index2].stockCritico){\r\n                    if(this.productos[index2].stock){\r\n                        this.alerta('danger', 'El existe stock en bodega para el producto ' + this.productos[index2].nomProducto)\r\n                    }\r\n                    this.alerta('danger', 'El stock que existe actualmente en bodega del producto \"' + this.productos[index2].nomProducto + '\" es inferior al stock crítico')\r\n                }\r\n            }else{\r\n                this.productos[indexActual].codBar = this.productoAnt  \r\n            }\r\n        },\r\n        //Se agrega un nuevo posible producto\r\n        //ADEMAS debe revisar si los valores anteriores estan repetidos\r\n        agregaProducto(){\r\n            this.cantidadProductos++\r\n            var a = 0;\r\n            this.productos.push({key: this.cantidadProductos, nomProducto: '', cantidad: 0, stock: 0, codigoBarra: '', codBar: '', marca: ''});\r\n            while(a < this.prods.length){\r\n                const index = this.productos.findIndex(item => item.codBar == this.prods[a].codigoBarra);\r\n                if(index != -1){\r\n                    a++;\r\n                }else{\r\n                    this.productos[this.productos.length-1].nomProducto = this.prods[a].nomProducto\r\n                    this.productos[this.productos.length-1].stock = this.prods[a].stockBodega\r\n                    this.productos[this.productos.length-1].stockCritico = this.prods[a].stockCritico\r\n                    this.productos[this.productos.length-1].codigoBarra = this.prods[a].codigoBarra\r\n                    this.productos[this.productos.length-1].codBar = this.prods[a].codigoBarra\r\n                    this.productos[this.productos.length-1].marca = this.prods[a].marca\r\n                    this.productos[this.productos.length-1].key = this.cantidadProductos\r\n                    break;\r\n                }\r\n                if(a == this.prods.length){\r\n                    this.cantidadProductos--;\r\n                    this.productos.splice(-1);\r\n                    this.alerta('danger','No existen mas productos para agregar')\r\n                    break;\r\n                }\r\n            } \r\n            if(this.productos[this.productos.length-1].stock < this.productos[this.productos.length-1].stockCritico && a != this.prods.length){\r\n                this.alerta('danger', 'El stock que existe actualmente en bodega del producto \"' + this.productos[this.productos.length-1].nomProducto + '\" es inferior al stock crítico')\r\n            }\r\n        },\r\n        //Se quita un Producto de los que serán agregados al sistema\r\n        quitarProducto(){\r\n            if(this.productos.length > 1){\r\n                this.cantidadProductos--;\r\n                this.productos.splice(-1);\r\n            }else{\r\n                this.alerta('danger', 'Tiene que existir al menos 1 producto');\r\n            }\r\n        },\r\n        //Indicamos el minimo de cantidad para que no este vacio o sea menor a 0\r\n        cantMin(producto){\r\n            const index = this.productos.findIndex(item => item.key == producto);\r\n            if(this.productos[index].cantidad < 0 || this.productos[index].cantidad == ''){\r\n                this.productos[index].cantidad = 0;\r\n            }\r\n            if(this.productos[index].stock + parseInt(this.productos[index].cantidad) < this.productos[index].stockCritico){\r\n                this.alerta('danger', 'El stock que existe actualmente en bodega del producto \"' + this.productos[index].nomProducto + '\" es inferior al stock crítico ingrese mas cantidad para cumplir con el stock Crítico')\r\n            }\r\n        },\r\n        //Indicamos el minimo de cantidad para que no este vacio o sea menor a 0\r\n        cantMinBodega(producto){\r\n            const index = this.enviar.findIndex(item => item.codigoBarra == producto);\r\n            if(this.enviar[index].cantidad < 0){\r\n                this.enviar[index].cantidad = 0;\r\n            }\r\n            if(this.enviar[index].stockBodega - parseInt(this.enviar[index].cantidad) < this.enviar[index].stockCritico){\r\n                this.alerta('danger', 'Si realiza esta acción el stock en bodega del producto \"' + this.enviar[index].nomProducto + '\" sera inferior al stock crítico')\r\n            }\r\n            if(this.enviar[index].stockBodega - parseInt(this.enviar[index].cantidad) < 0){\r\n                this.enviar[index].cantidad = this.enviar[index].stockBodega\r\n            }\r\n        },\r\n        //Función que maneja valores del input de stock de bodega PARA AGREGAR UN PRODUCTO A UNA NUEVA BODEGA\r\n        cantMinBodegaAgregar(){\r\n            if(this.stockAGREGADO < 0){\r\n                this.stockAGREGADO = 0;\r\n            }\r\n            if(this.stockAGREGADO < this.stockCriticoAGREGADO){\r\n                this.alerta('danger', 'El stock que esta ingresando es menor al critico para la bodega ' + this.nomBodega)\r\n            }\r\n        },\r\n        cantMinCriticoAGREGAR(){\r\n            if(this.stockCriticoAGREGADO < 0){\r\n                this.stockCriticoAGREGADO = 0;\r\n            }\r\n            if(this.stockCriticoAGREGADO > this.stockAGREGADO ){\r\n                this.alerta('danger', 'El stock que esta ingresando es menor al critico para la bodega ' + this.nomBodega)\r\n            }\r\n        },\r\n        //Permite ver los detalles de un producto y los carga\r\n        detalles(id){\r\n            let config = {\r\n                headers: {\r\n                    token: this.token\r\n                }\r\n            }\r\n            this.axios.get(`api/obtenerProducto/${id}`, config)\r\n                .then(res => {\r\n                    this.codigo = res.data[0].codigoBarra;\r\n                    this.producto = res.data[0].nomProducto;\r\n                    this.marca = res.data[0].marca;\r\n                    this.descripcion = res.data[0].descripcion\r\n                    for(var i = 0; i<this.imagenes.length; i++){\r\n                        if(this.imagenes[i].split('.')[0] == this.codigo){\r\n                            this.imagenDir = 'http://localhost:3000/dbImagenes/' + this.imagenes[i]\r\n                            break;\r\n                        }else{\r\n                            this.imagenDir = 'http://localhost:3000/dbImagenes/no-imagen.png'\r\n                        }\r\n                    }\r\n                })\r\n                .catch(e => {\r\n                    Swal.fire({\r\n                    icon: 'error',\r\n                    title: 'Oops...',\r\n                    text: 'No se ha logrado encontrar los datos del equipo',\r\n                    footer: 'Posible error del sistema'\r\n                    })\r\n                })\r\n        },\r\n        //Función que obtiene una imagen\r\n        obtenerImagenes(){\r\n            let config = {\r\n                headers: {\r\n                    token: this.token\r\n                }\r\n            }\r\n             this.axios.get(`api/obtenerImagen`, config)\r\n                .then(res => {\r\n                    this.imagenes = res.data\r\n                })\r\n                .catch(e => {\r\n                    this.alerta('danger', 'Este producto no posee imagen o no ha cargado correctamente')\r\n                })\r\n\r\n        },\r\n        convertDateMysql(yourDate){\r\n            yourDate.toISOString().split('T')[0]\r\n            const offset = yourDate.getTimezoneOffset()\r\n            yourDate = new Date(yourDate.getTime() - (offset*60*1000))\r\n            return yourDate.toISOString().split('T')[0]\r\n\t\t},\r\n        //Función que permite generar un informe y enviar los datos de un nuevo HISTORIAL \r\n        generarInforme(){\r\n            var dt = this.convertDateMysql(new Date())\r\n            var sumaStockBodega = 0;\r\n            var suma = 0;\r\n            for(var i = 0; i < this.productos.length; i++){\r\n                suma = suma + this.productos[i].cantidad\r\n            }\r\n            this.$v.$touch()\r\n            if(!this.$v.nuevaOrden.$invalid && !this.$v.proveedor.$invalid){\r\n                swal.fire({\r\n                title: '¿Seguro que desea realizar la orden de compra a la bodega ' + this.bodegaCrear + '?',\r\n                type: 'warning',\r\n                showCancelButton: true,\r\n                confirmButtonColor: '#3085d6',\r\n                cancelButtonColor: '#d33',\r\n                cancelButtonText: 'Cancelar',\r\n                confirmButtonText: '¡Si!'\r\n                }).then((result) => {\r\n                    if (result.value) {\r\n                        if(suma > 0){\r\n                            let config = {\r\n                                headers: {\r\n                                    token: this.token\r\n                                }\r\n                            }\r\n                            this.axios.post('api/agregaOrdenEntrega', {codOrden: this.nuevaOrden, proveedor: this.proveedor, fecha: dt, nomBodega: this.bodegaCrear}, config)\r\n                            .then(res => {\r\n                            if(!res.data.sqlMessage){\r\n                                this.ORDENProducto();\r\n                                this.sumaStock();\r\n                            }else{\r\n                                Swal.fire({\r\n                                icon: 'error',\r\n                                title: 'Oops...',\r\n                                text: 'No se ha logrado crear ',\r\n                                footer: 'Algún dato ha sido incorrecto verifiquelos'\r\n                                })\r\n                            }\r\n                            })\r\n                            .catch(e => {\r\n                            Swal.fire({\r\n                                icon: 'error',\r\n                                title: 'Oops...',\r\n                                text: 'No se ha logrado registrar la orden de compra',\r\n                                footer: 'Posible error del sistema'\r\n                            })\r\n                            }) \r\n                        }else{\r\n                            this.alerta('danger', 'No se ha ingresado ninguna cantidad')\r\n                        }\r\n                    }\r\n                })\r\n            }else{\r\n                this.alerta('danger', 'Porfavor ingrese todos los campos requeridos')\r\n            }\r\n        },\r\n        //Registra los productos de la ORDEN DE COMPRA\r\n        ORDENProducto(){\r\n            for(var i = 0; i<this.productos.length; i++){\r\n                if(this.productos[i].cantidad > 0){\r\n                    let config = {\r\n                        headers: {\r\n                            token: this.token\r\n                        }\r\n                    }\r\n                    this.axios.post('api/agregaOrdenProducto', {cantidad: this.productos[i].cantidad, codOrden: this.nuevaOrden, codigoBarra: this.productos[i].codBar}, config)\r\n                        .then(res => {\r\n                        if(!res.data.sqlMessage){\r\n                            Swal.fire(\r\n                            'Se ha registrado la orden de compra satisfactoriamente',\r\n                            'Seleccione Ok para continuar',\r\n                            'success'\r\n                            )\r\n                        }else{\r\n                            Swal.fire({\r\n                                icon: 'error',\r\n                                title: 'Oops...',\r\n                                text: 'No se ha logrado crear ',\r\n                                footer: 'Algún dato ha sido incorrecto verifiquelos'\r\n                            })\r\n                        }\r\n                        })\r\n                        .catch(e => {\r\n                            Swal.fire({\r\n                                icon: 'error',\r\n                                title: 'Oops...',\r\n                                text: 'No se ha logrado registrar la orden de compra',\r\n                                footer: 'Posible error del sistema'\r\n                            })\r\n                        })\r\n                }\r\n            }\r\n        },\r\n\r\n        //Suma los stock de BODEGA de cada producto\r\n        sumaStock(){\r\n            for(var i = 0; i<this.productos.length; i++){\r\n                if(this.productos[i].cantidad > 0){\r\n                    let config = {\r\n                        headers: {\r\n                            token: this.token\r\n                        }\r\n                    }\r\n                    this.axios.put(`api/actualizaStockBodegamas/${this.productos[i].codBar}`, {cantidad: this.productos[i].cantidad, nomBodega: this.bodegaCrear}, config)\r\n                        .then(res => {\r\n                            this.actualizarStock();\r\n                        })\r\n                        .catch(e => {\r\n                            var mensaje = 'Posible error del sistema';\r\n                            Swal.fire({\r\n                            icon: 'error',\r\n                            title: 'Oops...',\r\n                            text: 'No se ha logrado registrar la entrega de insumos',\r\n                            footer: mensaje\r\n                            })\r\n                        })\r\n                }\r\n            }\r\n        },\r\n        //Actualiza la pagina tras generar una orden de compra\r\n        actualizarStock(){\r\n            for(var i = 0; i<this.productos.length-1; i++){\r\n                this.cantidadProductos--;\r\n                this.productos.splice(-1);\r\n            }\r\n            this.cargarProductos(true);\r\n        },\r\n        //Función para cargar las bodegas del sistema\r\n        cargarBodegas(){\r\n            let config = {\r\n                headers: {\r\n                    token: this.token\r\n                }\r\n            }\r\n            this.axios.get('api/obtenerbodegas', config)\r\n            .then(res => {\r\n                this.bodegas = res.data;\r\n                this.bodegaCrear = res.data[0].nomBodega\r\n            })\r\n            .catch(e => {\r\n                this.alerta('danger', 'No se han podido cargar las bodegas');\r\n            })\r\n        },\r\n        //Función para regresar a la vista principal\r\n        Volver(){\r\n            this.pestaña = 'bodegas'\r\n            $('#ordenes').DataTable().destroy()\r\n            $('#enviar').DataTable().destroy()\r\n            this.enviar = []\r\n            $('#bodegas').DataTable()\r\n            this.cargarBodegas();\r\n        },\r\n        VolverORD(){\r\n            $('#detalleOrden').DataTable().destroy();\r\n            this.pestaña = 'ordenes'\r\n            this.cargarOrdenes();\r\n            $('#ordenes').DataTable()\r\n        },\r\n        //Volver desde la vista de agregar un nuevo producto a la vista del despliegue de los proeductos de una bodega\r\n        VolverEnviar(){\r\n            this.pestaña = 'enviar'\r\n            $('#enviar').DataTable()\r\n            this.enviar = [];\r\n            this.cargarProductosBodega();\r\n        },\r\n        //Funciones para cambiar las vistas\r\n        ActAgregar(){\r\n            this.agregar = 'si'\r\n        },\r\n        NoAgregar(){\r\n            this.agregar = 'no'\r\n        },\r\n        //Activadores de vistas \r\n        ActOrdenes(nomBodega){\r\n            this.nomBodega = nomBodega\r\n            this.pestaña = 'ordenes'\r\n            $('#bodegas').DataTable().destroy();\r\n            $('#ordenes').DataTable()\r\n            this.cargarOrdenes();\r\n        },\r\n        ActDOrdenes(codOrden){\r\n            this.histo = codOrden;\r\n            this.pestaña = 'detalleOrden';\r\n            $('#ordenes').DataTable().destroy();\r\n            $('#detalleOrden').DataTable()\r\n            this.cargarDetalleOrden();\r\n        },\r\n        ActCrear(){\r\n            this.pestaña = 'crear'\r\n            this.agregar = 'no'\r\n            $('#bodegas').DataTable().destroy();\r\n            this.cargarProductos(true);\r\n        },\r\n        ActProductos(nomBodega){\r\n            this.nomBodega = nomBodega\r\n            this.pestaña = 'enviar'\r\n            $('#bodegas').DataTable().destroy();\r\n            $('#enviar').DataTable()\r\n            this.cargarProductosBodega();\r\n        },\r\n        ActAgregarProd(){\r\n            this.pestaña = 'agregarProducto'\r\n            $('#enviar').DataTable().destroy();\r\n            this.cargarTODOSPRODUCTOS();\r\n            this.productoAGREGADO = '';\r\n            this.stockCriticoAGREGADO = 1;\r\n            this.stockAGREGADO = 1;\r\n        },\r\n        //Funciones de AGREGAR\r\n        agregaBodega(){\r\n            this.$v.$touch()\r\n            if(!this.$v.nuevaBodega.$invalid){\r\n                let config = {\r\n                    headers: {\r\n                        token: this.token\r\n                    }\r\n                }\r\n                this.axios.post('api/agregaBodega', {nomBodega: this.nuevaBodega}, config)\r\n                    .then(res => {\r\n                        if(!res.data.sqlMessage){\r\n                            this.bodegas.push({nomBodega: this.nuevaBodega})\r\n                            Swal.fire(\r\n                            'Se ha registrado la bodega satisfactoriamente',\r\n                            'Seleccione Ok para continuar',\r\n                            'success'\r\n                            )\r\n                        }else{\r\n                            Swal.fire({\r\n                                icon: 'error',\r\n                                title: 'Oops...',\r\n                                text: 'No se ha logrado crear la nueva bodega \"' + this.nuevaBodega + '\" .',\r\n                                footer: 'El nombre de la bodega ya existe en el sistema'\r\n                            })\r\n                        }\r\n                        })\r\n                        .catch(e => {\r\n                            Swal.fire({\r\n                                icon: 'error',\r\n                                title: 'Oops...',\r\n                                text: 'No se ha logrado registrar la nueva bodega',\r\n                                footer: 'Posible error del sistema'\r\n                            })\r\n                        })\r\n            }else{\r\n                this.alerta('danger', 'Porfavor ingrese un nombre para la nueva bodega')\r\n            }\r\n        },\r\n        //TABLA DE ORDENES QUE POSEE UNA BODEGA\r\n        cargarOrdenes(){\r\n            let config = {\r\n                headers: {\r\n                    token: this.token\r\n                }\r\n            }\r\n            this.axios.get(`api/obtenerOrdenesBodega/${this.nomBodega}`, config)\r\n            .then(res => {\r\n                this.ordenes = res.data;\r\n            })\r\n            .catch(e => {\r\n                this.alerta('danger', 'No se ha logrado cargar la orden');\r\n            })\r\n        },\r\n        //Cargar los detalles de una orden\r\n        cargarDetalleOrden(){\r\n            let config = {\r\n                headers: {\r\n                    token: this.token\r\n                }\r\n            }\r\n            this.axios.get(`api/obtenerOrden/${this.histo}`, config)\r\n            .then(res => {\r\n                this.detalleOrden = res.data;\r\n            })\r\n            .catch(e => {\r\n                this.alerta('danger', 'No se ha logrado cargar el detalle de una orden');\r\n            })\r\n        },\r\n        //Función que envia un stock desde bodega a Dirección Regional\r\n        EnviarDireccion(codigoBarra, cantidad, stockBodega){\r\n            if(stockBodega > 0){\r\n                swal.fire({\r\n                    title: '¿Seguro que desea enviar el stock de la bodega con una cantidad de \"' + cantidad + '\" a dirección regional para el producto de codigo: \"' + codigoBarra + '\"?',\r\n                    type: 'warning',\r\n                    showCancelButton: true,\r\n                    confirmButtonColor: '#3085d6',\r\n                    cancelButtonColor: '#d33',\r\n                    cancelButtonText: 'Cancelar',\r\n                    confirmButtonText: '¡Si!'\r\n                }).then((result) => {\r\n                    if (result.value) {\r\n                        let config = {\r\n                            headers: {\r\n                                token: this.token\r\n                            }\r\n                        }\r\n                        this.axios.put(`api/actualizaStockBodega/${codigoBarra}`, {cantidad: parseInt(cantidad), nomBodega: this.nomBodega}, config)\r\n                                .then(res => {\r\n                                    this.recibirDireccion(codigoBarra, cantidad);\r\n                                })\r\n                                .catch(e => {\r\n                                    var mensaje = 'Posible error del sistema';\r\n                                    Swal.fire({\r\n                                    icon: 'error',\r\n                                    title: 'Oops...',\r\n                                    text: 'No se ha logrado traspasar los stocks',\r\n                                    footer: mensaje\r\n                                    })\r\n                                })\r\n                    }\r\n                })\r\n            }else{\r\n                this.alerta('danger', 'El stock actual para este producto en la bodega es 0')\r\n            }\r\n        },\r\n        //Función que permite actualizar el stock de un producto en la dirección Regional\r\n        recibirDireccion(codigoBarra, cantidad){\r\n            let config = {\r\n                headers: {\r\n                    token: this.token\r\n                }\r\n            }\r\n            this.axios.put(`api/actualizaStockmas/${codigoBarra}`, {cantidad: cantidad}, config)\r\n                    .then(res => {\r\n                        Swal.fire(\r\n                            'Se ha realizado un traspaso de stock a Dirección Regional',\r\n                            'Seleccione Ok para continuar',\r\n                            'success'\r\n                        )\r\n                        this.actualizarStocksProductoBodega(codigoBarra, cantidad)\r\n                    })\r\n                    .catch(e => {\r\n                        var mensaje = 'Posible error del sistema';\r\n                        Swal.fire({\r\n                        icon: 'error',\r\n                        title: 'Oops...',\r\n                        text: 'No se ha logrado recibir el stock en dirección regional',\r\n                        footer: mensaje\r\n                        })\r\n                    })\r\n        },\r\n        //Función que actualiza los stock en la vista de la página\r\n        actualizarStocksProductoBodega(codigoBarra, cantidad){\r\n            const index = this.enviar.findIndex(item => item.codigoBarra == codigoBarra);\r\n            this.enviar[index].stockBodega = this.enviar[index].stockBodega - parseInt(cantidad)\r\n            this.enviar[index].stock = this.enviar[index].stock + parseInt(cantidad)\r\n        },\r\n        //FUNCIÓN QUE BUSCA UN CODIGO DE LA VISTA DE AGREGAR PRODUCTO A UNA BODEGA \r\n        buscarCodigoAGREGADO(){\r\n            const posProd = this.productosAGREGAR.findIndex(item => item.codigoBarra == this.productoAGREGADO)\r\n            if(posProd !== -1){\r\n                this.nombreProductoAGREGADO = this.productosAGREGAR[posProd].nomProducto\r\n                this.codigoAGREGAR = this.productosAGREGAR[posProd].codigoBarra;\r\n            }\r\n        },\r\n        //Funcion que PERMITE AGREGAR un Producto a una Bodega reciente.\r\n        agregarPRODUCTOBODEGA(){\r\n            let config = {\r\n                headers: {\r\n                    token: this.token\r\n                }\r\n            }\r\n            this.axios.post('api/agregaProductoBodega', {stockBodega: this.stockAGREGADO, stockCritico: this.stockCriticoAGREGADO, nomBodega: this.nomBodega, codigoBarra: this.codigoAGREGAR}, config)\r\n                .then(res => {\r\n                if(!res.data.sqlMessage){\r\n                    Swal.fire(\r\n                        'Se ha generado un nuevo Producto',\r\n                        'Seleccione Ok para continuar',\r\n                        'success'\r\n                    )\r\n                }else{\r\n                    Swal.fire({\r\n                    icon: 'error',\r\n                    title: 'Oops...',\r\n                    text: 'Codigo ya existente en bodega',\r\n                    footer: 'Error con el ingreso del Producto'\r\n                    })\r\n                }\r\n                })\r\n                .catch(e => {\r\n                    Swal.fire({\r\n                        icon: 'error',\r\n                        title: 'Oops...',\r\n                        text: 'No se ha creado este nuevo tipo',\r\n                        footer: 'Posible error del sistema'\r\n                    })\r\n                })\r\n        },\r\n        //Funciones de las alertas\r\n        countDownChanged(dismissCountDown) {\r\n            this.dismissCountDown = dismissCountDown\r\n        },\r\n        showAlert() {\r\n            this.dismissCountDown = this.dismissSecs\r\n        },\r\n        alerta(color, texto){\r\n            this.mensaje.color = color;\r\n            this.mensaje.texto = texto;\r\n            this.showAlert();\r\n        },\r\n    },\r\n    async mounted(){\r\n      await $('#bodegas').DataTable()\r\n      await $('#ordenes').DataTable()\r\n      await $('#detalleOrden').DataTable()\r\n      await $('#enviar').DataTable()\r\n    },\r\n    watch: {\r\n      bodegas(val) {\r\n        if(this.pestaña === 'bodegas'){\r\n          $('#bodegas').DataTable().destroy();\r\n          this.$nextTick(()=> {\r\n            $('#bodegas').DataTable()\r\n          });\r\n        }\r\n      },\r\n      ordenes(val) {\r\n        if(this.pestaña === 'ordenes'){\r\n          $('#ordenes').DataTable().destroy();\r\n          this.$nextTick(()=> {\r\n            $('#ordenes').DataTable()\r\n          });\r\n        }\r\n      },\r\n      detalleOrden(val) {\r\n        if(this.pestaña === 'detalleOrden'){\r\n          $('#detalleOrden').DataTable().destroy();\r\n          this.$nextTick(()=> {\r\n            $('#detalleOrden').DataTable()\r\n          });\r\n        }\r\n      },\r\n      enviar(val) {\r\n        if(this.pestaña === 'enviar'){\r\n          $('#enviar').DataTable().destroy();\r\n          this.$nextTick(()=> {\r\n            $('#enviar').DataTable()\r\n          });\r\n        }\r\n      }\r\n    }\r\n}\r\n</script>\r\n\r\n<style>\r\n    body{\r\n        background-color: #eee;\r\n    }\r\n\r\n    .texto{\r\n        text-align: center;\r\n    }\r\n\r\n    .imagen{\r\n        width: 50%;\r\n    }\r\n    .boton{\r\n        margin: 20px;\r\n        width: 90%;\r\n        border-radius: 12px !important;\r\n        border-color: black !important;\r\n    }\r\n</style>"]}]}