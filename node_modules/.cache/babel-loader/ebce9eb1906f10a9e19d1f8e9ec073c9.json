{"remainingRequest":"D:\\inventarioInformatico\\inventario\\inventario\\node_modules\\babel-loader\\lib\\index.js!D:\\inventarioInformatico\\inventario\\inventario\\src\\store\\index.js","dependencies":[{"path":"D:\\inventarioInformatico\\inventario\\inventario\\src\\store\\index.js","mtime":1644864989854},{"path":"D:\\inventarioInformatico\\inventario\\inventario\\babel.config.js","mtime":1643253412232},{"path":"D:\\inventarioInformatico\\inventario\\inventario\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1644510051457},{"path":"D:\\inventarioInformatico\\inventario\\inventario\\node_modules\\babel-loader\\lib\\index.js","mtime":1644510041523}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IFZ1ZSBmcm9tICd2dWUnOwppbXBvcnQgVnVleCBmcm9tICd2dWV4JzsgLy9QYXJhIHRlbmVyIGVsIHJvdXRlciBjb24gbWlzIHJ1dGFzIGRlIHZpc3RhcwoKaW1wb3J0IHJvdXRlciBmcm9tICcuLi9yb3V0ZXIvaW5kZXguanMnOyAvL1BhcmEgZGVjb2RpZmljYXIgZWwgand0CgppbXBvcnQgZGVjb2RlIGZyb20gJ2p3dC1kZWNvZGUnOwpWdWUudXNlKFZ1ZXgpOwpleHBvcnQgZGVmYXVsdCBuZXcgVnVleC5TdG9yZSh7CiAgc3RhdGU6IHsKICAgIHRva2VuOiAnJywKICAgIHVzdWFyaW9EQjogJycKICB9LAogIG11dGF0aW9uczogewogICAgb2J0ZW5lclVzdWFyaW86IGZ1bmN0aW9uIG9idGVuZXJVc3VhcmlvKHN0YXRlLCBwYXlsb2FkKSB7CiAgICAgIHN0YXRlLnRva2VuID0gcGF5bG9hZDsKCiAgICAgIGlmIChwYXlsb2FkID09PSAnJykgewogICAgICAgIHN0YXRlLnVzdWFyaW9EQiA9ICcnOwogICAgICB9IGVsc2UgewogICAgICAgIHN0YXRlLnVzdWFyaW9EQiA9IGRlY29kZShwYXlsb2FkKTsKICAgICAgICByb3V0ZXIucHVzaCh7CiAgICAgICAgICBuYW1lOiAnbWVudScKICAgICAgICB9KTsKICAgICAgfQogICAgfQogIH0sCiAgYWN0aW9uczogewogICAgZ3VhcmRhclVzdWFyaW86IGZ1bmN0aW9uIGd1YXJkYXJVc3VhcmlvKF9yZWYsIHBheWxvYWQpIHsKICAgICAgdmFyIGNvbW1pdCA9IF9yZWYuY29tbWl0OwogICAgICBsb2NhbFN0b3JhZ2Uuc2V0SXRlbSgndG9rZW4nLCBwYXlsb2FkKTsKICAgICAgY29tbWl0KCdvYnRlbmVyVXN1YXJpbycsIHBheWxvYWQpOwogICAgfSwKICAgIGNlcnJhclNlc2lvbjogZnVuY3Rpb24gY2VycmFyU2VzaW9uKF9yZWYyKSB7CiAgICAgIHZhciBjb21taXQgPSBfcmVmMi5jb21taXQ7CiAgICAgIGNvbW1pdCgnb2J0ZW5lclVzdWFyaW8nLCAnJyk7CiAgICAgIGxvY2FsU3RvcmFnZS5yZW1vdmVJdGVtKCd0b2tlbicpOwogICAgICByb3V0ZXIucHVzaCh7CiAgICAgICAgbmFtZTogJ2luaWNpbycKICAgICAgfSk7CiAgICB9LAogICAgbGVlclRva2VuOiBmdW5jdGlvbiBsZWVyVG9rZW4oX3JlZjMpIHsKICAgICAgdmFyIGNvbW1pdCA9IF9yZWYzLmNvbW1pdDsKICAgICAgdmFyIHRva2VuID0gbG9jYWxTdG9yYWdlLmdldEl0ZW0oJ3Rva2VuJyk7CgogICAgICBpZiAodG9rZW4pIHsKICAgICAgICBjb21taXQoJ29idGVuZXJVc3VhcmlvJywgdG9rZW4pOwogICAgICB9IGVsc2UgewogICAgICAgIGNvbW1pdCgnb2J0ZW5lclVzdWFyaW8nLCAnJyk7CiAgICAgIH0KICAgIH0sCiAgICBhZG1pbjogZnVuY3Rpb24gYWRtaW4oKSB7CiAgICAgIGlmICh0aGlzLnN0YXRlLnVzdWFyaW9EQi5kYXRhWzBdLnRpcG9Vc3VhcmlvID09IDApIHsKICAgICAgICByb3V0ZXIucHVzaCh7CiAgICAgICAgICBuYW1lOiAnbWVudScKICAgICAgICB9KTsKICAgICAgfQogICAgfQogIH0sCiAgbW9kdWxlczoge30sCiAgZ2V0dGVyczogewogICAgYWN0aXZvOiBmdW5jdGlvbiBhY3Rpdm8oc3RhdGUpIHsKICAgICAgcmV0dXJuICEhc3RhdGUudG9rZW47CiAgICB9CiAgfQp9KTs="},{"version":3,"sources":["D:/inventarioInformatico/inventario/inventario/src/store/index.js"],"names":["Vue","Vuex","router","decode","use","Store","state","token","usuarioDB","mutations","obtenerUsuario","payload","push","name","actions","guardarUsuario","commit","localStorage","setItem","cerrarSesion","removeItem","leerToken","getItem","admin","data","tipoUsuario","modules","getters","activo"],"mappings":"AAAA,OAAOA,GAAP,MAAgB,KAAhB;AACA,OAAOC,IAAP,MAAiB,MAAjB,C,CAEA;;AACA,OAAOC,MAAP,MAAmB,oBAAnB,C,CAEA;;AACA,OAAOC,MAAP,MAAmB,YAAnB;AAEAH,GAAG,CAACI,GAAJ,CAAQH,IAAR;AAEA,eAAe,IAAIA,IAAI,CAACI,KAAT,CAAe;AAC5BC,EAAAA,KAAK,EAAE;AACLC,IAAAA,KAAK,EAAE,EADF;AAELC,IAAAA,SAAS,EAAE;AAFN,GADqB;AAK5BC,EAAAA,SAAS,EAAE;AACTC,IAAAA,cADS,0BACMJ,KADN,EACaK,OADb,EACqB;AAC5BL,MAAAA,KAAK,CAACC,KAAN,GAAcI,OAAd;;AACA,UAAGA,OAAO,KAAK,EAAf,EAAkB;AAChBL,QAAAA,KAAK,CAACE,SAAN,GAAkB,EAAlB;AACD,OAFD,MAEK;AACHF,QAAAA,KAAK,CAACE,SAAN,GAAkBL,MAAM,CAACQ,OAAD,CAAxB;AACAT,QAAAA,MAAM,CAACU,IAAP,CAAY;AAACC,UAAAA,IAAI,EAAE;AAAP,SAAZ;AACD;AACF;AATQ,GALiB;AAgB5BC,EAAAA,OAAO,EAAE;AACPC,IAAAA,cADO,gCACkBJ,OADlB,EAC0B;AAAA,UAAjBK,MAAiB,QAAjBA,MAAiB;AAC/BC,MAAAA,YAAY,CAACC,OAAb,CAAqB,OAArB,EAA8BP,OAA9B;AACAK,MAAAA,MAAM,CAAC,gBAAD,EAAmBL,OAAnB,CAAN;AACD,KAJM;AAKPQ,IAAAA,YALO,+BAKe;AAAA,UAARH,MAAQ,SAARA,MAAQ;AACpBA,MAAAA,MAAM,CAAC,gBAAD,EAAmB,EAAnB,CAAN;AACAC,MAAAA,YAAY,CAACG,UAAb,CAAwB,OAAxB;AACAlB,MAAAA,MAAM,CAACU,IAAP,CAAY;AAACC,QAAAA,IAAI,EAAE;AAAP,OAAZ;AACD,KATM;AAUPQ,IAAAA,SAVO,4BAUY;AAAA,UAARL,MAAQ,SAARA,MAAQ;AACjB,UAAMT,KAAK,GAAGU,YAAY,CAACK,OAAb,CAAqB,OAArB,CAAd;;AACA,UAAGf,KAAH,EAAS;AACPS,QAAAA,MAAM,CAAC,gBAAD,EAAmBT,KAAnB,CAAN;AACD,OAFD,MAEK;AACHS,QAAAA,MAAM,CAAC,gBAAD,EAAmB,EAAnB,CAAN;AACD;AACF,KAjBM;AAkBPO,IAAAA,KAlBO,mBAkBA;AACL,UAAG,KAAKjB,KAAL,CAAWE,SAAX,CAAqBgB,IAArB,CAA0B,CAA1B,EAA6BC,WAA7B,IAA4C,CAA/C,EAAiD;AAC/CvB,QAAAA,MAAM,CAACU,IAAP,CAAY;AAACC,UAAAA,IAAI,EAAE;AAAP,SAAZ;AACD;AACF;AAtBM,GAhBmB;AAwC5Ba,EAAAA,OAAO,EAAE,EAxCmB;AA0C5BC,EAAAA,OAAO,EAAC;AACNC,IAAAA,MAAM,EAAE,gBAAAtB,KAAK;AAAA,aAAI,CAAC,CAACA,KAAK,CAACC,KAAZ;AAAA;AADP;AA1CoB,CAAf,CAAf","sourcesContent":["import Vue from 'vue'\nimport Vuex from 'vuex'\n\n//Para tener el router con mis rutas de vistas\nimport router from '../router/index.js'\n\n//Para decodificar el jwt\nimport decode from 'jwt-decode'\n\nVue.use(Vuex)\n\nexport default new Vuex.Store({\n  state: {\n    token: '',\n    usuarioDB: ''\n  },\n  mutations: {\n    obtenerUsuario(state, payload){\n      state.token = payload;\n      if(payload === ''){\n        state.usuarioDB = ''\n      }else{\n        state.usuarioDB = decode(payload);\n        router.push({name: 'menu'})\n      }\n    }\n  },\n  actions: {\n    guardarUsuario({commit}, payload){\n      localStorage.setItem('token', payload);\n      commit('obtenerUsuario', payload);\n    },\n    cerrarSesion({commit}){\n      commit('obtenerUsuario', '');\n      localStorage.removeItem('token');\n      router.push({name: 'inicio'});\n    },\n    leerToken({commit}){\n      const token = localStorage.getItem('token');\n      if(token){\n        commit('obtenerUsuario', token)\n      }else{\n        commit('obtenerUsuario', '')\n      }\n    },\n    admin(){\n      if(this.state.usuarioDB.data[0].tipoUsuario == 0){\n        router.push({name: 'menu'});\n      }\n    }\n  },\n  modules: {\n  },\n  getters:{\n    activo: state => !!state.token\n  }\n})\n"]}]}