{"remainingRequest":"D:\\inventarioInformatico\\stock\\stock\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!D:\\inventarioInformatico\\stock\\stock\\src\\views\\inicio.vue?vue&type=script&lang=js&","dependencies":[{"path":"D:\\inventarioInformatico\\stock\\stock\\src\\views\\inicio.vue","mtime":1646745742360},{"path":"D:\\inventarioInformatico\\stock\\stock\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1647002043141},{"path":"D:\\inventarioInformatico\\stock\\stock\\node_modules\\babel-loader\\lib\\index.js","mtime":1645539058368},{"path":"D:\\inventarioInformatico\\stock\\stock\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1647002043141},{"path":"D:\\inventarioInformatico\\stock\\stock\\node_modules\\vue-loader\\lib\\index.js","mtime":1645539059241}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCmltcG9ydCB7IHJlcXVpcmVkLCBlbWFpbCwgbWluTGVuZ3RoIH0gZnJvbSAidnVlbGlkYXRlL2xpYi92YWxpZGF0b3JzIgppbXBvcnQgeyBtYXBBY3Rpb25zIH0gZnJvbSAndnVleCc7CmV4cG9ydCBkZWZhdWx0IHsKICBuYW1lOiAnaW5pY2lvJywKICBkYXRhKCl7CiAgICByZXR1cm57CiAgICAgIC8vRGF0b3MgZGVsIExvZ2luCiAgICAgIGNvcnJlbzogJycsCiAgICAgIHBhc3N3b3JkOiAnJwogICAgfQogIH0sCiAgdmFsaWRhdGlvbnM6ewogICAgLy9TZSB2YWxpZGFuIGVsIGVtYWlsIHkgbGEgY29udHJhc2XDsWEgY29uIHVuIG1pbmltbyBkZSBsZXRyYXMKICAgIGNvcnJlbzp7cmVxdWlyZWQsZW1haWx9LAogICAgcGFzc3dvcmQ6e3JlcXVpcmVkLCBtaW5MZW5ndGg6IG1pbkxlbmd0aCg2KX0KICB9LAogIG1ldGhvZHM6IHsKICAgIC4uLm1hcEFjdGlvbnMoWydndWFyZGFyVXN1YXJpbycsICdsZWVyVG9rZW4nXSksCiAgICBsb2dpbigpewogICAgICAvL1NlIHJldmlzYSBxdWUgc2UgY3VtcGxhIGNvbiBsb3MgcmVxdWVyaW1pZW50b3MgeSBsdWVnbyBzZSBidXNjYSBhbCB1c3VhcmlvIGVuIGxhIGJhc2UgZGUgZGF0b3MKICAgICAgdGhpcy4kdi4kdG91Y2goKQogICAgICBpZighdGhpcy4kdi4kaW52YWxpZCl7CiAgICAgICAgdGhpcy5heGlvcy5wb3N0KCcvYXV0aC9sb2dpbicsIHtjb3JyZW86IHRoaXMuY29ycmVvLCBwYXNzd29yZDogdGhpcy5wYXNzd29yZH0pCiAgICAgICAgICAudGhlbihyZXMgPT4gewogICAgICAgICAgICBjb25zb2xlLmxvZyhyZXMuZGF0YSkKICAgICAgICAgICAgY29uc3QgdG9rZW4gPSByZXMuZGF0YS50b2tlbjsKICAgICAgICAgICAgdGhpcy5ndWFyZGFyVXN1YXJpbyh0b2tlbik7CiAgICAgICAgICB9KQogICAgICAgICAgLmNhdGNoKGUgPT4gewogICAgICAgICAgICBTd2FsLmZpcmUoewogICAgICAgICAgICAgIGljb246ICdlcnJvcicsCiAgICAgICAgICAgICAgdGl0bGU6ICdPb3BzLi4uJywKICAgICAgICAgICAgICB0ZXh0OiBlLnJlc3BvbnNlLmRhdGEubWVuc2FqZSwKICAgICAgICAgICAgICBmb290ZXI6ICdFcnJvciBhbCBpbnRlbnRhciBJbmdyZXNhciBhIHN1IHNlc2nDs24nCiAgICAgICAgICAgIH0pCiAgICAgICAgICB9KQogICAgICB9ZWxzZXsKICAgICAgICBTd2FsLmZpcmUoewogICAgICAgICAgICAgIGljb246ICdlcnJvcicsCiAgICAgICAgICAgICAgdGl0bGU6ICdPb3BzLi4uJywKICAgICAgICAgICAgICB0ZXh0OiAnRGViZSByZWxsZW5hciBjb3JyZWN0YW1lbnRlIHRvZG9zIGxvcyBjYW1wb3MnLAogICAgICAgICAgICAgIGZvb3RlcjogJ0FzZWd1cmVzZSBkZSBxdWUgZWwgZW1haWwgeSBsYSBjb250cmFzZcOxYSBzZWFuIHZhbGlkYXMnCiAgICAgICAgICAgIH0pCiAgICAgIH0KICAgIH0KICB9LAogIGNyZWF0ZWQoKXsKICAgIHRoaXMubGVlclRva2VuKCk7CiAgfQp9Cg=="},{"version":3,"sources":["inicio.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAiCA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"inicio.vue","sourceRoot":"src/views","sourcesContent":["<template>\n  <div class=\"home\">\n    <section class=\"vh-100\" style=\"background-color: #eee;\">\n      <div class=\"container py-5 h-100\">\n        <div class=\"row d-flex justify-content-center align-items-center h-100\">\n          <div class=\"col-12 col-md-8 col-lg-6 col-xl-5\">\n            <div class=\"card shadow-2-strong\" style=\"border-radius: 1rem;\">\n              <div class=\"card-body p-5 text-center\">\n                <img src=\"../assets/junji-2.png\" alt=\"\" width=\"150px\" class=\"imagen p-1\">\n                <h3 class=\"mb-4\">Sistema de stock</h3>\n\n                <div class=\"form-outline mb-4\">\n                  <label class=\"form-label\" for=\"typeEmailX-2\">Correo</label>\n                  <input type=\"email\" id=\"typeEmailX-2\" class=\"form-control form-control-lg\" placeholder=\"Ingrese su correo\" v-model=\"$v.correo.$model\"/>\n                  <p class=\"text-danger\" v-if=\"$v.correo.$error\">Por favor ingrese un correo</p>\n                </div>\n\n                <div class=\"form-outline mb-4\">\n                  <label class=\"form-label\" for=\"typePasswordX-2\">Contraseña</label>\n                  <input type=\"password\" id=\"typePasswordX-2\" class=\"form-control form-control-lg\" placeholder=\"Ingrese su contraseña\" v-model=\"$v.password.$model\"/>\n                  <p class=\"text-danger\" v-if=\"!$v.password.minLength\">Mínimo de 6 caracteres</p>\n                </div>\n                <b-button @click=\"login()\" variant=\"primary\" class=\"btn btn-primary border-dark boton\" type=\"submit\">Iniciar Sesión</b-button>\n              </div>\n            </div>\n          </div>\n        </div>\n      </div>\n    </section>\n  </div>\n</template>\n\n<script>\nimport { required, email, minLength } from \"vuelidate/lib/validators\"\nimport { mapActions } from 'vuex';\nexport default {\n  name: 'inicio',\n  data(){\n    return{\n      //Datos del Login\n      correo: '',\n      password: ''\n    }\n  },\n  validations:{\n    //Se validan el email y la contraseña con un minimo de letras\n    correo:{required,email},\n    password:{required, minLength: minLength(6)}\n  },\n  methods: {\n    ...mapActions(['guardarUsuario', 'leerToken']),\n    login(){\n      //Se revisa que se cumpla con los requerimientos y luego se busca al usuario en la base de datos\n      this.$v.$touch()\n      if(!this.$v.$invalid){\n        this.axios.post('/auth/login', {correo: this.correo, password: this.password})\n          .then(res => {\n            console.log(res.data)\n            const token = res.data.token;\n            this.guardarUsuario(token);\n          })\n          .catch(e => {\n            Swal.fire({\n              icon: 'error',\n              title: 'Oops...',\n              text: e.response.data.mensaje,\n              footer: 'Error al intentar Ingresar a su sesión'\n            })\n          })\n      }else{\n        Swal.fire({\n              icon: 'error',\n              title: 'Oops...',\n              text: 'Debe rellenar correctamente todos los campos',\n              footer: 'Asegurese de que el email y la contraseña sean validas'\n            })\n      }\n    }\n  },\n  created(){\n    this.leerToken();\n  }\n}\n</script>\n\n<style>\n  .boton{\n    margin: 20px;\n    width: 90%;\n    border-radius: 12px !important;\n    border-color: black;\n    background-color: #0d6efd;\n  }\n  \n  body{\n    background-color: #eee;\n  }\n</style>"]}]}