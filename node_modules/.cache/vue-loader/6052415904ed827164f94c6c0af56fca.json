{"remainingRequest":"D:\\inventarioInformatico\\stock\\stock\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!D:\\inventarioInformatico\\stock\\stock\\src\\views\\bodegas.vue?vue&type=script&lang=js&","dependencies":[{"path":"D:\\inventarioInformatico\\stock\\stock\\src\\views\\bodegas.vue","mtime":1646674102650},{"path":"D:\\inventarioInformatico\\stock\\stock\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1645539054355},{"path":"D:\\inventarioInformatico\\stock\\stock\\node_modules\\babel-loader\\lib\\index.js","mtime":1645539058368},{"path":"D:\\inventarioInformatico\\stock\\stock\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1645539054355},{"path":"D:\\inventarioInformatico\\stock\\stock\\node_modules\\vue-loader\\lib\\index.js","mtime":1645539059241}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KDQppbXBvcnQgbmF2YmFyIGZyb20gIi4uL2NvbXBvbmVudHMvbmF2YmFyLnZ1ZSI7DQppbXBvcnQgeyByZXF1aXJlZCwgbWluTGVuZ3RofSBmcm9tICJ2dWVsaWRhdGUvbGliL3ZhbGlkYXRvcnMiOw0KDQppbXBvcnQgJ2pxdWVyeS9kaXN0L2pxdWVyeS5taW4uanMnOw0KaW1wb3J0ICdib290c3RyYXAvZGlzdC9jc3MvYm9vdHN0cmFwLm1pbi5jc3MnOw0KaW1wb3J0ICJkYXRhdGFibGVzLm5ldC1kdC9qcy9kYXRhVGFibGVzLmRhdGFUYWJsZXMiDQppbXBvcnQgImRhdGF0YWJsZXMubmV0LWR0L2Nzcy9qcXVlcnkuZGF0YVRhYmxlcy5taW4uY3NzIg0KaW1wb3J0ICQgZnJvbSAnanF1ZXJ5JzsgDQpleHBvcnQgZGVmYXVsdCB7DQogICAgbmFtZTogImFib3V0IiwNCiAgICBjb21wb25lbnRzOiB7DQogICAgICAgIG5hdmJhciwNCiAgICB9LA0KICAgIGRhdGEoKSB7DQogICAgICByZXR1cm4gew0KICAgICAgICAvL0RhdG9zIHBhcmEgYWdyZWdhciB1biBudWV2byBtZW1vIChoaXN0b3JpYWwpIGNvbiB2LW1vZGVsDQogICAgICAgIHBlc3Rhw7FhOiAnYm9kZWdhcycsDQogICAgICAgIGFncmVnYXI6ICdubycsDQogICAgICAgIGJvZGVnYXM6IFtdLA0KICAgICAgICBvcmRlbmVzOiBbXSwNCiAgICAgICAgZGV0YWxsZU9yZGVuOiBbXSwNCiAgICAgICAgZW52aWFyOiBbXSwNCiAgICAgICAgLy9WYXJpYWJsZXMgZGVsIEFHUkVHQVINCiAgICAgICAgbnVldmFCb2RlZ2E6ICcnLA0KICAgICAgICAvL1ZhcmlhYmxlIHBhcmEgcmVjb25vY2VyIHVuYSBib2RlZ2ENCiAgICAgICAgbm9tQm9kZWdhOiAnJywNCiAgICAgICAgLy9EYXRvcyBwYXJhIGFncmVnYXIgdW5hIG51ZXZhIE9yZGVuIGRlIENvbXByYSBjb24gdi1tb2RlbA0KICAgICAgICBib2RlZ2FDcmVhcjogJycsDQogICAgICAgIHByb3ZlZWRvcjogJycsDQogICAgICAgIG51ZXZhT3JkZW46ICcnLA0KICAgICAgICBjYW50aWRhZFByb2R1Y3RvczogMSwNCiAgICAgICAgcHJvZHVjdG9zOiBbe2tleTogMSwgbm9tUHJvZHVjdG86ICcnLCBjYW50aWRhZDogMCwgc3RvY2s6IDAsIHN0b2NrQ3JpdGljbzogMCwgY29kaWdvQmFycmE6ICcnfV0sDQogICAgICAgIHByb2RzOiBbXSwNCiAgICAgICAgcHJvZHVjdG9BbnQ6ICcnLA0KICAgICAgICAvL1ZBUklBQkxFUyBERSBERVRBTExFUw0KICAgICAgICBjb2RpZ286ICcnLA0KICAgICAgICBwcm9kdWN0bzogJycsDQogICAgICAgIG1hcmNhOiAnJywNCiAgICAgICAgZGVzY3JpcGNpb246ICcnLA0KICAgICAgICAvL1ZhcmlhYmxlcyBkZSBsYXMgYWxlcnRhcw0KICAgICAgICBkaXNtaXNzU2VjczogNSwNCiAgICAgICAgZGlzbWlzc0NvdW50RG93bjogMCwNCiAgICAgICAgbWVuc2FqZToge2NvbG9yOiAnJywgdGV4dG86ICcnfSwNCiAgICAgIH0NCiAgICB9LA0KICAgIHZhbGlkYXRpb25zOnsNCiAgICAgICAgLy9WYWxpZGFjaW9uZXMgZGUgbG9zIGlucHV0DQogICAgICAgIG51ZXZhQm9kZWdhOntyZXF1aXJlZH0sDQogICAgICAgIHByb3ZlZWRvcjp7cmVxdWlyZWR9LA0KICAgICAgICBudWV2YU9yZGVuOntyZXF1aXJlZH0sDQogICAgfSwNCiAgICBjcmVhdGVkKCl7DQogICAgICAgIHRoaXMuY2FyZ2FyQm9kZWdhcygpOw0KICAgIH0sDQogICAgbWV0aG9kczp7DQogICAgICAgIC8vTUVUT0RPUyBQQVJBIEdFTkVSQVIgTEFTIE9SREVORVMgREUgQ09NUFJBDQogICAgICAgIC8vTWV0b2RvIHF1ZSBDYXJnYSB0b2RvcyBsb3MgcHJvZHVjdG9zIGRlbCBzaXN0ZW1hDQogICAgICAgIGNhcmdhclByb2R1Y3RvcyhwcmltZXJhKXsNCiAgICAgICAgICAgIHRoaXMuYXhpb3MuZ2V0KGBhcGkvb2J0ZW5lclByb2R1Y3Rvc0JvZGVnYS8ke3RoaXMuYm9kZWdhQ3JlYXJ9YCkNCiAgICAgICAgICAgIC50aGVuKHJlcyA9PiB7DQogICAgICAgICAgICAgICAgdGhpcy5wcm9kcyA9IHJlcy5kYXRhOw0KICAgICAgICAgICAgICAgIGlmKHByaW1lcmEpew0KICAgICAgICAgICAgICAgICAgICB0aGlzLnByb2R1Y3Rvc1swXS5ub21Qcm9kdWN0byA9IHRoaXMucHJvZHNbMF0ubm9tUHJvZHVjdG8NCiAgICAgICAgICAgICAgICAgICAgdGhpcy5wcm9kdWN0b3NbMF0uc3RvY2sgPSB0aGlzLnByb2RzWzBdLnN0b2NrQm9kZWdhDQogICAgICAgICAgICAgICAgICAgIHRoaXMucHJvZHVjdG9zWzBdLnN0b2NrQ3JpdGljbyA9IHRoaXMucHJvZHNbMF0uc3RvY2tDcml0aWNvDQogICAgICAgICAgICAgICAgICAgIHRoaXMucHJvZHVjdG9zWzBdLmNvZGlnb0JhcnJhID0gdGhpcy5wcm9kc1swXS5jb2RpZ29CYXJyYQ0KICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgIH0pDQogICAgICAgICAgICAuY2F0Y2goZSA9PiB7DQogICAgICAgICAgICAgICAgdGhpcy5hbGVydGEoJ2RhbmdlcicsICdObyBzZSBoYW4gcG9kaWRvIGNhcmdhciBsb3MgUHJvZHVjdG9zJyk7DQogICAgICAgICAgICB9KQ0KICAgICAgICB9LA0KICAgICAgICAvL0Z1bmNpw7NuIHF1ZSBjYXJnYSBsb3MgcHJvZHVjdG9zIGRlIHVuYSBib2RlZ2EgcGFyYSB0cmFzZmVyaXIgcHJvZHVjdG9zIGEgRGlyZWNjacOzbiBSZWdpb25hbA0KICAgICAgICBjYXJnYXJQcm9kdWN0b3NCb2RlZ2EoKXsNCiAgICAgICAgICAgIHRoaXMuYXhpb3MuZ2V0KGBhcGkvb2J0ZW5lclByb2R1Y3Rvc0JvZGVnYS8ke3RoaXMubm9tQm9kZWdhfWApDQogICAgICAgICAgICAudGhlbihyZXMgPT4gew0KICAgICAgICAgICAgICAgIGZvcih2YXIgaSA9IDA7IGk8cmVzLmRhdGEubGVuZ3RoOyBpKyspew0KICAgICAgICAgICAgICAgICAgICB0aGlzLmVudmlhci5wdXNoKHtjb2RpZ29CYXJyYTogcmVzLmRhdGFbaV0uY29kaWdvQmFycmEsIG5vbVByb2R1Y3RvOiByZXMuZGF0YVtpXS5ub21Qcm9kdWN0bywgc3RvY2s6IHJlcy5kYXRhW2ldLnN0b2NrLCBzdG9ja0JvZGVnYTogcmVzLmRhdGFbaV0uc3RvY2tCb2RlZ2EsIGNhbnRpZGFkOiAxLCBzdG9ja0NyaXRpY286IHJlcy5kYXRhW2ldLnN0b2NrQ3JpdGljb30pDQogICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgfSkNCiAgICAgICAgICAgIC5jYXRjaChlID0+IHsNCiAgICAgICAgICAgICAgICB0aGlzLmFsZXJ0YSgnZGFuZ2VyJywgJ05vIHNlIGhhbiBwb2RpZG8gY2FyZ2FyIGxvcyBQcm9kdWN0b3MnKTsNCiAgICAgICAgICAgIH0pDQogICAgICAgIH0sDQogICAgICAgIC8vRnVuY2nDs24gcXVlIHBlcm1pdGUgcmUtY2FyZ2FyIGxvcyBwcm9kdWN0b3MgYWwgbW9tZW50byBkZSBjYW1iaWFyIGxhIGJvZGVnYSBlbiBsYSB2aXN0YSBkZSByZWxsZW5hciBCb2RlZ2ENCiAgICAgICAgY2FtYmlhQm9kZWdhKCl7DQogICAgICAgICAgICBmb3IodmFyIGkgPSAwOyBpPHRoaXMucHJvZHVjdG9zLmxlbmd0aC0xOyBpKyspew0KICAgICAgICAgICAgICAgIHRoaXMucHJvZHVjdG9zLnNwbGljZSgtMSkNCiAgICAgICAgICAgIH0NCiAgICAgICAgICAgIHRoaXMuY2FyZ2FyUHJvZHVjdG9zKHRydWUpDQogICAgICAgIH0sDQogICAgICAgIC8vRnVuY2nDs24gcXVlIHRlIHBlcm1pdGUgZ3VhcmRhciBlbCB2YWxvciBhbnRlcmlvciBkZWwgc2VsZWN0DQogICAgICAgIGFudGVyaW9yKG5vbVByb2R1Y3RvKXsNCiAgICAgICAgICAgIHRoaXMucHJvZHVjdG9BbnQgPSBub21Qcm9kdWN0bw0KICAgICAgICB9LA0KICAgICAgICAvL1NpIHNlIGNhbWJpYSB1biBwcm9kdWN0byBzZSBkZWJlIGJ1c2NhciBzdSBzdG9jaw0KICAgICAgICBjYW1iaW9Qcm9kdWN0byhub21Qcm9kdWN0bywga2V5KXsNCiAgICAgICAgICAgIGNvbnN0IGluZGV4QWN0dWFsID0gdGhpcy5wcm9kdWN0b3MuZmluZEluZGV4KGl0ZW0gPT4gaXRlbS5rZXkgPT0ga2V5KTsNCiAgICAgICAgICAgIHZhciByZXBldGlkbyA9IGZhbHNlOw0KICAgICAgICAgICAgZm9yKHZhciBpID0gMDsgaTx0aGlzLnByb2R1Y3Rvcy5sZW5ndGg7IGkrKyl7DQogICAgICAgICAgICAgICAgaWYoaSAhPSBpbmRleEFjdHVhbCl7DQogICAgICAgICAgICAgICAgICAgIGlmKHRoaXMucHJvZHVjdG9zW2ldLm5vbVByb2R1Y3RvID09PSB0aGlzLnByb2R1Y3Rvc1tpbmRleEFjdHVhbF0ubm9tUHJvZHVjdG8pew0KICAgICAgICAgICAgICAgICAgICAgICAgcmVwZXRpZG8gPSB0cnVlOw0KICAgICAgICAgICAgICAgICAgICB9DQogICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgfQ0KICAgICAgICAgICAgaWYoIXJlcGV0aWRvKXsNCiAgICAgICAgICAgICAgICBjb25zdCBpbmRleCA9IHRoaXMucHJvZHMuZmluZEluZGV4KGl0ZW0gPT4gaXRlbS5ub21Qcm9kdWN0byA9PSBub21Qcm9kdWN0byk7DQogICAgICAgICAgICAgICAgY29uc3QgaW5kZXgyID0gdGhpcy5wcm9kdWN0b3MuZmluZEluZGV4KGl0ZW0gPT4gaXRlbS5rZXkgPT0ga2V5KTsNCiAgICAgICAgICAgICAgICB0aGlzLnByb2R1Y3Rvc1tpbmRleDJdLnN0b2NrID0gdGhpcy5wcm9kc1tpbmRleF0uc3RvY2tCb2RlZ2ENCiAgICAgICAgICAgICAgICB0aGlzLnByb2R1Y3Rvc1tpbmRleDJdLnN0b2NrQ3JpdGljbyA9IHRoaXMucHJvZHNbaW5kZXhdLnN0b2NrQ3JpdGljbw0KICAgICAgICAgICAgICAgIHRoaXMucHJvZHVjdG9zW2luZGV4Ml0uY29kaWdvQmFycmEgPSB0aGlzLnByb2RzW2luZGV4XS5jb2RpZ29CYXJyYQ0KICAgICAgICAgICAgICAgIGlmKHRoaXMucHJvZHVjdG9zW2luZGV4Ml0uY2FudGlkYWQgPiB0aGlzLnByb2R1Y3Rvc1tpbmRleDJdLnN0b2NrKXsNCiAgICAgICAgICAgICAgICAgICAgdGhpcy5wcm9kdWN0b3NbaW5kZXgyXS5jYW50aWRhZCA9IHRoaXMucHJvZHVjdG9zW2luZGV4Ml0uc3RvY2s7DQogICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgICAgIGlmKHRoaXMucHJvZHVjdG9zW2luZGV4Ml0uc3RvY2sgKyB0aGlzLnByb2R1Y3Rvc1tpbmRleDJdLmNhbnRpZGFkIDwgdGhpcy5wcm9kdWN0b3NbaW5kZXgyXS5zdG9ja0NyaXRpY28pew0KICAgICAgICAgICAgICAgICAgICB0aGlzLmFsZXJ0YSgnZGFuZ2VyJywgJ0VsIHN0b2NrIHF1ZSBleGlzdGUgYWN0dWFsbWVudGUgZW4gYm9kZWdhIGRlbCBwcm9kdWN0byAiJyArIHRoaXMucHJvZHVjdG9zW2luZGV4Ml0ubm9tUHJvZHVjdG8gKyAnIiBlcyBpbmZlcmlvciBhbCBzdG9jayBjcsOtdGljbycpDQogICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgfWVsc2V7DQogICAgICAgICAgICAgICAgdGhpcy5wcm9kdWN0b3NbaW5kZXhBY3R1YWxdLm5vbVByb2R1Y3RvID0gdGhpcy5wcm9kdWN0b0FudCAgDQogICAgICAgICAgICB9DQogICAgICAgIH0sDQogICAgICAgIC8vU2UgYWdyZWdhIHVuIG51ZXZvIHBvc2libGUgcHJvZHVjdG8NCiAgICAgICAgLy9BREVNQVMgZGViZSByZXZpc2FyIHNpIGxvcyB2YWxvcmVzIGFudGVyaW9yZXMgZXN0YW4gcmVwZXRpZG9zDQogICAgICAgIGFncmVnYVByb2R1Y3RvKCl7DQogICAgICAgICAgICB0aGlzLmNhbnRpZGFkUHJvZHVjdG9zKysNCiAgICAgICAgICAgIHZhciBhID0gMDsNCiAgICAgICAgICAgIHRoaXMucHJvZHVjdG9zLnB1c2goe2tleTogdGhpcy5jYW50aWRhZFByb2R1Y3Rvcywgbm9tUHJvZHVjdG86ICcnLCBjYW50aWRhZDogMCwgc3RvY2s6IDB9KTsNCiAgICAgICAgICAgIHdoaWxlKGEgPCB0aGlzLnByb2RzLmxlbmd0aCl7DQogICAgICAgICAgICAgICAgY29uc3QgaW5kZXggPSB0aGlzLnByb2R1Y3Rvcy5maW5kSW5kZXgoaXRlbSA9PiBpdGVtLm5vbVByb2R1Y3RvID09IHRoaXMucHJvZHNbYV0ubm9tUHJvZHVjdG8pOw0KICAgICAgICAgICAgICAgIGlmKGluZGV4ICE9IC0xKXsNCiAgICAgICAgICAgICAgICAgICAgYSsrOw0KICAgICAgICAgICAgICAgIH1lbHNlew0KICAgICAgICAgICAgICAgICAgICB0aGlzLnByb2R1Y3Rvc1t0aGlzLnByb2R1Y3Rvcy5sZW5ndGgtMV0ubm9tUHJvZHVjdG8gPSB0aGlzLnByb2RzW2FdLm5vbVByb2R1Y3RvDQogICAgICAgICAgICAgICAgICAgIHRoaXMucHJvZHVjdG9zW3RoaXMucHJvZHVjdG9zLmxlbmd0aC0xXS5zdG9jayA9IHRoaXMucHJvZHNbYV0uc3RvY2tCb2RlZ2ENCiAgICAgICAgICAgICAgICAgICAgdGhpcy5wcm9kdWN0b3NbdGhpcy5wcm9kdWN0b3MubGVuZ3RoLTFdLnN0b2NrQ3JpdGljbyA9IHRoaXMucHJvZHNbYV0uc3RvY2tDcml0aWNvDQogICAgICAgICAgICAgICAgICAgIHRoaXMucHJvZHVjdG9zW3RoaXMucHJvZHVjdG9zLmxlbmd0aC0xXS5jb2RpZ29CYXJyYSA9IHRoaXMucHJvZHNbYV0uY29kaWdvQmFycmENCiAgICAgICAgICAgICAgICAgICAgdGhpcy5wcm9kdWN0b3NbdGhpcy5wcm9kdWN0b3MubGVuZ3RoLTFdLmtleSA9IHRoaXMuY2FudGlkYWRQcm9kdWN0b3MNCiAgICAgICAgICAgICAgICAgICAgYnJlYWs7DQogICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgICAgIGlmKGEgPT0gdGhpcy5wcm9kcy5sZW5ndGgpew0KICAgICAgICAgICAgICAgICAgICB0aGlzLmNhbnRpZGFkUHJvZHVjdG9zLS07DQogICAgICAgICAgICAgICAgICAgIHRoaXMucHJvZHVjdG9zLnNwbGljZSgtMSk7DQogICAgICAgICAgICAgICAgICAgIHRoaXMuYWxlcnRhKCdkYW5nZXInLCdObyBleGlzdGVuIG1hcyBwcm9kdWN0b3MgcGFyYSBhZ3JlZ2FyJykNCiAgICAgICAgICAgICAgICAgICAgYnJlYWs7DQogICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgfSANCiAgICAgICAgICAgIGlmKHRoaXMucHJvZHVjdG9zW3RoaXMucHJvZHVjdG9zLmxlbmd0aC0xXS5zdG9jayA8IHRoaXMucHJvZHVjdG9zW3RoaXMucHJvZHVjdG9zLmxlbmd0aC0xXS5zdG9ja0NyaXRpY28gJiYgYSAhPSB0aGlzLnByb2RzLmxlbmd0aCl7DQogICAgICAgICAgICAgICAgdGhpcy5hbGVydGEoJ2RhbmdlcicsICdFbCBzdG9jayBxdWUgZXhpc3RlIGFjdHVhbG1lbnRlIGVuIGJvZGVnYSBkZWwgcHJvZHVjdG8gIicgKyB0aGlzLnByb2R1Y3Rvc1t0aGlzLnByb2R1Y3Rvcy5sZW5ndGgtMV0ubm9tUHJvZHVjdG8gKyAnIiBlcyBpbmZlcmlvciBhbCBzdG9jayBjcsOtdGljbycpDQogICAgICAgICAgICB9DQogICAgICAgIH0sDQogICAgICAgIC8vU2UgcXVpdGEgdW4gUHJvZHVjdG8gZGUgbG9zIHF1ZSBzZXLDoW4gYWdyZWdhZG9zIGFsIHNpc3RlbWENCiAgICAgICAgcXVpdGFyUHJvZHVjdG8oKXsNCiAgICAgICAgICAgIGlmKHRoaXMucHJvZHVjdG9zLmxlbmd0aCA+IDEpew0KICAgICAgICAgICAgICAgIHRoaXMuY2FudGlkYWRQcm9kdWN0b3MtLTsNCiAgICAgICAgICAgICAgICB0aGlzLnByb2R1Y3Rvcy5zcGxpY2UoLTEpOw0KICAgICAgICAgICAgfWVsc2V7DQogICAgICAgICAgICAgICAgdGhpcy5hbGVydGEoJ2RhbmdlcicsICdUaWVuZSBxdWUgZXhpc3RpciBhbCBtZW5vcyAxIHByb2R1Y3RvJyk7DQogICAgICAgICAgICB9DQogICAgICAgIH0sDQogICAgICAgIC8vSW5kaWNhbW9zIGVsIG1pbmltbyBkZSBjYW50aWRhZCBwYXJhIHF1ZSBubyBlc3RlIHZhY2lvIG8gc2VhIG1lbm9yIGEgMA0KICAgICAgICBjYW50TWluKHByb2R1Y3RvKXsNCiAgICAgICAgICAgIGNvbnN0IGluZGV4ID0gdGhpcy5wcm9kdWN0b3MuZmluZEluZGV4KGl0ZW0gPT4gaXRlbS5rZXkgPT0gcHJvZHVjdG8pOw0KICAgICAgICAgICAgaWYodGhpcy5wcm9kdWN0b3NbaW5kZXhdLmNhbnRpZGFkIDwgMCl7DQogICAgICAgICAgICAgICAgdGhpcy5wcm9kdWN0b3NbaW5kZXhdLmNhbnRpZGFkID0gMDsNCiAgICAgICAgICAgIH0NCiAgICAgICAgICAgIGlmKHRoaXMucHJvZHVjdG9zW2luZGV4XS5zdG9jayArIHBhcnNlSW50KHRoaXMucHJvZHVjdG9zW2luZGV4XS5jYW50aWRhZCkgPCB0aGlzLnByb2R1Y3Rvc1tpbmRleF0uc3RvY2tDcml0aWNvKXsNCiAgICAgICAgICAgICAgICB0aGlzLmFsZXJ0YSgnZGFuZ2VyJywgJ0VsIHN0b2NrIHF1ZSBleGlzdGUgYWN0dWFsbWVudGUgZW4gYm9kZWdhIGRlbCBwcm9kdWN0byAiJyArIHRoaXMucHJvZHVjdG9zW2luZGV4XS5ub21Qcm9kdWN0byArICciIGVzIGluZmVyaW9yIGFsIHN0b2NrIGNyw610aWNvIGluZ3Jlc2UgbWFzIGNhbnRpZGFkIHBhcmEgY3VtcGxpciBjb24gZWwgc3RvY2sgQ3LDrXRpY28nKQ0KICAgICAgICAgICAgfQ0KICAgICAgICB9LA0KICAgICAgICAvL0luZGljYW1vcyBlbCBtaW5pbW8gZGUgY2FudGlkYWQgcGFyYSBxdWUgbm8gZXN0ZSB2YWNpbyBvIHNlYSBtZW5vciBhIDANCiAgICAgICAgY2FudE1pbkJvZGVnYShwcm9kdWN0byl7DQogICAgICAgICAgICBjb25zdCBpbmRleCA9IHRoaXMuZW52aWFyLmZpbmRJbmRleChpdGVtID0+IGl0ZW0uY29kaWdvQmFycmEgPT0gcHJvZHVjdG8pOw0KICAgICAgICAgICAgaWYodGhpcy5lbnZpYXJbaW5kZXhdLmNhbnRpZGFkIDwgMCl7DQogICAgICAgICAgICAgICAgdGhpcy5lbnZpYXJbaW5kZXhdLmNhbnRpZGFkID0gMDsNCiAgICAgICAgICAgIH0NCiAgICAgICAgICAgIGlmKHRoaXMuZW52aWFyW2luZGV4XS5zdG9ja0JvZGVnYSAtIHBhcnNlSW50KHRoaXMuZW52aWFyW2luZGV4XS5jYW50aWRhZCkgPCB0aGlzLmVudmlhcltpbmRleF0uc3RvY2tDcml0aWNvKXsNCiAgICAgICAgICAgICAgICB0aGlzLmFsZXJ0YSgnZGFuZ2VyJywgJ0VsIHN0b2NrIHF1ZSBleGlzdGUgYWN0dWFsbWVudGUgZW4gYm9kZWdhIGRlbCBwcm9kdWN0byAiJyArIHRoaXMuZW52aWFyW2luZGV4XS5ub21Qcm9kdWN0byArICciIGVzIGluZmVyaW9yIGFsIHN0b2NrIGNyw610aWNvIGluZ3Jlc2UgbWFzIGNhbnRpZGFkIHBhcmEgY3VtcGxpciBjb24gZWwgc3RvY2sgQ3LDrXRpY28nKQ0KICAgICAgICAgICAgfQ0KICAgICAgICB9LA0KICAgICAgICAvL1Blcm1pdGUgdmVyIGxvcyBkZXRhbGxlcyBkZSB1biBwcm9kdWN0byB5IGxvcyBjYXJnYQ0KICAgICAgICBkZXRhbGxlcyhpZCl7DQogICAgICAgICAgICB0aGlzLmF4aW9zLmdldChgYXBpL29idGVuZXJQcm9kdWN0by8ke2lkfWApDQogICAgICAgICAgICAgICAgLnRoZW4ocmVzID0+IHsNCiAgICAgICAgICAgICAgICAgICAgdGhpcy5jb2RpZ28gPSByZXMuZGF0YVswXS5jb2RpZ29CYXJyYTsNCiAgICAgICAgICAgICAgICAgICAgdGhpcy5wcm9kdWN0byA9IHJlcy5kYXRhWzBdLm5vbVByb2R1Y3RvOw0KICAgICAgICAgICAgICAgICAgICB0aGlzLm1hcmNhID0gcmVzLmRhdGFbMF0ubWFyY2E7DQogICAgICAgICAgICAgICAgICAgIHRoaXMuZGVzY3JpcGNpb24gPSByZXMuZGF0YVswXS5kZXNjcmlwY2lvbg0KICAgICAgICAgICAgICAgIH0pDQogICAgICAgICAgICAgICAgLmNhdGNoKGUgPT4gew0KICAgICAgICAgICAgICAgICAgICBTd2FsLmZpcmUoew0KICAgICAgICAgICAgICAgICAgICBpY29uOiAnZXJyb3InLA0KICAgICAgICAgICAgICAgICAgICB0aXRsZTogJ09vcHMuLi4nLA0KICAgICAgICAgICAgICAgICAgICB0ZXh0OiAnTm8gc2UgaGEgbG9ncmFkbyBlbmNvbnRyYXIgbG9zIGRhdG9zIGRlbCBlcXVpcG8nLA0KICAgICAgICAgICAgICAgICAgICBmb290ZXI6ICdQb3NpYmxlIGVycm9yIGRlbCBzaXN0ZW1hJw0KICAgICAgICAgICAgICAgICAgICB9KQ0KICAgICAgICAgICAgICAgIH0pDQogICAgICAgIH0sDQogICAgICAgIGNvbnZlcnREYXRlTXlzcWwoeW91ckRhdGUpew0KICAgICAgICAgICAgeW91ckRhdGUudG9JU09TdHJpbmcoKS5zcGxpdCgnVCcpWzBdDQogICAgICAgICAgICBjb25zdCBvZmZzZXQgPSB5b3VyRGF0ZS5nZXRUaW1lem9uZU9mZnNldCgpDQogICAgICAgICAgICB5b3VyRGF0ZSA9IG5ldyBEYXRlKHlvdXJEYXRlLmdldFRpbWUoKSAtIChvZmZzZXQqNjAqMTAwMCkpDQogICAgICAgICAgICByZXR1cm4geW91ckRhdGUudG9JU09TdHJpbmcoKS5zcGxpdCgnVCcpWzBdDQoJCX0sDQogICAgICAgIC8vRnVuY2nDs24gcXVlIHBlcm1pdGUgZ2VuZXJhciB1biBpbmZvcm1lIHkgZW52aWFyIGxvcyBkYXRvcyBkZSB1biBudWV2byBISVNUT1JJQUwgDQogICAgICAgIGdlbmVyYXJJbmZvcm1lKCl7DQogICAgICAgICAgICB2YXIgZHQgPSB0aGlzLmNvbnZlcnREYXRlTXlzcWwobmV3IERhdGUoKSkNCiAgICAgICAgICAgIHZhciBzdW1hU3RvY2tCb2RlZ2EgPSAwOw0KICAgICAgICAgICAgdmFyIHN1bWEgPSAwOw0KICAgICAgICAgICAgZm9yKHZhciBpID0gMDsgaSA8IHRoaXMucHJvZHVjdG9zLmxlbmd0aDsgaSsrKXsNCiAgICAgICAgICAgICAgICBzdW1hU3RvY2tCb2RlZ2EgPSBzdW1hU3RvY2tCb2RlZ2EgKyB0aGlzLnByb2R1Y3Rvc1tpXS5zdG9jaw0KICAgICAgICAgICAgICAgIHN1bWEgPSBzdW1hICsgdGhpcy5wcm9kdWN0b3NbaV0uY2FudGlkYWQNCiAgICAgICAgICAgIH0NCiAgICAgICAgICAgIHRoaXMuJHYuJHRvdWNoKCkNCiAgICAgICAgICAgIGlmKCF0aGlzLiR2Lm51ZXZhT3JkZW4uJGludmFsaWQgJiYgIXRoaXMuJHYucHJvdmVlZG9yLiRpbnZhbGlkKXsNCiAgICAgICAgICAgICAgICBzd2FsLmZpcmUoew0KICAgICAgICAgICAgICAgIHRpdGxlOiAnwr9TZWd1cm8gcXVlIGRlc2VhIHJlYWxpemFyIGxhIG9yZGVuIGRlIGNvbXByYSBhIGxhIGJvZGVnYSAnICsgdGhpcy5ib2RlZ2FDcmVhciArICc/JywNCiAgICAgICAgICAgICAgICB0eXBlOiAnd2FybmluZycsDQogICAgICAgICAgICAgICAgc2hvd0NhbmNlbEJ1dHRvbjogdHJ1ZSwNCiAgICAgICAgICAgICAgICBjb25maXJtQnV0dG9uQ29sb3I6ICcjMzA4NWQ2JywNCiAgICAgICAgICAgICAgICBjYW5jZWxCdXR0b25Db2xvcjogJyNkMzMnLA0KICAgICAgICAgICAgICAgIGNhbmNlbEJ1dHRvblRleHQ6ICdDYW5jZWxhcicsDQogICAgICAgICAgICAgICAgY29uZmlybUJ1dHRvblRleHQ6ICfCoVNpIScNCiAgICAgICAgICAgICAgICB9KS50aGVuKChyZXN1bHQpID0+IHsNCiAgICAgICAgICAgICAgICAgICAgaWYgKHJlc3VsdC52YWx1ZSkgew0KICAgICAgICAgICAgICAgICAgICAgICAgaWYoc3VtYVN0b2NrQm9kZWdhID4gMCAmJiBzdW1hID4gMCl7DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5heGlvcy5wb3N0KCdhcGkvYWdyZWdhT3JkZW5FbnRyZWdhJywge2NvZE9yZGVuOiB0aGlzLm51ZXZhT3JkZW4sIHByb3ZlZWRvcjogdGhpcy5wcm92ZWVkb3IsIGZlY2hhOiBkdCwgbm9tQm9kZWdhOiB0aGlzLmJvZGVnYUNyZWFyfSkNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAudGhlbihyZXMgPT4gew0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmKCFyZXMuZGF0YS5zcWxNZXNzYWdlKXsNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5PUkRFTlByb2R1Y3RvKCk7DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuc3VtYVN0b2NrKCk7DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgfWVsc2V7DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFN3YWwuZmlyZSh7DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGljb246ICdlcnJvcicsDQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRpdGxlOiAnT29wcy4uLicsDQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRleHQ6ICdObyBzZSBoYSBsb2dyYWRvIGNyZWFyICcsDQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZvb3RlcjogJ0FsZ8O6biBkYXRvIGhhIHNpZG8gaW5jb3JyZWN0byB2ZXJpZmlxdWVsb3MnDQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pDQogICAgICAgICAgICAgICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pDQogICAgICAgICAgICAgICAgICAgICAgICAgICAgLmNhdGNoKGUgPT4gew0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIFN3YWwuZmlyZSh7DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGljb246ICdlcnJvcicsDQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRpdGxlOiAnT29wcy4uLicsDQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRleHQ6ICdObyBzZSBoYSBsb2dyYWRvIHJlZ2lzdHJhciBsYSBvcmRlbiBkZSBjb21wcmEnLA0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBmb290ZXI6ICdQb3NpYmxlIGVycm9yIGRlbCBzaXN0ZW1hJw0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pDQogICAgICAgICAgICAgICAgICAgICAgICAgICAgfSkgDQogICAgICAgICAgICAgICAgICAgICAgICB9ZWxzZSBpZihzdW1hU3RvY2tCb2RlZ2EgPiAwKXsNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmFsZXJ0YSgnZGFuZ2VyJywgJ05vIHNlIGVuY3VlbnRyYSBzdG9jayBkaXNwb25pYmxlIGVuIGJvZGVnYScpDQogICAgICAgICAgICAgICAgICAgICAgICB9ZWxzZXsNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmFsZXJ0YSgnZGFuZ2VyJywgJ05vIHNlIGhhIGluZ3Jlc2FkbyBuaW5ndW5hIGNhbnRpZGFkJykNCiAgICAgICAgICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgICAgIH0pDQogICAgICAgICAgICB9ZWxzZXsNCiAgICAgICAgICAgICAgICB0aGlzLmFsZXJ0YSgnZGFuZ2VyJywgJ1BvcmZhdm9yIGluZ3Jlc2UgdG9kb3MgbG9zIGNhbXBvcyByZXF1ZXJpZG9zJykNCiAgICAgICAgICAgIH0NCiAgICAgICAgfSwNCiAgICAgICAgLy9SZWdpc3RyYSBsb3MgcHJvZHVjdG9zIGRlIGxhIE9SREVOIERFIENPTVBSQQ0KICAgICAgICBPUkRFTlByb2R1Y3RvKCl7DQogICAgICAgICAgICBmb3IodmFyIGkgPSAwOyBpPHRoaXMucHJvZHVjdG9zLmxlbmd0aDsgaSsrKXsNCiAgICAgICAgICAgICAgICBpZih0aGlzLnByb2R1Y3Rvc1tpXS5jYW50aWRhZCA+IDApew0KICAgICAgICAgICAgICAgICAgICB0aGlzLmF4aW9zLnBvc3QoJ2FwaS9hZ3JlZ2FPcmRlblByb2R1Y3RvJywge2NhbnRpZGFkOiB0aGlzLnByb2R1Y3Rvc1tpXS5jYW50aWRhZCwgY29kT3JkZW46IHRoaXMubnVldmFPcmRlbiwgY29kaWdvQmFycmE6IHRoaXMucHJvZHVjdG9zW2ldLmNvZGlnb0JhcnJhfSkNCiAgICAgICAgICAgICAgICAgICAgICAgIC50aGVuKHJlcyA9PiB7DQogICAgICAgICAgICAgICAgICAgICAgICBpZighcmVzLmRhdGEuc3FsTWVzc2FnZSl7DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgU3dhbC5maXJlKA0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICdTZSBoYSByZWdpc3RyYWRvIGxhIG9yZGVuIGRlIGNvbXByYSBzYXRpc2ZhY3RvcmlhbWVudGUnLA0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICdTZWxlY2Npb25lIE9rIHBhcmEgY29udGludWFyJywNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAnc3VjY2VzcycNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICApDQogICAgICAgICAgICAgICAgICAgICAgICB9ZWxzZXsNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBTd2FsLmZpcmUoew0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpY29uOiAnZXJyb3InLA0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aXRsZTogJ09vcHMuLi4nLA0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0ZXh0OiAnTm8gc2UgaGEgbG9ncmFkbyBjcmVhciAnLA0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBmb290ZXI6ICdBbGfDum4gZGF0byBoYSBzaWRvIGluY29ycmVjdG8gdmVyaWZpcXVlbG9zJw0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pDQogICAgICAgICAgICAgICAgICAgICAgICB9DQogICAgICAgICAgICAgICAgICAgICAgICB9KQ0KICAgICAgICAgICAgICAgICAgICAgICAgLmNhdGNoKGUgPT4gew0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIFN3YWwuZmlyZSh7DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGljb246ICdlcnJvcicsDQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRpdGxlOiAnT29wcy4uLicsDQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRleHQ6ICdObyBzZSBoYSBsb2dyYWRvIHJlZ2lzdHJhciBsYSBvcmRlbiBkZSBjb21wcmEnLA0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBmb290ZXI6ICdQb3NpYmxlIGVycm9yIGRlbCBzaXN0ZW1hJw0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pDQogICAgICAgICAgICAgICAgICAgICAgICB9KQ0KICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgIH0NCiAgICAgICAgfSwNCg0KICAgICAgICAvL1N1bWEgbG9zIHN0b2NrIGRlIEJPREVHQSBkZSBjYWRhIHByb2R1Y3RvDQogICAgICAgIHN1bWFTdG9jaygpew0KICAgICAgICAgICAgZm9yKHZhciBpID0gMDsgaTx0aGlzLnByb2R1Y3Rvcy5sZW5ndGg7IGkrKyl7DQogICAgICAgICAgICAgICAgaWYodGhpcy5wcm9kdWN0b3NbaV0uY2FudGlkYWQgPiAwKXsNCiAgICAgICAgICAgICAgICAgICAgdGhpcy5heGlvcy5wdXQoYGFwaS9hY3R1YWxpemFTdG9ja0JvZGVnYW1hcy8ke3RoaXMucHJvZHVjdG9zW2ldLmNvZGlnb0JhcnJhfWAsIHtjYW50aWRhZDogdGhpcy5wcm9kdWN0b3NbaV0uY2FudGlkYWQsIG5vbUJvZGVnYTogdGhpcy5ib2RlZ2FDcmVhcn0pDQogICAgICAgICAgICAgICAgICAgICAgICAudGhlbihyZXMgPT4gew0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuYWN0dWFsaXphclN0b2NrKCk7DQogICAgICAgICAgICAgICAgICAgICAgICB9KQ0KICAgICAgICAgICAgICAgICAgICAgICAgLmNhdGNoKGUgPT4gew0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciBtZW5zYWplID0gJ1Bvc2libGUgZXJyb3IgZGVsIHNpc3RlbWEnOw0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIFN3YWwuZmlyZSh7DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgaWNvbjogJ2Vycm9yJywNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aXRsZTogJ09vcHMuLi4nLA0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRleHQ6ICdObyBzZSBoYSBsb2dyYWRvIHJlZ2lzdHJhciBsYSBlbnRyZWdhIGRlIGluc3Vtb3MnLA0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZvb3RlcjogbWVuc2FqZQ0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pDQogICAgICAgICAgICAgICAgICAgICAgICB9KQ0KICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgIH0NCiAgICAgICAgfSwNCiAgICAgICAgLy9BY3R1YWxpemEgbGEgcGFnaW5hIHRyYXMgZ2VuZXJhciB1bmEgZW50cmVnYSBkZSBpbnN1bW9zDQogICAgICAgIGFjdHVhbGl6YXJTdG9jaygpew0KICAgICAgICAgICAgZm9yKHZhciBpID0gMDsgaTx0aGlzLnByb2R1Y3Rvcy5sZW5ndGgtMTsgaSsrKXsNCiAgICAgICAgICAgICAgICB0aGlzLmNhbnRpZGFkUHJvZHVjdG9zLS07DQogICAgICAgICAgICAgICAgdGhpcy5wcm9kdWN0b3Muc3BsaWNlKC0xKTsNCiAgICAgICAgICAgIH0NCiAgICAgICAgICAgIHRoaXMuY2FyZ2FyUHJvZHVjdG9zKHRydWUpOw0KICAgICAgICB9LA0KICAgICAgICAvL0Z1bmNpw7NuIHBhcmEgY2FyZ2FyIGxhcyBib2RlZ2FzIGRlbCBzaXN0ZW1hDQogICAgICAgIGNhcmdhckJvZGVnYXMoKXsNCiAgICAgICAgICAgIHRoaXMuYXhpb3MuZ2V0KCdhcGkvb2J0ZW5lcmJvZGVnYXMnKQ0KICAgICAgICAgICAgLnRoZW4ocmVzID0+IHsNCiAgICAgICAgICAgICAgICB0aGlzLmJvZGVnYXMgPSByZXMuZGF0YTsNCiAgICAgICAgICAgICAgICB0aGlzLmJvZGVnYUNyZWFyID0gcmVzLmRhdGFbMF0ubm9tQm9kZWdhDQogICAgICAgICAgICB9KQ0KICAgICAgICAgICAgLmNhdGNoKGUgPT4gew0KICAgICAgICAgICAgICAgIHRoaXMuYWxlcnRhKCdkYW5nZXInLCAnTm8gc2UgaGFuIHBvZGlkbyBjYXJnYXIgbGFzIGJvZGVnYXMnKTsNCiAgICAgICAgICAgIH0pDQogICAgICAgIH0sDQogICAgICAgIC8vRnVuY2nDs24gcGFyYSByZWdyZXNhciBhIGxhIHZpc3RhIHByaW5jaXBhbA0KICAgICAgICBWb2x2ZXIoKXsNCiAgICAgICAgICAgIHRoaXMucGVzdGHDsWEgPSAnYm9kZWdhcycNCiAgICAgICAgICAgICQoJyNvcmRlbmVzJykuRGF0YVRhYmxlKCkuZGVzdHJveSgpDQogICAgICAgICAgICAkKCcjZW52aWFyJykuRGF0YVRhYmxlKCkuZGVzdHJveSgpDQogICAgICAgICAgICB0aGlzLmVudmlhciA9IFtdDQogICAgICAgICAgICAkKCcjYm9kZWdhcycpLkRhdGFUYWJsZSgpDQogICAgICAgICAgICB0aGlzLmNhcmdhckJvZGVnYXMoKTsNCiAgICAgICAgfSwNCiAgICAgICAgVm9sdmVyT1JEKCl7DQogICAgICAgICAgICAkKCcjZGV0YWxsZU9yZGVuJykuRGF0YVRhYmxlKCkuZGVzdHJveSgpOw0KICAgICAgICAgICAgdGhpcy5wZXN0YcOxYSA9ICdvcmRlbmVzJw0KICAgICAgICAgICAgdGhpcy5jYXJnYXJPcmRlbmVzKCk7DQogICAgICAgICAgICAkKCcjb3JkZW5lcycpLkRhdGFUYWJsZSgpDQogICAgICAgIH0sDQogICAgICAgIC8vRnVuY2lvbmVzIHBhcmEgY2FtYmlhciBsYXMgdmlzdGFzDQogICAgICAgIEFjdEFncmVnYXIoKXsNCiAgICAgICAgICAgIHRoaXMuYWdyZWdhciA9ICdzaScNCiAgICAgICAgfSwNCiAgICAgICAgTm9BZ3JlZ2FyKCl7DQogICAgICAgICAgICB0aGlzLmFncmVnYXIgPSAnbm8nDQogICAgICAgIH0sDQogICAgICAgIA0KICAgICAgICBBY3RPcmRlbmVzKG5vbUJvZGVnYSl7DQogICAgICAgICAgICB0aGlzLm5vbUJvZGVnYSA9IG5vbUJvZGVnYQ0KICAgICAgICAgICAgdGhpcy5wZXN0YcOxYSA9ICdvcmRlbmVzJw0KICAgICAgICAgICAgJCgnI2JvZGVnYXMnKS5EYXRhVGFibGUoKS5kZXN0cm95KCk7DQogICAgICAgICAgICAkKCcjb3JkZW5lcycpLkRhdGFUYWJsZSgpDQogICAgICAgICAgICB0aGlzLmNhcmdhck9yZGVuZXMoKTsNCiAgICAgICAgfSwNCiAgICAgICAgQWN0RE9yZGVuZXMoY29kT3JkZW4pew0KICAgICAgICAgICAgdGhpcy5oaXN0byA9IGNvZE9yZGVuOw0KICAgICAgICAgICAgdGhpcy5wZXN0YcOxYSA9ICdkZXRhbGxlT3JkZW4nOw0KICAgICAgICAgICAgJCgnI29yZGVuZXMnKS5EYXRhVGFibGUoKS5kZXN0cm95KCk7DQogICAgICAgICAgICAkKCcjZGV0YWxsZU9yZGVuJykuRGF0YVRhYmxlKCkNCiAgICAgICAgICAgIHRoaXMuY2FyZ2FyRGV0YWxsZU9yZGVuKCk7DQogICAgICAgIH0sDQogICAgICAgIEFjdENyZWFyKCl7DQogICAgICAgICAgICB0aGlzLnBlc3Rhw7FhID0gJ2NyZWFyJw0KICAgICAgICAgICAgdGhpcy5hZ3JlZ2FyID0gJ25vJw0KICAgICAgICAgICAgJCgnI2JvZGVnYXMnKS5EYXRhVGFibGUoKS5kZXN0cm95KCk7DQogICAgICAgICAgICB0aGlzLmNhcmdhclByb2R1Y3Rvcyh0cnVlKTsNCiAgICAgICAgfSwNCiAgICAgICAgQWN0UHJvZHVjdG9zKG5vbUJvZGVnYSl7DQogICAgICAgICAgICB0aGlzLm5vbUJvZGVnYSA9IG5vbUJvZGVnYQ0KICAgICAgICAgICAgdGhpcy5wZXN0YcOxYSA9ICdlbnZpYXInDQogICAgICAgICAgICAkKCcjYm9kZWdhcycpLkRhdGFUYWJsZSgpLmRlc3Ryb3koKTsNCiAgICAgICAgICAgICQoJyNlbnZpYXInKS5EYXRhVGFibGUoKQ0KICAgICAgICAgICAgdGhpcy5jYXJnYXJQcm9kdWN0b3NCb2RlZ2EoKTsNCiAgICAgICAgfSwNCiAgICAgICAgLy9GdW5jaW9uZXMgZGUgQUdSRUdBUg0KICAgICAgICBhZ3JlZ2FCb2RlZ2EoKXsNCiAgICAgICAgICAgIHRoaXMuJHYuJHRvdWNoKCkNCiAgICAgICAgICAgIGlmKCF0aGlzLiR2Lm51ZXZhQm9kZWdhLiRpbnZhbGlkKXsNCiAgICAgICAgICAgICAgICB0aGlzLmF4aW9zLnBvc3QoJ2FwaS9hZ3JlZ2FCb2RlZ2EnLCB7bm9tQm9kZWdhOiB0aGlzLm51ZXZhQm9kZWdhfSkNCiAgICAgICAgICAgICAgICAgICAgLnRoZW4ocmVzID0+IHsNCiAgICAgICAgICAgICAgICAgICAgICAgIGlmKCFyZXMuZGF0YS5zcWxNZXNzYWdlKXsNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmJvZGVnYXMucHVzaCh7bm9tQm9kZWdhOiB0aGlzLm51ZXZhQm9kZWdhfSkNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBTd2FsLmZpcmUoDQogICAgICAgICAgICAgICAgICAgICAgICAgICAgJ1NlIGhhIHJlZ2lzdHJhZG8gbGEgYm9kZWdhIHNhdGlzZmFjdG9yaWFtZW50ZScsDQogICAgICAgICAgICAgICAgICAgICAgICAgICAgJ1NlbGVjY2lvbmUgT2sgcGFyYSBjb250aW51YXInLA0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICdzdWNjZXNzJw0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICkNCiAgICAgICAgICAgICAgICAgICAgICAgIH1lbHNlew0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIFN3YWwuZmlyZSh7DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGljb246ICdlcnJvcicsDQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRpdGxlOiAnT29wcy4uLicsDQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRleHQ6ICdObyBzZSBoYSBsb2dyYWRvIGNyZWFyIGxhIG51ZXZhIGJvZGVnYSAiJyArIHRoaXMubnVldmFCb2RlZ2EgKyAnIiAuJywNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZm9vdGVyOiAnRWwgbm9tYnJlIGRlIGxhIGJvZGVnYSB5YSBleGlzdGUgZW4gZWwgc2lzdGVtYScNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KQ0KICAgICAgICAgICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgICAgICAgICAgICAgfSkNCiAgICAgICAgICAgICAgICAgICAgICAgIC5jYXRjaChlID0+IHsNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBTd2FsLmZpcmUoew0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpY29uOiAnZXJyb3InLA0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aXRsZTogJ09vcHMuLi4nLA0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0ZXh0OiAnTm8gc2UgaGEgbG9ncmFkbyByZWdpc3RyYXIgbGEgbnVldmEgYm9kZWdhJywNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZm9vdGVyOiAnUG9zaWJsZSBlcnJvciBkZWwgc2lzdGVtYScNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KQ0KICAgICAgICAgICAgICAgICAgICAgICAgfSkNCiAgICAgICAgICAgIH1lbHNlew0KICAgICAgICAgICAgICAgIHRoaXMuYWxlcnRhKCdkYW5nZXInLCAnUG9yZmF2b3IgaW5ncmVzZSB1biBub21icmUgcGFyYSBsYSBudWV2YSBib2RlZ2EnKQ0KICAgICAgICAgICAgfQ0KICAgICAgICB9LA0KICAgICAgICAvL1RBQkxBIERFIE9SREVORVMgUVVFIFBPU0VFIFVOQSBCT0RFR0ENCiAgICAgICAgY2FyZ2FyT3JkZW5lcygpew0KICAgICAgICAgICAgdGhpcy5heGlvcy5nZXQoYGFwaS9vYnRlbmVyT3JkZW5lc0JvZGVnYS8ke3RoaXMubm9tQm9kZWdhfWApDQogICAgICAgICAgICAudGhlbihyZXMgPT4gew0KICAgICAgICAgICAgICAgIHRoaXMub3JkZW5lcyA9IHJlcy5kYXRhOw0KICAgICAgICAgICAgfSkNCiAgICAgICAgICAgIC5jYXRjaChlID0+IHsNCiAgICAgICAgICAgICAgICB0aGlzLmFsZXJ0YSgnZGFuZ2VyJywgJ05vIHNlIGhhIGxvZ3JhZG8gY2FyZ2FyIGxhIG9yZGVuJyk7DQogICAgICAgICAgICB9KQ0KICAgICAgICB9LA0KICAgICAgICAvL0NhcmdhciBsb3MgZGV0YWxsZXMgZGUgdW5hIG9yZGVuDQogICAgICAgIGNhcmdhckRldGFsbGVPcmRlbigpew0KICAgICAgICAgICAgdGhpcy5heGlvcy5nZXQoYGFwaS9vYnRlbmVyT3JkZW4vJHt0aGlzLmhpc3RvfWApDQogICAgICAgICAgICAudGhlbihyZXMgPT4gew0KICAgICAgICAgICAgICAgIHRoaXMuZGV0YWxsZU9yZGVuID0gcmVzLmRhdGE7DQogICAgICAgICAgICB9KQ0KICAgICAgICAgICAgLmNhdGNoKGUgPT4gew0KICAgICAgICAgICAgICAgIHRoaXMuYWxlcnRhKCdkYW5nZXInLCAnTm8gc2UgaGEgbG9ncmFkbyBjYXJnYXIgZWwgZGV0YWxsZSBkZSB1bmEgb3JkZW4nKTsNCiAgICAgICAgICAgIH0pDQogICAgICAgIH0sDQogICAgICAgIC8vRnVuY2nDs24gcXVlIGVudmlhIHVuIHN0b2NrIGRlc2RlIGJvZGVnYSBhIERpcmVjY2nDs24gUmVnaW9uYWwNCiAgICAgICAgRW52aWFyRGlyZWNjaW9uKGNvZGlnb0JhcnJhLCBjYW50aWRhZCl7DQogICAgICAgICAgICBzd2FsLmZpcmUoew0KICAgICAgICAgICAgICAgIHRpdGxlOiAnwr9TZWd1cm8gcXVlIGRlc2VhIGVudmlhciBlbCBzdG9jayBkZSBsYSBib2RlZ2EgY29uIHVuYSBjYW50aWRhZCBkZSAiJyArIGNhbnRpZGFkICsgJyIgYSBkaXJlY2Npw7NuIHJlZ2lvbmFsIHBhcmEgZWwgcHJvZHVjdG8gZGUgY29kaWdvOiAiJyArIGNvZGlnb0JhcnJhICsgJyI/JywNCiAgICAgICAgICAgICAgICB0eXBlOiAnd2FybmluZycsDQogICAgICAgICAgICAgICAgc2hvd0NhbmNlbEJ1dHRvbjogdHJ1ZSwNCiAgICAgICAgICAgICAgICBjb25maXJtQnV0dG9uQ29sb3I6ICcjMzA4NWQ2JywNCiAgICAgICAgICAgICAgICBjYW5jZWxCdXR0b25Db2xvcjogJyNkMzMnLA0KICAgICAgICAgICAgICAgIGNhbmNlbEJ1dHRvblRleHQ6ICdDYW5jZWxhcicsDQogICAgICAgICAgICAgICAgY29uZmlybUJ1dHRvblRleHQ6ICfCoVNpIScNCiAgICAgICAgICAgIH0pLnRoZW4oKHJlc3VsdCkgPT4gew0KICAgICAgICAgICAgICAgIGlmIChyZXN1bHQudmFsdWUpIHsNCiAgICAgICAgICAgICAgICAgICAgdGhpcy5heGlvcy5wdXQoYGFwaS9hY3R1YWxpemFTdG9ja0JvZGVnYS8ke2NvZGlnb0JhcnJhfWAsIHtjYW50aWRhZDogY2FudGlkYWQsIG5vbUJvZGVnYTogdGhpcy5ub21Cb2RlZ2F9KQ0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIC50aGVuKHJlcyA9PiB7DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMucmVjaWJpckRpcmVjY2lvbihjb2RpZ29CYXJyYSwgY2FudGlkYWQpOw0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pDQogICAgICAgICAgICAgICAgICAgICAgICAgICAgLmNhdGNoKGUgPT4gew0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgbWVuc2FqZSA9ICdQb3NpYmxlIGVycm9yIGRlbCBzaXN0ZW1hJzsNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgU3dhbC5maXJlKHsNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWNvbjogJ2Vycm9yJywNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGl0bGU6ICdPb3BzLi4uJywNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGV4dDogJ05vIHNlIGhhIGxvZ3JhZG8gdHJhc3Bhc2FyIGxvcyBzdG9ja3MnLA0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBmb290ZXI6IG1lbnNhamUNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSkNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KQ0KICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgIH0pDQogICAgICAgIH0sDQogICAgICAgIC8vRnVuY2nDs24gcXVlIHBlcm1pdGUgYWN0dWFsaXphciBlbCBzdG9jayBkZSB1biBwcm9kdWN0byBlbiBsYSBkaXJlY2Npw7NuIFJlZ2lvbmFsDQogICAgICAgIHJlY2liaXJEaXJlY2Npb24oY29kaWdvQmFycmEsIGNhbnRpZGFkKXsNCiAgICAgICAgICAgIHRoaXMuYXhpb3MucHV0KGBhcGkvYWN0dWFsaXphU3RvY2ttYXMvJHtjb2RpZ29CYXJyYX1gLCB7Y2FudGlkYWQ6IGNhbnRpZGFkfSkNCiAgICAgICAgICAgICAgICAgICAgLnRoZW4ocmVzID0+IHsNCiAgICAgICAgICAgICAgICAgICAgICAgIFN3YWwuZmlyZSgNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAnU2UgaGEgcmVhbGl6YWRvIHVuIHRyYXNwYXNvIGRlIHN0b2NrIGEgRGlyZWNjacOzbiBSZWdpb25hbCcsDQogICAgICAgICAgICAgICAgICAgICAgICAgICAgJ1NlbGVjY2lvbmUgT2sgcGFyYSBjb250aW51YXInLA0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICdzdWNjZXNzJw0KICAgICAgICAgICAgICAgICAgICAgICAgKQ0KICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5hY3R1YWxpemFyU3RvY2tzUHJvZHVjdG9Cb2RlZ2EoY29kaWdvQmFycmEsIGNhbnRpZGFkKQ0KICAgICAgICAgICAgICAgICAgICB9KQ0KICAgICAgICAgICAgICAgICAgICAuY2F0Y2goZSA9PiB7DQogICAgICAgICAgICAgICAgICAgICAgICB2YXIgbWVuc2FqZSA9ICdQb3NpYmxlIGVycm9yIGRlbCBzaXN0ZW1hJzsNCiAgICAgICAgICAgICAgICAgICAgICAgIFN3YWwuZmlyZSh7DQogICAgICAgICAgICAgICAgICAgICAgICBpY29uOiAnZXJyb3InLA0KICAgICAgICAgICAgICAgICAgICAgICAgdGl0bGU6ICdPb3BzLi4uJywNCiAgICAgICAgICAgICAgICAgICAgICAgIHRleHQ6ICdObyBzZSBoYSBsb2dyYWRvIHJlY2liaXIgZWwgc3RvY2sgZW4gZGlyZWNjacOzbiByZWdpb25hbCcsDQogICAgICAgICAgICAgICAgICAgICAgICBmb290ZXI6IG1lbnNhamUNCiAgICAgICAgICAgICAgICAgICAgICAgIH0pDQogICAgICAgICAgICAgICAgICAgIH0pDQogICAgICAgIH0sDQogICAgICAgIC8vRnVuY2nDs24gcXVlIGFjdHVhbGl6YSBsb3Mgc3RvY2sgZW4gbGEgdmlzdGEgZGUgbGEgcMOhZ2luYQ0KICAgICAgICBhY3R1YWxpemFyU3RvY2tzUHJvZHVjdG9Cb2RlZ2EoY29kaWdvQmFycmEsIGNhbnRpZGFkKXsNCiAgICAgICAgICAgIGNvbnN0IGluZGV4ID0gdGhpcy5lbnZpYXIuZmluZEluZGV4KGl0ZW0gPT4gaXRlbS5jb2RpZ29CYXJyYSA9PSBjb2RpZ29CYXJyYSk7DQogICAgICAgICAgICB0aGlzLmVudmlhcltpbmRleF0uc3RvY2tCb2RlZ2EgPSB0aGlzLmVudmlhcltpbmRleF0uc3RvY2tCb2RlZ2EgLSBjYW50aWRhZA0KICAgICAgICAgICAgdGhpcy5lbnZpYXJbaW5kZXhdLnN0b2NrID0gdGhpcy5lbnZpYXJbaW5kZXhdLnN0b2NrICsgY2FudGlkYWQNCiAgICAgICAgfSwNCiAgICAgICAgLy9GdW5jaW9uZXMgZGUgbGFzIGFsZXJ0YXMNCiAgICAgICAgY291bnREb3duQ2hhbmdlZChkaXNtaXNzQ291bnREb3duKSB7DQogICAgICAgICAgICB0aGlzLmRpc21pc3NDb3VudERvd24gPSBkaXNtaXNzQ291bnREb3duDQogICAgICAgIH0sDQogICAgICAgIHNob3dBbGVydCgpIHsNCiAgICAgICAgICAgIHRoaXMuZGlzbWlzc0NvdW50RG93biA9IHRoaXMuZGlzbWlzc1NlY3MNCiAgICAgICAgfSwNCiAgICAgICAgYWxlcnRhKGNvbG9yLCB0ZXh0byl7DQogICAgICAgICAgICB0aGlzLm1lbnNhamUuY29sb3IgPSBjb2xvcjsNCiAgICAgICAgICAgIHRoaXMubWVuc2FqZS50ZXh0byA9IHRleHRvOw0KICAgICAgICAgICAgdGhpcy5zaG93QWxlcnQoKTsNCiAgICAgICAgfSwNCiAgICB9LA0KICAgIGFzeW5jIG1vdW50ZWQoKXsNCiAgICAgIGF3YWl0ICQoJyNib2RlZ2FzJykuRGF0YVRhYmxlKCkNCiAgICAgIGF3YWl0ICQoJyNvcmRlbmVzJykuRGF0YVRhYmxlKCkNCiAgICAgIGF3YWl0ICQoJyNkZXRhbGxlT3JkZW4nKS5EYXRhVGFibGUoKQ0KICAgICAgYXdhaXQgJCgnI2VudmlhcicpLkRhdGFUYWJsZSgpDQogICAgfSwNCiAgICB3YXRjaDogew0KICAgICAgYm9kZWdhcyh2YWwpIHsNCiAgICAgICAgaWYodGhpcy5wZXN0YcOxYSA9PT0gJ2JvZGVnYXMnKXsNCiAgICAgICAgICAkKCcjYm9kZWdhcycpLkRhdGFUYWJsZSgpLmRlc3Ryb3koKTsNCiAgICAgICAgICB0aGlzLiRuZXh0VGljaygoKT0+IHsNCiAgICAgICAgICAgICQoJyNib2RlZ2FzJykuRGF0YVRhYmxlKCkNCiAgICAgICAgICB9KTsNCiAgICAgICAgfQ0KICAgICAgfSwNCiAgICAgIG9yZGVuZXModmFsKSB7DQogICAgICAgIGlmKHRoaXMucGVzdGHDsWEgPT09ICdvcmRlbmVzJyl7DQogICAgICAgICAgJCgnI29yZGVuZXMnKS5EYXRhVGFibGUoKS5kZXN0cm95KCk7DQogICAgICAgICAgdGhpcy4kbmV4dFRpY2soKCk9PiB7DQogICAgICAgICAgICAkKCcjb3JkZW5lcycpLkRhdGFUYWJsZSgpDQogICAgICAgICAgfSk7DQogICAgICAgIH0NCiAgICAgIH0sDQogICAgICBkZXRhbGxlT3JkZW4odmFsKSB7DQogICAgICAgIGlmKHRoaXMucGVzdGHDsWEgPT09ICdkZXRhbGxlT3JkZW4nKXsNCiAgICAgICAgICAkKCcjZGV0YWxsZU9yZGVuJykuRGF0YVRhYmxlKCkuZGVzdHJveSgpOw0KICAgICAgICAgIHRoaXMuJG5leHRUaWNrKCgpPT4gew0KICAgICAgICAgICAgJCgnI2RldGFsbGVPcmRlbicpLkRhdGFUYWJsZSgpDQogICAgICAgICAgfSk7DQogICAgICAgIH0NCiAgICAgIH0sDQogICAgICBlbnZpYXIodmFsKSB7DQogICAgICAgIGlmKHRoaXMucGVzdGHDsWEgPT09ICdlbnZpYXInKXsNCiAgICAgICAgICAkKCcjZW52aWFyJykuRGF0YVRhYmxlKCkuZGVzdHJveSgpOw0KICAgICAgICAgIHRoaXMuJG5leHRUaWNrKCgpPT4gew0KICAgICAgICAgICAgJCgnI2VudmlhcicpLkRhdGFUYWJsZSgpDQogICAgICAgICAgfSk7DQogICAgICAgIH0NCiAgICAgIH0NCiAgICB9DQp9DQo="},{"version":3,"sources":["bodegas.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAmOA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"bodegas.vue","sourceRoot":"src/views","sourcesContent":["<template>\r\n    <div class=\"menu\">\r\n        <navbar />\r\n        <b-container><br>\r\n            <h1 class=\"mt-2\">Administración de Bodegas</h1>\r\n            <h2 class=\"mt-1\" v-if=\"pestaña === 'bodegas'\"> Listado de Bodegas</h2>\r\n            <h2 class=\"mt-1\" v-if=\"pestaña === 'ordenes'\"> Listado de Ordenes de la Bodega: {{nomBodega}}</h2>\r\n            <b-alert\r\n              :show=\"dismissCountDown\"\r\n              dismissible\r\n              :variant=\"mensaje.color\"\r\n              @dismissed=\"dismissCountDown=0\"\r\n              @dismiss-count-down=\"countDownChanged\"\r\n              >\r\n              {{mensaje.texto}}\r\n            </b-alert>\r\n            <div class=\"mt-1\">\r\n                <b-row v-if=\"pestaña === 'bodegas'\">\r\n                    <b-col cols=\"12\" md=\"6\">\r\n                        <b-button @click=\"ActCrear()\" class=\"btn-success btn boton mt-5\">Rellenar Bodega</b-button>\r\n                    </b-col>\r\n                    <b-col cols=\"12\" md=\"6\" v-if=\"agregar === 'no'\">\r\n                        <b-button @click=\"ActAgregar()\" variant=\"primary\" class=\"btn boton mt-5\">Agregar Bodega</b-button>\r\n                    </b-col>\r\n                    <b-col cols=\"12\" md=\"6\" v-if=\"agregar === 'si'\">\r\n                        <b-button @click=\"NoAgregar()\" class=\"btn boton mt-5\">No Agregar</b-button>\r\n                    </b-col>\r\n                </b-row>\r\n                <b-row class=\"m-4\" v-if=\"agregar === 'si'\">\r\n                    <b-col cols=\"12\" md=\"6\">\r\n                        <label for=\"exampleInputEmail1\" class=\"form-label\">Nueva Bodega</label>\r\n                        <input type=\"text\" class=\"form-control\" aria-describedby=\"emailHelp\" v-model=\"$v.nuevaBodega.$model\">\r\n                        <p class=\"text-danger\" v-if=\"$v.nuevaBodega.$error\">Debe Ingresar el nombre de la Bodega</p>\r\n                    </b-col>\r\n                    <b-col cols=\"12\" md=\"6\">\r\n                        <b-button @click=\"agregaBodega()\" variant=\"primary\" class=\"btn boton mt-5\">Agregar Bodega</b-button>\r\n                    </b-col>\r\n                </b-row>\r\n                <table class=\"table table-striped table-dark table-responsive-lg table-responsive-md\" id=\"bodegas\" v-if=\"pestaña === 'bodegas'\">\r\n                  <thead>\r\n                    <tr>\r\n                      <th scope=\"col\">Nombre de la Bodega</th>\r\n                      <th scope=\"col\">Enviar a Dirección</th>\r\n                      <th scope=\"col\">Ordenes de Compra</th>\r\n                    </tr>\r\n                  </thead>\r\n                  <tbody>\r\n                    <tr v-for=\"i in bodegas\" :key=\"i.nomBodega\">\r\n                      <td scope=\"row\">{{i.nomBodega}}</td>\r\n                      <td><b-button @click=\"ActProductos(i.nomBodega)\" class=\"btn-warning btn-sm\" style=\"border-color: white;\">Enviar</b-button></td>\r\n                      <td><b-button @click=\"ActOrdenes(i.nomBodega)\" class=\"btn-success btn-sm\" style=\"border-color: white;\">Ordenes</b-button></td>\r\n                    </tr>\r\n                  </tbody>\r\n                </table>\r\n                <b-button @click=\"Volver()\" class=\"btn boton mt-5\" v-if=\"pestaña === 'crear'\">Volver al Listado de Bodegas</b-button>\r\n                <div class=\" card mt-4\" v-if=\"pestaña === 'crear'\">\r\n                    <div class=\"card-header\">\r\n                        <h2>Determine que productos serán enviados a la Bodega</h2>\r\n                    </div>\r\n                    <div class=\"card-body\">\r\n                        <b-row class=\"mt-2\">\r\n                            <b-col cols=\"12\" md=\"3\">\r\n                                <label for=\"exampleInputEmail1\" class=\"form-label\">Bodega</label>\r\n                                <select @change=\"cambiaBodega()\" class=\"form-control\" v-model=\"bodegaCrear\">\r\n                                    <option v-for=\"i in bodegas\" :key=\"i.nomBodega\" :value=\"i.nomBodega\">{{i.nomBodega}}</option>\r\n                                </select>\r\n                            </b-col>\r\n                            <b-col cols=\"12\" md=\"2\">\r\n                                <label for=\"exampleInputEmail1\" class=\"form-label\">Proveedor</label>\r\n                                <input type=\"text\" class=\"form-control\" aria-describedby=\"emailHelp\" v-model=\"$v.proveedor.$model\">\r\n                                <p class=\"text-danger\" v-if=\"$v.proveedor.$error\">Debe Ingresar el proveedor</p>\r\n                            </b-col>\r\n                            <b-col cols=\"12\" md=\"3\">\r\n                                <label for=\"exampleInputEmail1\" class=\"form-label\">Numero de Orden</label>\r\n                                <input type=\"text\" class=\"form-control\" aria-describedby=\"emailHelp\" v-model=\"$v.nuevaOrden.$model\">\r\n                                <p class=\"text-danger\" v-if=\"$v.nuevaOrden.$error\">Debe Ingresar el numero de la Orden</p>\r\n                            </b-col>\r\n                            <b-col cols=\"12\" md=\"2\">\r\n                                <b-button @click=\"agregaProducto()\" variant=\"primary\" class=\"btn-primary btn boton\">Agregar Producto</b-button>\r\n                            </b-col>\r\n                            <b-col cols=\"12\" md=\"2\">\r\n                                <b-button @click=\"quitarProducto()\" class=\"btn-danger btn boton\">Quitar Producto</b-button>\r\n                            </b-col>\r\n                        </b-row>\r\n                        <b-row class=\"mt-2\" v-for=\"i in productos\" :key=\"i.key\">\r\n                            <b-col cols=\"12\" md=\"4\">\r\n                                <label for=\"exampleInputEmail1\" class=\"form-label\">Producto</label>\r\n                                <select class=\"form-control\" @click=\"anterior(i.nomProducto)\" @change=\"cambioProducto(i.nomProducto, i.key)\" v-model=\"i.nomProducto\">\r\n                                    <option v-for=\"i in prods\" :key=\"i.nomProducto\" :value=\"i.nomProducto\">{{i.nomProducto}}</option>\r\n                                </select>\r\n                            </b-col>\r\n                            <b-col cols=\"12\" md=\"2\">\r\n                                <label for=\"exampleInputEmail1\" class=\"form-label\">Cantidad ha agregar</label>\r\n                                <input type=\"number\" @change=\"cantMin(i.key)\" min=\"1\" class=\"form-control\" aria-describedby=\"emailHelp\" v-model=\"i.cantidad\">\r\n                            </b-col>\r\n                            <b-col cols=\"12\" md=\"2\">\r\n                                <label for=\"exampleInputEmail1\" class=\"form-label\">Stock en Bodega</label>\r\n                                <input disabled type=\"number\" class=\"form-control\" aria-describedby=\"emailHelp\" v-model=\"i.stock\">\r\n                            </b-col>\r\n                            <b-col cols=\"12\" md=\"2\">\r\n                                <label for=\"exampleInputEmail1\" class=\"form-label\">Stock Critico</label>\r\n                                <input disabled type=\"number\" class=\"form-control\" aria-describedby=\"emailHelp\" v-model=\"i.stockCritico\">\r\n                            </b-col>\r\n                            <b-col cols=\"12\" md=\"2\">\r\n                                <b-button @click=\"detalles(i.codigoBarra)\" v-b-modal.modal-1 class=\"btn-success boton\">Detalles Producto</b-button>\r\n                            </b-col>\r\n                        </b-row>\r\n                        <b-row>\r\n                            <b-col cols=\"12\" md=\"6\">\r\n                                <b-button @click=\"generarInforme()\" class=\"btn-success btn boton mt-5\">Generar Orden de Compra</b-button>\r\n                            </b-col> \r\n                            <b-col cols=\"12\" md=\"6\">\r\n                                <b-button @click=\"generar()\" class=\"btn-success btn boton mt-5\">Compra en Caja Menor</b-button>\r\n                            </b-col> \r\n                        </b-row>\r\n                    </div>\r\n                </div>\r\n                <b-modal id=\"modal-1\" title=\"Detalles del Producto\">\r\n                <div class=\"card-body\">\r\n                    <b-row class=\"mt-2\">\r\n                        <b-col cols=\"12\" md=\"4\">\r\n                            <label for=\"exampleInputEmail1\" class=\"form-label\">Codigo de Barras</label>\r\n                            <input disabled type=\"text\" class=\"form-control\" aria-describedby=\"emailHelp\" v-model=\"codigo\">\r\n                        </b-col>\r\n                        <b-col cols=\"12\" md=\"4\">\r\n                            <label for=\"exampleInputEmail1\" class=\"form-label\">Nombre</label>\r\n                            <input disabled type=\"text\" class=\"form-control\" aria-describedby=\"emailHelp\" v-model=\"producto\">\r\n                        </b-col>\r\n                        <b-col cols=\"12\" md=\"4\">\r\n                            <label for=\"exampleInputEmail1\" class=\"form-label\">Marca</label>\r\n                            <input disabled type=\"text\" class=\"form-control\" aria-describedby=\"emailHelp\" v-model=\"marca\">\r\n                        </b-col>\r\n                    </b-row>\r\n                    <b-row class=\"mt-4\">\r\n                        <b-col cols=\"12\" md=\"12\">\r\n                            <label for=\"exampleInputEmail1\" class=\"form-label\">Descripcion</label>\r\n                            <textarea disabled type=\"text\" class=\"form-control\" id=\"exampleInputEmail1\" aria-describedby=\"emailHelp\" v-model=\"descripcion\"></textarea>\r\n                        </b-col>\r\n                    </b-row>\r\n                    </div>\r\n                </b-modal>\r\n\r\n                <b-row v-if=\"pestaña === 'ordenes'\">\r\n                    <b-col cols=\"12\" md=\"12\">\r\n                        <b-button @click=\"Volver()\" class=\"btn btn boton mt-5\">Volver al Listado de Bodegas</b-button>\r\n                    </b-col>\r\n                </b-row>\r\n                <table class=\"table table-striped table-dark table-responsive-lg table-responsive-md\" id=\"ordenes\" v-if=\"pestaña === 'ordenes'\">\r\n                  <thead>\r\n                    <tr>\r\n                      <th scope=\"col\">Codigo de Orden</th>\r\n                      <th scope=\"col\">Bodega</th>\r\n                      <th scope=\"col\">Proveedor</th>\r\n                      <th scope=\"col\">Fecha</th>\r\n                      <th scope=\"col\">Ver al Detalle</th>\r\n                    </tr>\r\n                  </thead>\r\n                  <tbody>\r\n                    <tr v-for=\"i in ordenes\" :key=\"i.codOrden\">\r\n                      <td scope=\"row\">{{i.codOrden}}</td>\r\n                      <td>{{i.nomBodega}}</td>\r\n                      <td>{{i.proveedor}}</td>\r\n                      <td>{{i.fecha}}</td>\r\n                      <td><b-button @click=\"ActDOrdenes(i.codOrden)\" class=\"btn-success btn-sm\" style=\"border-color: white;\">Detalles</b-button></td>\r\n                    </tr>\r\n                  </tbody>\r\n                </table>\r\n\r\n                <b-row v-if=\"pestaña === 'detalleOrden'\">\r\n                    <b-col cols=\"12\" md=\"12\">\r\n                        <b-button @click=\"VolverORD()\" class=\"btn btn boton mt-5\">Volver al Historial</b-button>\r\n                    </b-col>\r\n                </b-row>\r\n                <table class=\"table table-striped table-dark table-responsive-lg table-responsive-md\" id=\"detalleOrden\" v-if=\"pestaña === 'detalleOrden'\">\r\n                  <thead>\r\n                    <tr>\r\n                      <th scope=\"col\">ID</th>\r\n                      <th scope=\"col\">Codigo Barra</th>\r\n                      <th scope=\"col\">Producto</th>\r\n                      <th scope=\"col\">Cantidad</th>\r\n                    </tr>\r\n                  </thead>\r\n                  <tbody>\r\n                    <tr v-for=\"i in detalleOrden\" :key=\"i.corrOrdenProducto\">\r\n                      <td scope=\"row\">{{i.corrOrdenProducto}}</td>\r\n                      <td>{{i.codigoBarra}}</td>\r\n                      <td>{{i.nomProducto}}</td>\r\n                      <td>{{i.cantidad}}</td>\r\n                    </tr>\r\n                  </tbody>\r\n                </table>\r\n\r\n                <b-row v-if=\"pestaña === 'enviar'\">\r\n                    <b-col cols=\"12\" md=\"12\">\r\n                        <b-button @click=\"Volver()\" class=\"btn btn boton mt-5\">Volver al Listado de Bodegas</b-button>\r\n                    </b-col>\r\n                </b-row>\r\n                <table class=\"table table-striped table-dark table-responsive-lg table-responsive-md\" id=\"enviar\" v-if=\"pestaña === 'enviar'\">\r\n                  <thead>\r\n                    <tr>\r\n                      <th scope=\"col\">Codigo Barra</th>\r\n                      <th scope=\"col\">Nombre Producto</th>\r\n                      <th scope=\"col\">Stock Regional</th>\r\n                      <th scope=\"col\">Stock Bodega</th>\r\n                      <th scope=\"col\">Cantidad</th>\r\n                      <th scope=\"col\">Stock Critico</th>\r\n                      <th scope=\"col\">Enviar a Dirección</th>\r\n                    </tr>\r\n                  </thead>\r\n                  <tbody>\r\n                    <tr v-for=\"i in enviar\" :key=\"i.codigoBarra\">\r\n                      <td scope=\"row\">{{i.codigoBarra}}</td>\r\n                      <td>{{i.nomProducto}}</td>\r\n                      <td>{{i.stock}}</td>\r\n                      <td>{{i.stockBodega}}</td>\r\n                      <td><input type=\"number\" @change=\"cantMinBodega(i.codigoBarra)\" min=\"1\" class=\"form-control\" aria-describedby=\"emailHelp\" v-model=\"i.cantidad\"></td>\r\n                      <td>{{i.stockCritico}}</td>\r\n                      <td><b-button @click=\"EnviarDireccion(i.codigoBarra, i.cantidad)\" class=\"btn-success btn-sm\" style=\"border-color: white;\">Enviar</b-button></td>\r\n                    </tr>\r\n                  </tbody>\r\n                </table>\r\n            </div>\r\n        </b-container>\r\n    </div>\r\n</template>\r\n\r\n<script>\r\nimport navbar from \"../components/navbar.vue\";\r\nimport { required, minLength} from \"vuelidate/lib/validators\";\r\n\r\nimport 'jquery/dist/jquery.min.js';\r\nimport 'bootstrap/dist/css/bootstrap.min.css';\r\nimport \"datatables.net-dt/js/dataTables.dataTables\"\r\nimport \"datatables.net-dt/css/jquery.dataTables.min.css\"\r\nimport $ from 'jquery'; \r\nexport default {\r\n    name: \"about\",\r\n    components: {\r\n        navbar,\r\n    },\r\n    data() {\r\n      return {\r\n        //Datos para agregar un nuevo memo (historial) con v-model\r\n        pestaña: 'bodegas',\r\n        agregar: 'no',\r\n        bodegas: [],\r\n        ordenes: [],\r\n        detalleOrden: [],\r\n        enviar: [],\r\n        //Variables del AGREGAR\r\n        nuevaBodega: '',\r\n        //Variable para reconocer una bodega\r\n        nomBodega: '',\r\n        //Datos para agregar una nueva Orden de Compra con v-model\r\n        bodegaCrear: '',\r\n        proveedor: '',\r\n        nuevaOrden: '',\r\n        cantidadProductos: 1,\r\n        productos: [{key: 1, nomProducto: '', cantidad: 0, stock: 0, stockCritico: 0, codigoBarra: ''}],\r\n        prods: [],\r\n        productoAnt: '',\r\n        //VARIABLES DE DETALLES\r\n        codigo: '',\r\n        producto: '',\r\n        marca: '',\r\n        descripcion: '',\r\n        //Variables de las alertas\r\n        dismissSecs: 5,\r\n        dismissCountDown: 0,\r\n        mensaje: {color: '', texto: ''},\r\n      }\r\n    },\r\n    validations:{\r\n        //Validaciones de los input\r\n        nuevaBodega:{required},\r\n        proveedor:{required},\r\n        nuevaOrden:{required},\r\n    },\r\n    created(){\r\n        this.cargarBodegas();\r\n    },\r\n    methods:{\r\n        //METODOS PARA GENERAR LAS ORDENES DE COMPRA\r\n        //Metodo que Carga todos los productos del sistema\r\n        cargarProductos(primera){\r\n            this.axios.get(`api/obtenerProductosBodega/${this.bodegaCrear}`)\r\n            .then(res => {\r\n                this.prods = res.data;\r\n                if(primera){\r\n                    this.productos[0].nomProducto = this.prods[0].nomProducto\r\n                    this.productos[0].stock = this.prods[0].stockBodega\r\n                    this.productos[0].stockCritico = this.prods[0].stockCritico\r\n                    this.productos[0].codigoBarra = this.prods[0].codigoBarra\r\n                }\r\n            })\r\n            .catch(e => {\r\n                this.alerta('danger', 'No se han podido cargar los Productos');\r\n            })\r\n        },\r\n        //Función que carga los productos de una bodega para trasferir productos a Dirección Regional\r\n        cargarProductosBodega(){\r\n            this.axios.get(`api/obtenerProductosBodega/${this.nomBodega}`)\r\n            .then(res => {\r\n                for(var i = 0; i<res.data.length; i++){\r\n                    this.enviar.push({codigoBarra: res.data[i].codigoBarra, nomProducto: res.data[i].nomProducto, stock: res.data[i].stock, stockBodega: res.data[i].stockBodega, cantidad: 1, stockCritico: res.data[i].stockCritico})\r\n                }\r\n            })\r\n            .catch(e => {\r\n                this.alerta('danger', 'No se han podido cargar los Productos');\r\n            })\r\n        },\r\n        //Función que permite re-cargar los productos al momento de cambiar la bodega en la vista de rellenar Bodega\r\n        cambiaBodega(){\r\n            for(var i = 0; i<this.productos.length-1; i++){\r\n                this.productos.splice(-1)\r\n            }\r\n            this.cargarProductos(true)\r\n        },\r\n        //Función que te permite guardar el valor anterior del select\r\n        anterior(nomProducto){\r\n            this.productoAnt = nomProducto\r\n        },\r\n        //Si se cambia un producto se debe buscar su stock\r\n        cambioProducto(nomProducto, key){\r\n            const indexActual = this.productos.findIndex(item => item.key == key);\r\n            var repetido = false;\r\n            for(var i = 0; i<this.productos.length; i++){\r\n                if(i != indexActual){\r\n                    if(this.productos[i].nomProducto === this.productos[indexActual].nomProducto){\r\n                        repetido = true;\r\n                    }\r\n                }\r\n            }\r\n            if(!repetido){\r\n                const index = this.prods.findIndex(item => item.nomProducto == nomProducto);\r\n                const index2 = this.productos.findIndex(item => item.key == key);\r\n                this.productos[index2].stock = this.prods[index].stockBodega\r\n                this.productos[index2].stockCritico = this.prods[index].stockCritico\r\n                this.productos[index2].codigoBarra = this.prods[index].codigoBarra\r\n                if(this.productos[index2].cantidad > this.productos[index2].stock){\r\n                    this.productos[index2].cantidad = this.productos[index2].stock;\r\n                }\r\n                if(this.productos[index2].stock + this.productos[index2].cantidad < this.productos[index2].stockCritico){\r\n                    this.alerta('danger', 'El stock que existe actualmente en bodega del producto \"' + this.productos[index2].nomProducto + '\" es inferior al stock crítico')\r\n                }\r\n            }else{\r\n                this.productos[indexActual].nomProducto = this.productoAnt  \r\n            }\r\n        },\r\n        //Se agrega un nuevo posible producto\r\n        //ADEMAS debe revisar si los valores anteriores estan repetidos\r\n        agregaProducto(){\r\n            this.cantidadProductos++\r\n            var a = 0;\r\n            this.productos.push({key: this.cantidadProductos, nomProducto: '', cantidad: 0, stock: 0});\r\n            while(a < this.prods.length){\r\n                const index = this.productos.findIndex(item => item.nomProducto == this.prods[a].nomProducto);\r\n                if(index != -1){\r\n                    a++;\r\n                }else{\r\n                    this.productos[this.productos.length-1].nomProducto = this.prods[a].nomProducto\r\n                    this.productos[this.productos.length-1].stock = this.prods[a].stockBodega\r\n                    this.productos[this.productos.length-1].stockCritico = this.prods[a].stockCritico\r\n                    this.productos[this.productos.length-1].codigoBarra = this.prods[a].codigoBarra\r\n                    this.productos[this.productos.length-1].key = this.cantidadProductos\r\n                    break;\r\n                }\r\n                if(a == this.prods.length){\r\n                    this.cantidadProductos--;\r\n                    this.productos.splice(-1);\r\n                    this.alerta('danger','No existen mas productos para agregar')\r\n                    break;\r\n                }\r\n            } \r\n            if(this.productos[this.productos.length-1].stock < this.productos[this.productos.length-1].stockCritico && a != this.prods.length){\r\n                this.alerta('danger', 'El stock que existe actualmente en bodega del producto \"' + this.productos[this.productos.length-1].nomProducto + '\" es inferior al stock crítico')\r\n            }\r\n        },\r\n        //Se quita un Producto de los que serán agregados al sistema\r\n        quitarProducto(){\r\n            if(this.productos.length > 1){\r\n                this.cantidadProductos--;\r\n                this.productos.splice(-1);\r\n            }else{\r\n                this.alerta('danger', 'Tiene que existir al menos 1 producto');\r\n            }\r\n        },\r\n        //Indicamos el minimo de cantidad para que no este vacio o sea menor a 0\r\n        cantMin(producto){\r\n            const index = this.productos.findIndex(item => item.key == producto);\r\n            if(this.productos[index].cantidad < 0){\r\n                this.productos[index].cantidad = 0;\r\n            }\r\n            if(this.productos[index].stock + parseInt(this.productos[index].cantidad) < this.productos[index].stockCritico){\r\n                this.alerta('danger', 'El stock que existe actualmente en bodega del producto \"' + this.productos[index].nomProducto + '\" es inferior al stock crítico ingrese mas cantidad para cumplir con el stock Crítico')\r\n            }\r\n        },\r\n        //Indicamos el minimo de cantidad para que no este vacio o sea menor a 0\r\n        cantMinBodega(producto){\r\n            const index = this.enviar.findIndex(item => item.codigoBarra == producto);\r\n            if(this.enviar[index].cantidad < 0){\r\n                this.enviar[index].cantidad = 0;\r\n            }\r\n            if(this.enviar[index].stockBodega - parseInt(this.enviar[index].cantidad) < this.enviar[index].stockCritico){\r\n                this.alerta('danger', 'El stock que existe actualmente en bodega del producto \"' + this.enviar[index].nomProducto + '\" es inferior al stock crítico ingrese mas cantidad para cumplir con el stock Crítico')\r\n            }\r\n        },\r\n        //Permite ver los detalles de un producto y los carga\r\n        detalles(id){\r\n            this.axios.get(`api/obtenerProducto/${id}`)\r\n                .then(res => {\r\n                    this.codigo = res.data[0].codigoBarra;\r\n                    this.producto = res.data[0].nomProducto;\r\n                    this.marca = res.data[0].marca;\r\n                    this.descripcion = res.data[0].descripcion\r\n                })\r\n                .catch(e => {\r\n                    Swal.fire({\r\n                    icon: 'error',\r\n                    title: 'Oops...',\r\n                    text: 'No se ha logrado encontrar los datos del equipo',\r\n                    footer: 'Posible error del sistema'\r\n                    })\r\n                })\r\n        },\r\n        convertDateMysql(yourDate){\r\n            yourDate.toISOString().split('T')[0]\r\n            const offset = yourDate.getTimezoneOffset()\r\n            yourDate = new Date(yourDate.getTime() - (offset*60*1000))\r\n            return yourDate.toISOString().split('T')[0]\r\n\t\t},\r\n        //Función que permite generar un informe y enviar los datos de un nuevo HISTORIAL \r\n        generarInforme(){\r\n            var dt = this.convertDateMysql(new Date())\r\n            var sumaStockBodega = 0;\r\n            var suma = 0;\r\n            for(var i = 0; i < this.productos.length; i++){\r\n                sumaStockBodega = sumaStockBodega + this.productos[i].stock\r\n                suma = suma + this.productos[i].cantidad\r\n            }\r\n            this.$v.$touch()\r\n            if(!this.$v.nuevaOrden.$invalid && !this.$v.proveedor.$invalid){\r\n                swal.fire({\r\n                title: '¿Seguro que desea realizar la orden de compra a la bodega ' + this.bodegaCrear + '?',\r\n                type: 'warning',\r\n                showCancelButton: true,\r\n                confirmButtonColor: '#3085d6',\r\n                cancelButtonColor: '#d33',\r\n                cancelButtonText: 'Cancelar',\r\n                confirmButtonText: '¡Si!'\r\n                }).then((result) => {\r\n                    if (result.value) {\r\n                        if(sumaStockBodega > 0 && suma > 0){\r\n                            this.axios.post('api/agregaOrdenEntrega', {codOrden: this.nuevaOrden, proveedor: this.proveedor, fecha: dt, nomBodega: this.bodegaCrear})\r\n                            .then(res => {\r\n                            if(!res.data.sqlMessage){\r\n                                this.ORDENProducto();\r\n                                this.sumaStock();\r\n                            }else{\r\n                                Swal.fire({\r\n                                icon: 'error',\r\n                                title: 'Oops...',\r\n                                text: 'No se ha logrado crear ',\r\n                                footer: 'Algún dato ha sido incorrecto verifiquelos'\r\n                                })\r\n                            }\r\n                            })\r\n                            .catch(e => {\r\n                            Swal.fire({\r\n                                icon: 'error',\r\n                                title: 'Oops...',\r\n                                text: 'No se ha logrado registrar la orden de compra',\r\n                                footer: 'Posible error del sistema'\r\n                            })\r\n                            }) \r\n                        }else if(sumaStockBodega > 0){\r\n                            this.alerta('danger', 'No se encuentra stock disponible en bodega')\r\n                        }else{\r\n                            this.alerta('danger', 'No se ha ingresado ninguna cantidad')\r\n                        }\r\n                    }\r\n                })\r\n            }else{\r\n                this.alerta('danger', 'Porfavor ingrese todos los campos requeridos')\r\n            }\r\n        },\r\n        //Registra los productos de la ORDEN DE COMPRA\r\n        ORDENProducto(){\r\n            for(var i = 0; i<this.productos.length; i++){\r\n                if(this.productos[i].cantidad > 0){\r\n                    this.axios.post('api/agregaOrdenProducto', {cantidad: this.productos[i].cantidad, codOrden: this.nuevaOrden, codigoBarra: this.productos[i].codigoBarra})\r\n                        .then(res => {\r\n                        if(!res.data.sqlMessage){\r\n                            Swal.fire(\r\n                            'Se ha registrado la orden de compra satisfactoriamente',\r\n                            'Seleccione Ok para continuar',\r\n                            'success'\r\n                            )\r\n                        }else{\r\n                            Swal.fire({\r\n                                icon: 'error',\r\n                                title: 'Oops...',\r\n                                text: 'No se ha logrado crear ',\r\n                                footer: 'Algún dato ha sido incorrecto verifiquelos'\r\n                            })\r\n                        }\r\n                        })\r\n                        .catch(e => {\r\n                            Swal.fire({\r\n                                icon: 'error',\r\n                                title: 'Oops...',\r\n                                text: 'No se ha logrado registrar la orden de compra',\r\n                                footer: 'Posible error del sistema'\r\n                            })\r\n                        })\r\n                }\r\n            }\r\n        },\r\n\r\n        //Suma los stock de BODEGA de cada producto\r\n        sumaStock(){\r\n            for(var i = 0; i<this.productos.length; i++){\r\n                if(this.productos[i].cantidad > 0){\r\n                    this.axios.put(`api/actualizaStockBodegamas/${this.productos[i].codigoBarra}`, {cantidad: this.productos[i].cantidad, nomBodega: this.bodegaCrear})\r\n                        .then(res => {\r\n                            this.actualizarStock();\r\n                        })\r\n                        .catch(e => {\r\n                            var mensaje = 'Posible error del sistema';\r\n                            Swal.fire({\r\n                            icon: 'error',\r\n                            title: 'Oops...',\r\n                            text: 'No se ha logrado registrar la entrega de insumos',\r\n                            footer: mensaje\r\n                            })\r\n                        })\r\n                }\r\n            }\r\n        },\r\n        //Actualiza la pagina tras generar una entrega de insumos\r\n        actualizarStock(){\r\n            for(var i = 0; i<this.productos.length-1; i++){\r\n                this.cantidadProductos--;\r\n                this.productos.splice(-1);\r\n            }\r\n            this.cargarProductos(true);\r\n        },\r\n        //Función para cargar las bodegas del sistema\r\n        cargarBodegas(){\r\n            this.axios.get('api/obtenerbodegas')\r\n            .then(res => {\r\n                this.bodegas = res.data;\r\n                this.bodegaCrear = res.data[0].nomBodega\r\n            })\r\n            .catch(e => {\r\n                this.alerta('danger', 'No se han podido cargar las bodegas');\r\n            })\r\n        },\r\n        //Función para regresar a la vista principal\r\n        Volver(){\r\n            this.pestaña = 'bodegas'\r\n            $('#ordenes').DataTable().destroy()\r\n            $('#enviar').DataTable().destroy()\r\n            this.enviar = []\r\n            $('#bodegas').DataTable()\r\n            this.cargarBodegas();\r\n        },\r\n        VolverORD(){\r\n            $('#detalleOrden').DataTable().destroy();\r\n            this.pestaña = 'ordenes'\r\n            this.cargarOrdenes();\r\n            $('#ordenes').DataTable()\r\n        },\r\n        //Funciones para cambiar las vistas\r\n        ActAgregar(){\r\n            this.agregar = 'si'\r\n        },\r\n        NoAgregar(){\r\n            this.agregar = 'no'\r\n        },\r\n        \r\n        ActOrdenes(nomBodega){\r\n            this.nomBodega = nomBodega\r\n            this.pestaña = 'ordenes'\r\n            $('#bodegas').DataTable().destroy();\r\n            $('#ordenes').DataTable()\r\n            this.cargarOrdenes();\r\n        },\r\n        ActDOrdenes(codOrden){\r\n            this.histo = codOrden;\r\n            this.pestaña = 'detalleOrden';\r\n            $('#ordenes').DataTable().destroy();\r\n            $('#detalleOrden').DataTable()\r\n            this.cargarDetalleOrden();\r\n        },\r\n        ActCrear(){\r\n            this.pestaña = 'crear'\r\n            this.agregar = 'no'\r\n            $('#bodegas').DataTable().destroy();\r\n            this.cargarProductos(true);\r\n        },\r\n        ActProductos(nomBodega){\r\n            this.nomBodega = nomBodega\r\n            this.pestaña = 'enviar'\r\n            $('#bodegas').DataTable().destroy();\r\n            $('#enviar').DataTable()\r\n            this.cargarProductosBodega();\r\n        },\r\n        //Funciones de AGREGAR\r\n        agregaBodega(){\r\n            this.$v.$touch()\r\n            if(!this.$v.nuevaBodega.$invalid){\r\n                this.axios.post('api/agregaBodega', {nomBodega: this.nuevaBodega})\r\n                    .then(res => {\r\n                        if(!res.data.sqlMessage){\r\n                            this.bodegas.push({nomBodega: this.nuevaBodega})\r\n                            Swal.fire(\r\n                            'Se ha registrado la bodega satisfactoriamente',\r\n                            'Seleccione Ok para continuar',\r\n                            'success'\r\n                            )\r\n                        }else{\r\n                            Swal.fire({\r\n                                icon: 'error',\r\n                                title: 'Oops...',\r\n                                text: 'No se ha logrado crear la nueva bodega \"' + this.nuevaBodega + '\" .',\r\n                                footer: 'El nombre de la bodega ya existe en el sistema'\r\n                            })\r\n                        }\r\n                        })\r\n                        .catch(e => {\r\n                            Swal.fire({\r\n                                icon: 'error',\r\n                                title: 'Oops...',\r\n                                text: 'No se ha logrado registrar la nueva bodega',\r\n                                footer: 'Posible error del sistema'\r\n                            })\r\n                        })\r\n            }else{\r\n                this.alerta('danger', 'Porfavor ingrese un nombre para la nueva bodega')\r\n            }\r\n        },\r\n        //TABLA DE ORDENES QUE POSEE UNA BODEGA\r\n        cargarOrdenes(){\r\n            this.axios.get(`api/obtenerOrdenesBodega/${this.nomBodega}`)\r\n            .then(res => {\r\n                this.ordenes = res.data;\r\n            })\r\n            .catch(e => {\r\n                this.alerta('danger', 'No se ha logrado cargar la orden');\r\n            })\r\n        },\r\n        //Cargar los detalles de una orden\r\n        cargarDetalleOrden(){\r\n            this.axios.get(`api/obtenerOrden/${this.histo}`)\r\n            .then(res => {\r\n                this.detalleOrden = res.data;\r\n            })\r\n            .catch(e => {\r\n                this.alerta('danger', 'No se ha logrado cargar el detalle de una orden');\r\n            })\r\n        },\r\n        //Función que envia un stock desde bodega a Dirección Regional\r\n        EnviarDireccion(codigoBarra, cantidad){\r\n            swal.fire({\r\n                title: '¿Seguro que desea enviar el stock de la bodega con una cantidad de \"' + cantidad + '\" a dirección regional para el producto de codigo: \"' + codigoBarra + '\"?',\r\n                type: 'warning',\r\n                showCancelButton: true,\r\n                confirmButtonColor: '#3085d6',\r\n                cancelButtonColor: '#d33',\r\n                cancelButtonText: 'Cancelar',\r\n                confirmButtonText: '¡Si!'\r\n            }).then((result) => {\r\n                if (result.value) {\r\n                    this.axios.put(`api/actualizaStockBodega/${codigoBarra}`, {cantidad: cantidad, nomBodega: this.nomBodega})\r\n                            .then(res => {\r\n                                this.recibirDireccion(codigoBarra, cantidad);\r\n                            })\r\n                            .catch(e => {\r\n                                var mensaje = 'Posible error del sistema';\r\n                                Swal.fire({\r\n                                icon: 'error',\r\n                                title: 'Oops...',\r\n                                text: 'No se ha logrado traspasar los stocks',\r\n                                footer: mensaje\r\n                                })\r\n                            })\r\n                }\r\n            })\r\n        },\r\n        //Función que permite actualizar el stock de un producto en la dirección Regional\r\n        recibirDireccion(codigoBarra, cantidad){\r\n            this.axios.put(`api/actualizaStockmas/${codigoBarra}`, {cantidad: cantidad})\r\n                    .then(res => {\r\n                        Swal.fire(\r\n                            'Se ha realizado un traspaso de stock a Dirección Regional',\r\n                            'Seleccione Ok para continuar',\r\n                            'success'\r\n                        )\r\n                        this.actualizarStocksProductoBodega(codigoBarra, cantidad)\r\n                    })\r\n                    .catch(e => {\r\n                        var mensaje = 'Posible error del sistema';\r\n                        Swal.fire({\r\n                        icon: 'error',\r\n                        title: 'Oops...',\r\n                        text: 'No se ha logrado recibir el stock en dirección regional',\r\n                        footer: mensaje\r\n                        })\r\n                    })\r\n        },\r\n        //Función que actualiza los stock en la vista de la página\r\n        actualizarStocksProductoBodega(codigoBarra, cantidad){\r\n            const index = this.enviar.findIndex(item => item.codigoBarra == codigoBarra);\r\n            this.enviar[index].stockBodega = this.enviar[index].stockBodega - cantidad\r\n            this.enviar[index].stock = this.enviar[index].stock + cantidad\r\n        },\r\n        //Funciones de las alertas\r\n        countDownChanged(dismissCountDown) {\r\n            this.dismissCountDown = dismissCountDown\r\n        },\r\n        showAlert() {\r\n            this.dismissCountDown = this.dismissSecs\r\n        },\r\n        alerta(color, texto){\r\n            this.mensaje.color = color;\r\n            this.mensaje.texto = texto;\r\n            this.showAlert();\r\n        },\r\n    },\r\n    async mounted(){\r\n      await $('#bodegas').DataTable()\r\n      await $('#ordenes').DataTable()\r\n      await $('#detalleOrden').DataTable()\r\n      await $('#enviar').DataTable()\r\n    },\r\n    watch: {\r\n      bodegas(val) {\r\n        if(this.pestaña === 'bodegas'){\r\n          $('#bodegas').DataTable().destroy();\r\n          this.$nextTick(()=> {\r\n            $('#bodegas').DataTable()\r\n          });\r\n        }\r\n      },\r\n      ordenes(val) {\r\n        if(this.pestaña === 'ordenes'){\r\n          $('#ordenes').DataTable().destroy();\r\n          this.$nextTick(()=> {\r\n            $('#ordenes').DataTable()\r\n          });\r\n        }\r\n      },\r\n      detalleOrden(val) {\r\n        if(this.pestaña === 'detalleOrden'){\r\n          $('#detalleOrden').DataTable().destroy();\r\n          this.$nextTick(()=> {\r\n            $('#detalleOrden').DataTable()\r\n          });\r\n        }\r\n      },\r\n      enviar(val) {\r\n        if(this.pestaña === 'enviar'){\r\n          $('#enviar').DataTable().destroy();\r\n          this.$nextTick(()=> {\r\n            $('#enviar').DataTable()\r\n          });\r\n        }\r\n      }\r\n    }\r\n}\r\n</script>\r\n\r\n<style>\r\n    body{\r\n        background-color: #eee;\r\n    }\r\n\r\n    .texto{\r\n        text-align: center;\r\n    }\r\n\r\n    .imagen{\r\n        width: 50%;\r\n    }\r\n    .boton{\r\n        margin: 20px;\r\n        width: 90%;\r\n        border-radius: 12px !important;\r\n        border-color: black !important;\r\n    }\r\n</style>"]}]}