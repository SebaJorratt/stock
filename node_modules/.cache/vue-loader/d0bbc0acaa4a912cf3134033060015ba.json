{"remainingRequest":"D:\\inventarioInformatico\\stock\\stock\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!D:\\inventarioInformatico\\stock\\stock\\src\\views\\productos.vue?vue&type=script&lang=js&","dependencies":[{"path":"D:\\inventarioInformatico\\stock\\stock\\src\\views\\productos.vue","mtime":1648230331833},{"path":"D:\\inventarioInformatico\\stock\\stock\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1647002043141},{"path":"D:\\inventarioInformatico\\stock\\stock\\node_modules\\babel-loader\\lib\\index.js","mtime":1645539058368},{"path":"D:\\inventarioInformatico\\stock\\stock\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1647002043141},{"path":"D:\\inventarioInformatico\\stock\\stock\\node_modules\\vue-loader\\lib\\index.js","mtime":1645539059241}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KDQppbXBvcnQgbmF2YmFyIGZyb20gIi4uL2NvbXBvbmVudHMvbmF2YmFyLnZ1ZSI7DQppbXBvcnQgeyByZXF1aXJlZCwgbWluTGVuZ3RofSBmcm9tICJ2dWVsaWRhdGUvbGliL3ZhbGlkYXRvcnMiOw0KDQppbXBvcnQgJ2pxdWVyeS9kaXN0L2pxdWVyeS5taW4uanMnOw0KaW1wb3J0ICdib290c3RyYXAvZGlzdC9jc3MvYm9vdHN0cmFwLm1pbi5jc3MnOw0KaW1wb3J0ICJkYXRhdGFibGVzLm5ldC1kdC9qcy9kYXRhVGFibGVzLmRhdGFUYWJsZXMiDQppbXBvcnQgImRhdGF0YWJsZXMubmV0LWR0L2Nzcy9qcXVlcnkuZGF0YVRhYmxlcy5taW4uY3NzIg0KaW1wb3J0ICQgZnJvbSAnanF1ZXJ5JzsgDQoNCmltcG9ydCB7IG1hcFN0YXRlIH0gZnJvbSAndnVleCcNCg0KLy9FWENFTCBlWHBvcnRhY2nDs24NCmltcG9ydCAqIGFzIFhMU1ggZnJvbSAneGxzeC94bHN4Lm1qcyc7DQovKiBsb2FkICdmcycgZm9yIHJlYWRGaWxlIGFuZCB3cml0ZUZpbGUgc3VwcG9ydCAqLw0KaW1wb3J0ICogYXMgZnMgZnJvbSAnZnMnOw0KWExTWC5zZXRfZnMoZnMpOw0KLyogbG9hZCB0aGUgY29kZXBhZ2Ugc3VwcG9ydCBsaWJyYXJ5IGZvciBleHRlbmRlZCBzdXBwb3J0IHdpdGggb2xkZXIgZm9ybWF0cyAgKi8NCmltcG9ydCAqIGFzIGNwZXhjZWwgZnJvbSAneGxzeC9kaXN0L2NwZXhjZWwuZnVsbC5tanMnOw0KWExTWC5zZXRfY3B0YWJsZShjcGV4Y2VsKTsNCg0KZXhwb3J0IGRlZmF1bHQgew0KICAgIG5hbWU6ICJhYm91dCIsDQogICAgY29tcG9uZW50czogew0KICAgICAgICBuYXZiYXIsDQogICAgfSwNCiAgICBkYXRhKCkgew0KICAgICAgcmV0dXJuIHsNCiAgICAgICAgLy9EYXRvcyBwYXJhIGFncmVnYXIgdW4gbnVldm8gbWVtbyAoaGlzdG9yaWFsKSBjb24gdi1tb2RlbA0KICAgICAgICBwZXN0YcOxYTogJ3Byb2R1Y3RvcycsDQogICAgICAgIHByb2R1Y3RvczogW10sDQogICAgICAgIGhpc3RvcmlhbDogW10sDQogICAgICAgIG9yZGVuZXM6IFtdLA0KICAgICAgICBib2RlZ2FzOiBbXSwNCiAgICAgICAgYm9kOiBbXSwNCiAgICAgICAgZGV0YWxsZUhpc3Q6IFtdLA0KICAgICAgICBkZXRhbGxlT3JkZW46IFtdLA0KICAgICAgICBpbWFnZW5lczogW10sDQogICAgICAgIC8vVmFyaWFibGVzIGRlbCBBR1JFR0FSDQogICAgICAgIGNvZGlnb0FncmVnYXI6ICcnLA0KICAgICAgICBwcm9kdWN0b0FncmVnYXI6ICcnLA0KICAgICAgICBtYXJjYUFncmVnYXI6ICcnLA0KICAgICAgICBkZXNjcmlwY2lvbkFncmVnYTogJycsDQogICAgICAgIHN0b2NrQWdyZWdhOiAwLA0KICAgICAgICBpbWFnZW46IG51bGwsDQogICAgICAgIC8vVmFyaWFibGUgcGFyYSByZWNvbm9jZXIgdW4gcHJvZHVjdG8NCiAgICAgICAgY29kaWdvQmFycmE6ICcnLA0KICAgICAgICAvL1ZhcmlhYmxlcyBwYXJhIEVESVRBUg0KICAgICAgICBpbWFnZW5EaXI6ICcnLA0KICAgICAgICBwcm9kdWN0bzogJycsDQogICAgICAgIG1hcmNhOiAnJywNCiAgICAgICAgZGVzY3JpcGNpb246ICcnLA0KICAgICAgICBzdG9ja0JvZGVnYUVkaXRhcjogMCwNCiAgICAgICAgc3RvY2tDcml0aWNvRWRpdGFyOiAwLA0KICAgICAgICBub21Cb2RlZ2FFZGl0YXI6ICcnLA0KICAgICAgICBzdG9ja1JFRzogMCwNCiAgICAgICAgLy9WYXJpYWJsZSBIaXN0b3JpYWwNCiAgICAgICAgaGlzdG86IDAsDQogICAgICAgIG1lbW9IaXN0OiAwLA0KICAgICAgICAvL1ZhcmlhYmxlcyBkZSBsYXMgYWxlcnRhcw0KICAgICAgICBkaXNtaXNzU2VjczogNSwNCiAgICAgICAgZGlzbWlzc0NvdW50RG93bjogMCwNCiAgICAgICAgbWVuc2FqZToge2NvbG9yOiAnJywgdGV4dG86ICcnfQ0KICAgICAgfQ0KICAgIH0sDQogICAgdmFsaWRhdGlvbnM6ew0KICAgICAgICAvL1ZhbGlkYWNpb25lcyBkZSBsb3MgaW5wdXQNCiAgICAgICAgY29kaWdvQWdyZWdhcjp7cmVxdWlyZWR9LA0KICAgICAgICBwcm9kdWN0b0FncmVnYXI6e3JlcXVpcmVkfSwNCiAgICAgICAgbWFyY2FBZ3JlZ2FyOntyZXF1aXJlZH0sDQogICAgICAgIGRlc2NyaXBjaW9uQWdyZWdhOntyZXF1aXJlZH0sDQogICAgICAgIHByb2R1Y3RvOntyZXF1aXJlZH0sDQogICAgICAgIG1hcmNhOntyZXF1aXJlZH0sDQogICAgICAgIGRlc2NyaXBjaW9uOntyZXF1aXJlZH0sDQogICAgICAgIHN0b2NrQWdyZWdhOiB7cmVxdWlyZWR9LA0KICAgICAgICBzdG9ja1JFRzoge3JlcXVpcmVkfQ0KICAgIH0sDQogICAgY29tcHV0ZWQ6IHsNCiAgICAgIC4uLm1hcFN0YXRlKFsndG9rZW4nLCAndXN1YXJpb0RCJ10pDQogICAgfSwNCiAgICBjcmVhdGVkKCl7DQogICAgICAgIHRoaXMuY2FyZ2FyUHJvZHVjdG9zKCk7DQogICAgICAgIHRoaXMuY2FyZ2FyQm9kZWdhcygpOw0KICAgICAgICB0aGlzLm9idGVuZXJJbWFnZW5lcygpOw0KICAgIH0sDQogICAgbWV0aG9kczp7DQogICAgICAgIC8vRnVuY2nDs24gcXVlIHBlcm1pdGUgZXhwb3J0YXIgbGFzIHRhYmxhcyBlbiBleGNlbA0KICAgICAgICBleHBvcnRhcihudW0pIHsNCiAgICAgICAgICAgIGxldCBkYXRhID0gW107DQogICAgICAgICAgICB2YXIgZmlsZW5hbWUgPSAicGxhbmlsbGEiOw0KICAgICAgICAgICAgaWYobnVtID09PSAxKXsNCiAgICAgICAgICAgICAgICB2YXIgYXJyZWdsYWRvID0gdGhpcy5wcm9kdWN0b3MubWFwKCBpdGVtID0+IHsgDQogICAgICAgICAgICAgICAgICAgIHJldHVybiB7IENvZGlnb0JhcnJhOiBpdGVtLmNvZGlnb0JhcnJhICwgUHJvZHVjdG8gOiBpdGVtLm5vbVByb2R1Y3RvLCBNYXJjYSA6IGl0ZW0ubWFyY2EsIFN0b2NrIDogaXRlbS5zdG9jayB9OyANCiAgICAgICAgICAgICAgICB9KTsNCiAgICAgICAgICAgICAgICBkYXRhID0gWExTWC51dGlscy5qc29uX3RvX3NoZWV0KGFycmVnbGFkbyk7DQogICAgICAgICAgICAgICAgZmlsZW5hbWUgPSAnUHJvZHVjdG9zJw0KICAgICAgICAgICAgfWVsc2UgaWYobnVtID09PSAyKXsNCiAgICAgICAgICAgICAgICB2YXIgYXJyZWdsYWRvID0gdGhpcy5oaXN0b3JpYWwubWFwKCBpdGVtID0+IHsgDQogICAgICAgICAgICAgICAgICAgIHJldHVybiB7IE1lbW86IGl0ZW0ubWVtbyAsIEZ1bmNpb25hcmlvIDogaXRlbS5ub21GdW5jaW9uYXJpbywgRGVwZW5kZW5jaWEgOiBpdGVtLm5vbURlcGVuZGVuY2lhLCBGZWNoYSA6IGl0ZW0uZmVjaGF9OyANCiAgICAgICAgICAgICAgICB9KTsNCiAgICAgICAgICAgICAgICBkYXRhID0gWExTWC51dGlscy5qc29uX3RvX3NoZWV0KGFycmVnbGFkbyk7DQogICAgICAgICAgICAgICAgaWYoYXJyZWdsYWRvWzBdKXsNCiAgICAgICAgICAgICAgICAgICAgZmlsZW5hbWUgPSAnSGlzdG9yaWFsJyArIHRoaXMuY29kaWdvQmFycmENCiAgICAgICAgICAgICAgICB9ZWxzZXsNCiAgICAgICAgICAgICAgICAgICAgZmlsZW5hbWUgPSAnSGlzdG9yaWFsJw0KICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgIH1lbHNlIGlmKG51bSA9PT0gMyl7DQogICAgICAgICAgICAgICAgdmFyIGFycmVnbGFkbyA9IHRoaXMuZGV0YWxsZUhpc3QubWFwKCBpdGVtID0+IHsgDQogICAgICAgICAgICAgICAgICAgIHJldHVybiB7IFByb2R1Y3RvOiBpdGVtLm5vbVByb2R1Y3RvICwgQ29kaWdvQmFycmEgOiBpdGVtLmNvZGlnb0JhcnJhLCBDYW50aWRhZCA6IGl0ZW0uY2FudGlkYWQgfTsgDQogICAgICAgICAgICAgICAgfSk7DQogICAgICAgICAgICAgICAgZGF0YSA9IFhMU1gudXRpbHMuanNvbl90b19zaGVldChhcnJlZ2xhZG8pOw0KICAgICAgICAgICAgICAgIGZpbGVuYW1lID0gJ01lbW8nICsgdGhpcy5tZW1vSGlzdA0KICAgICAgICAgICAgfWVsc2UgaWYobnVtID09PSA0KXsNCiAgICAgICAgICAgICAgICB2YXIgYXJyZWdsYWRvID0gdGhpcy5vcmRlbmVzLm1hcCggaXRlbSA9PiB7IA0KICAgICAgICAgICAgICAgICAgICByZXR1cm4geyBDw7NkaWdvOiBpdGVtLmNvZE9yZGVuICwgQm9kZWdhIDogaXRlbS5ub21Cb2RlZ2EsIFByb3ZlZWRvciA6IGl0ZW0ucHJvdmVlZG9yLCBGZWNoYSA6IGl0ZW0uZmVjaGEgfTsgDQogICAgICAgICAgICAgICAgfSk7DQogICAgICAgICAgICAgICAgZGF0YSA9IFhMU1gudXRpbHMuanNvbl90b19zaGVldChhcnJlZ2xhZG8pOw0KICAgICAgICAgICAgICAgIGlmKGFycmVnbGFkb1swXSl7DQogICAgICAgICAgICAgICAgICAgIGZpbGVuYW1lID0gJ09yZGVuZXMnICsgdGhpcy5jb2RpZ29CYXJyYQ0KICAgICAgICAgICAgICAgIH1lbHNlew0KICAgICAgICAgICAgICAgICAgICBmaWxlbmFtZSA9ICdPcmRlbmVzJw0KICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgIH1lbHNlIGlmKG51bSA9PT0gNSl7DQogICAgICAgICAgICAgICAgdmFyIGFycmVnbGFkbyA9IHRoaXMuZGV0YWxsZU9yZGVuLm1hcCggaXRlbSA9PiB7IA0KICAgICAgICAgICAgICAgICAgICByZXR1cm4geyBQcm9kdWN0bzogaXRlbS5ub21Qcm9kdWN0byAsIENvZGlnb0JhcnJhIDogaXRlbS5jb2RpZ29CYXJyYSwgQ2FudGlkYWQgOiBpdGVtLmNhbnRpZGFkIH07IA0KICAgICAgICAgICAgICAgIH0pOw0KICAgICAgICAgICAgICAgIGRhdGEgPSBYTFNYLnV0aWxzLmpzb25fdG9fc2hlZXQoYXJyZWdsYWRvKTsNCiAgICAgICAgICAgICAgICBmaWxlbmFtZSA9ICdPcmRlbicgKyB0aGlzLmhpc3RvDQogICAgICAgICAgICB9DQogICAgICAgICAgICBjb25zdCB3b3JrYm9vayA9IFhMU1gudXRpbHMuYm9va19uZXcoKTsNCiAgICAgICAgICAgIFhMU1gudXRpbHMuYm9va19hcHBlbmRfc2hlZXQod29ya2Jvb2ssIGRhdGEsIGZpbGVuYW1lKTsNCiAgICAgICAgICAgIFhMU1gud3JpdGVGaWxlKHdvcmtib29rLCBgJHtmaWxlbmFtZX0ueGxzeGApOw0KICAgICAgICB9LA0KICAgICAgICAvL0Z1bmNpb24gcXVlIGNhcmdhIHRvZG9zIGxvcyBwcm9kdWN0b3MgZGVsIHNpc3RlbWENCiAgICAgICAgY2FyZ2FyUHJvZHVjdG9zKCl7DQogICAgICAgICAgICBsZXQgY29uZmlnID0gew0KICAgICAgICAgICAgICAgIGhlYWRlcnM6IHsNCiAgICAgICAgICAgICAgICAgICAgdG9rZW46IHRoaXMudG9rZW4NCiAgICAgICAgICAgICAgICB9DQogICAgICAgICAgICB9DQogICAgICAgICAgICB0aGlzLmF4aW9zLmdldCgnYXBpL29idGVuZXJQcm9kdWN0b3NTb2xvcycsIGNvbmZpZykNCiAgICAgICAgICAgIC50aGVuKHJlcyA9PiB7DQogICAgICAgICAgICAgICAgdGhpcy5wcm9kdWN0b3MgPSByZXMuZGF0YTsNCiAgICAgICAgICAgIH0pDQogICAgICAgICAgICAuY2F0Y2goZSA9PiB7DQogICAgICAgICAgICAgICAgdGhpcy5hbGVydGEoJ2RhbmdlcicsICdObyBzZSBoYW4gcG9kaWRvIGNhcmdhciBsb3MgUHJvZHVjdG9zJyk7DQogICAgICAgICAgICB9KQ0KICAgICAgICB9LA0KICAgICAgICAvL0Z1bmNpw7NuIHF1ZSBzZSBlbmNhcmdhIGRlIG9idGVuZXIgdG9kYXMgbGFzIGJvZGVnYXMgZXhpc3RlbnRlcw0KICAgICAgICBjYXJnYXJCb2RlZ2FzKCl7DQogICAgICAgICAgICBsZXQgY29uZmlnID0gew0KICAgICAgICAgICAgICAgIGhlYWRlcnM6IHsNCiAgICAgICAgICAgICAgICAgICAgdG9rZW46IHRoaXMudG9rZW4NCiAgICAgICAgICAgICAgICB9DQogICAgICAgICAgICB9DQogICAgICAgICAgICB0aGlzLmF4aW9zLmdldCgnYXBpL29idGVuZXJib2RlZ2FzJywgY29uZmlnKQ0KICAgICAgICAgICAgLnRoZW4ocmVzID0+IHsNCiAgICAgICAgICAgICAgICB0aGlzLmJvZCA9IHJlcy5kYXRhOw0KICAgICAgICAgICAgICAgIHRoaXMubm9tQm9kZWdhRWRpdGFyID0gcmVzLmRhdGFbMF0ubm9tQm9kZWdhDQogICAgICAgICAgICAgICAgdGhpcy5sbGVuYXJCb2RlZ2FzKCk7DQogICAgICAgICAgICB9KQ0KICAgICAgICAgICAgLmNhdGNoKGUgPT4gew0KICAgICAgICAgICAgICAgIHRoaXMuYWxlcnRhKCdkYW5nZXInLCAnTm8gc2UgaGFuIHBvZGlkbyBjYXJnYXIgbGFzIGJvZGVnYXMnKTsNCiAgICAgICAgICAgIH0pDQogICAgICAgIH0sDQogICAgICAgIC8vRnVuY2nDs24gcXVlIHNlIGVuY2FyZ2EgZGUgZXN0YWJsZWNlciBlbCBzdG9jayBkZSBlc3RhcyBib2RlZ2FzDQogICAgICAgIGxsZW5hckJvZGVnYXMoKXsNCiAgICAgICAgICAgIGZvcih2YXIgaSA9IDA7IGkgPCB0aGlzLmJvZC5sZW5ndGg7IGkrKyl7DQogICAgICAgICAgICAgICAgdGhpcy5ib2RlZ2FzLnB1c2goe25vbUJvZGVnYTogdGhpcy5ib2RbaV0ubm9tQm9kZWdhLCBzdG9ja0JvZGVnYTogMSwgc3RvY2tDcml0aWNvOiAxfSkNCiAgICAgICAgICAgIH0NCiAgICAgICAgfSwNCiAgICAgICAgLy9GdW5jacOzbiBwYXJhIHJlZ3Jlc2FyIGEgbGEgdmlzdGEgaW5pY2lhbA0KICAgICAgICBWb2x2ZXIoKXsNCiAgICAgICAgICAgICQoJyNoaXN0b3JpYWwnKS5EYXRhVGFibGUoKS5kZXN0cm95KCk7DQogICAgICAgICAgICAkKCcjb3JkZW5lcycpLkRhdGFUYWJsZSgpLmRlc3Ryb3koKQ0KICAgICAgICAgICAgdGhpcy5pbWFnZW4gPSBudWxsOw0KICAgICAgICAgICAgdGhpcy5wZXN0YcOxYSA9ICdwcm9kdWN0b3MnDQogICAgICAgICAgICB0aGlzLmNhcmdhclByb2R1Y3RvcygpOw0KICAgICAgICAgICAgdGhpcy5vYnRlbmVySW1hZ2VuZXMoKTsNCiAgICAgICAgICAgICQoJyNwcm9kdWN0b3MnKS5EYXRhVGFibGUoKQ0KICAgICAgICB9LA0KICAgICAgICBWb2x2ZXJIaXN0KCl7DQogICAgICAgICAgICAkKCcjZGV0YWxsZUhpc3QnKS5EYXRhVGFibGUoKS5kZXN0cm95KCk7DQogICAgICAgICAgICB0aGlzLnBlc3Rhw7FhID0gJ2hpc3RvcmlhbCcNCiAgICAgICAgICAgIHRoaXMuY2FyZ2FySGlzdG9yaWFsKCk7DQogICAgICAgICAgICAkKCcjaGlzdG9yaWFsJykuRGF0YVRhYmxlKCkNCiAgICAgICAgfSwNCiAgICAgICAgVm9sdmVyT1JEKCl7DQogICAgICAgICAgICAkKCcjZGV0YWxsZU9yZGVuJykuRGF0YVRhYmxlKCkuZGVzdHJveSgpOw0KICAgICAgICAgICAgdGhpcy5wZXN0YcOxYSA9ICdvcmRlbmVzJw0KICAgICAgICAgICAgdGhpcy5jYXJnYXJPcmRlbmVzKCk7DQogICAgICAgICAgICAkKCcjb3JkZW5lcycpLkRhdGFUYWJsZSgpDQogICAgICAgIH0sDQogICAgICAgIC8vRnVuY2lvbmVzIGRlIGFjdGl2YWNpb24gZGUgdmlzdGFzDQogICAgICAgIEFjdEFncmVnYXIoKXsNCiAgICAgICAgICAgIHRoaXMucGVzdGHDsWEgPSAnYWdyZWdhcicNCiAgICAgICAgICAgICQoJyNwcm9kdWN0b3MnKS5EYXRhVGFibGUoKS5kZXN0cm95KCk7DQogICAgICAgIH0sDQogICAgICAgIEFjdGVkaXRhcihjb2RpZ29CYXJyYSl7DQogICAgICAgICAgICB0aGlzLmNvZGlnb0JhcnJhID0gY29kaWdvQmFycmENCiAgICAgICAgICAgIHRoaXMucGVzdGHDsWEgPSAnZWRpdGFyJw0KICAgICAgICAgICAgJCgnI3Byb2R1Y3RvcycpLkRhdGFUYWJsZSgpLmRlc3Ryb3koKTsNCiAgICAgICAgICAgIHRoaXMuT2J0ZW5lckRhdG9zKCk7DQogICAgICAgICAgICBmb3IodmFyIGkgPSAwOyBpPHRoaXMuaW1hZ2VuZXMubGVuZ3RoOyBpKyspew0KICAgICAgICAgICAgICAgIGlmKHRoaXMuaW1hZ2VuZXNbaV0uc3BsaXQoJy4nKVswXSA9PSB0aGlzLmNvZGlnb0JhcnJhKXsNCiAgICAgICAgICAgICAgICAgICAgdGhpcy5pbWFnZW5EaXIgPSAnaHR0cDovL2xvY2FsaG9zdDozMDAwL2RiSW1hZ2VuZXMvJyArIHRoaXMuaW1hZ2VuZXNbaV0NCiAgICAgICAgICAgICAgICAgICAgYnJlYWs7DQogICAgICAgICAgICAgICAgfWVsc2V7DQogICAgICAgICAgICAgICAgICAgIHRoaXMuaW1hZ2VuRGlyID0gJ2h0dHA6Ly9sb2NhbGhvc3Q6MzAwMC9kYkltYWdlbmVzL25vLWltYWdlbi5wbmcnDQogICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgfQ0KICAgICAgICB9LA0KICAgICAgICBBY3RIaXN0KGNvZGlnb0JhcnJhKXsNCiAgICAgICAgICAgIHRoaXMuY29kaWdvQmFycmEgPSBjb2RpZ29CYXJyYQ0KICAgICAgICAgICAgJCgnI3Byb2R1Y3RvcycpLkRhdGFUYWJsZSgpLmRlc3Ryb3koKTsNCiAgICAgICAgICAgIHRoaXMucGVzdGHDsWEgPSAnaGlzdG9yaWFsJw0KICAgICAgICAgICAgJCgnI2hpc3RvcmlhbCcpLkRhdGFUYWJsZSgpDQogICAgICAgICAgICB0aGlzLmNhcmdhckhpc3RvcmlhbCgpOw0KICAgICAgICB9LA0KICAgICAgICBBY3RPcmRlbmVzKGNvZGlnb0JhcnJhKXsNCiAgICAgICAgICAgIHRoaXMuY29kaWdvQmFycmEgPSBjb2RpZ29CYXJyYQ0KICAgICAgICAgICAgdGhpcy5wZXN0YcOxYSA9ICdvcmRlbmVzJw0KICAgICAgICAgICAgJCgnI3Byb2R1Y3RvcycpLkRhdGFUYWJsZSgpLmRlc3Ryb3koKTsNCiAgICAgICAgICAgICQoJyNvcmRlbmVzJykuRGF0YVRhYmxlKCkNCiAgICAgICAgICAgIHRoaXMuY2FyZ2FyT3JkZW5lcygpOw0KICAgICAgICB9LA0KICAgICAgICBBY3RESGlzdChjb3JySGlzdG9yaWFsLCBtZW1vKXsNCiAgICAgICAgICAgIHRoaXMuaGlzdG8gPSBjb3JySGlzdG9yaWFsOw0KICAgICAgICAgICAgdGhpcy5tZW1vSGlzdCA9IG1lbW87DQogICAgICAgICAgICB0aGlzLnBlc3Rhw7FhID0gJ2RldGFsbGVIaXN0Jw0KICAgICAgICAgICAgJCgnI2hpc3RvcmlhbCcpLkRhdGFUYWJsZSgpLmRlc3Ryb3koKTsNCiAgICAgICAgICAgICQoJyNkZXRhbGxlSGlzdCcpLkRhdGFUYWJsZSgpDQogICAgICAgICAgICB0aGlzLmNhcmdhckRldGFsbGVIaXN0b3JpYWwoKTsNCiAgICAgICAgfSwNCiAgICAgICAgQWN0RE9yZGVuZXMoY29kT3JkZW4pew0KICAgICAgICAgICAgdGhpcy5oaXN0byA9IGNvZE9yZGVuOw0KICAgICAgICAgICAgdGhpcy5wZXN0YcOxYSA9ICdkZXRhbGxlT3JkZW4nOw0KICAgICAgICAgICAgJCgnI29yZGVuZXMnKS5EYXRhVGFibGUoKS5kZXN0cm95KCk7DQogICAgICAgICAgICAkKCcjZGV0YWxsZU9yZGVuJykuRGF0YVRhYmxlKCkNCiAgICAgICAgICAgIHRoaXMuY2FyZ2FyRGV0YWxsZU9yZGVuKCk7DQogICAgICAgIH0sDQogICAgICAgIC8vRnVuY2lvbmVzIGRlIEFHUkVHQVINCiAgICAgICAgLy9GdW5jaW9uIHBhcmEgY2FyZ2FyIHVuYSBpbWFnZW4geSBtb3N0cmFyIHN1IHByZXZpZXcNCiAgICAgICAgQ2FyZ2FJbWFnZW4oZSl7DQogICAgICAgICAgICB0aGlzLmltYWdlbiA9IGUudGFyZ2V0LmZpbGVzWzBdDQogICAgICAgICAgICB2YXIgaW1hZ2VuQWdyZWdhID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2ltYWdlbkFncmVnYScpOw0KICAgICAgICAgICAgaW1hZ2VuQWdyZWdhLnNyYyA9IFVSTC5jcmVhdGVPYmplY3RVUkwoZS50YXJnZXQuZmlsZXNbMF0pOw0KICAgICAgICB9LA0KICAgICAgICAvL0Z1bmNpw7NuIHF1ZSBzZSBlbmNhcmdhIGRlIGFncmVnYXIgdW4gcHJvZHVjdG8gYWwgc2lzdGVtYQ0KICAgICAgICBBZ3JlZ2FyUHJvZHVjdG8oKXsNCiAgICAgICAgICAgIHRoaXMuJHYuJHRvdWNoKCkNCiAgICAgICAgICAgIGlmKCF0aGlzLiR2LmNvZGlnb0FncmVnYXIuJGludmFsaWQgJiYgIXRoaXMuJHYucHJvZHVjdG9BZ3JlZ2FyLiRpbnZhbGlkICYmICF0aGlzLiR2Lm1hcmNhQWdyZWdhci4kaW52YWxpZCAmJiAhdGhpcy4kdi5kZXNjcmlwY2lvbkFncmVnYS4kaW52YWxpZCl7DQogICAgICAgICAgICAgICAgbGV0IGNvbmZpZyA9IHsNCiAgICAgICAgICAgICAgICAgICAgaGVhZGVyczogew0KICAgICAgICAgICAgICAgICAgICAgICAgdG9rZW46IHRoaXMudG9rZW4NCiAgICAgICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgICAgICB0aGlzLmF4aW9zLnBvc3QoJ2FwaS9hZ3JlZ2FQcm9kdWN0bycsIHtjb2RpZ29CYXJyYTogdGhpcy5jb2RpZ29BZ3JlZ2FyLCBub21Qcm9kdWN0bzogdGhpcy5wcm9kdWN0b0FncmVnYXIsIG1hcmNhOiB0aGlzLm1hcmNhQWdyZWdhciwgZGVzY3JpcGNpb246IHRoaXMuZGVzY3JpcGNpb25BZ3JlZ2EsIHN0b2NrOiB0aGlzLnN0b2NrQWdyZWdhfSwgY29uZmlnKQ0KICAgICAgICAgICAgICAgICAgICAudGhlbihyZXMgPT4gew0KICAgICAgICAgICAgICAgICAgICBpZighcmVzLmRhdGEuc3FsTWVzc2FnZSl7DQogICAgICAgICAgICAgICAgICAgICAgICBpZih0aGlzLmltYWdlbiAhPT0gbnVsbCl7DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5zdWJpckltYWdlbigpOw0KICAgICAgICAgICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5hZ3JlZ2FyU3RvY2soKTsNCiAgICAgICAgICAgICAgICAgICAgfWVsc2V7DQogICAgICAgICAgICAgICAgICAgICAgICBTd2FsLmZpcmUoew0KICAgICAgICAgICAgICAgICAgICAgICAgaWNvbjogJ2Vycm9yJywNCiAgICAgICAgICAgICAgICAgICAgICAgIHRpdGxlOiAnT29wcy4uLicsDQogICAgICAgICAgICAgICAgICAgICAgICB0ZXh0OiAnTm8gc2UgaGEgY3JlYWRvIGVzdGUgbnVldm8gdGlwbycsDQogICAgICAgICAgICAgICAgICAgICAgICBmb290ZXI6ICdDb2RpZ28gbyBub21icmUgZGUgUHJvZHVjdG8geWEgdXRpbGl6YWRvJw0KICAgICAgICAgICAgICAgICAgICAgICAgfSkNCiAgICAgICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgICAgICAgICB9KQ0KICAgICAgICAgICAgICAgICAgICAuY2F0Y2goZSA9PiB7DQogICAgICAgICAgICAgICAgICAgIFN3YWwuZmlyZSh7DQogICAgICAgICAgICAgICAgICAgICAgICBpY29uOiAnZXJyb3InLA0KICAgICAgICAgICAgICAgICAgICAgICAgdGl0bGU6ICdPb3BzLi4uJywNCiAgICAgICAgICAgICAgICAgICAgICAgIHRleHQ6ICdObyBzZSBoYSBjcmVhZG8gZXN0ZSBudWV2byB0aXBvJywNCiAgICAgICAgICAgICAgICAgICAgICAgIGZvb3RlcjogJ1Bvc2libGUgZXJyb3IgZGVsIHNpc3RlbWEnDQogICAgICAgICAgICAgICAgICAgIH0pDQogICAgICAgICAgICAgICAgICAgIH0pDQogICAgICAgICAgICB9ZWxzZXsNCiAgICAgICAgICAgICAgICB0aGlzLmFsZXJ0YSgnZGFuZ2VyJywgJ1BvcmZhdm9yIGluZ3Jlc2UgdG9kb3MgbG9zIGNhbXBvcyByZXF1ZXJpZG9zJyk7DQogICAgICAgICAgICB9DQogICAgICAgIH0sDQogICAgICAgIC8vU1VCSVIgSU1BR0VOIGRlbCBudWV2byBwcm9kdWN0bw0KICAgICAgICBzdWJpckltYWdlbigpew0KICAgICAgICAgICAgaWYodGhpcy5pbWFnZW4gIT09IG51bGwpew0KICAgICAgICAgICAgICAgIGNvbnN0IGZvcm1EYXRhID0gbmV3IEZvcm1EYXRhKCkNCiAgICAgICAgICAgICAgICBmb3JtRGF0YS5hcHBlbmQoJ2ltYWdlJywgdGhpcy5pbWFnZW4pDQogICAgICAgICAgICAgICAgbGV0IGNvbmZpZyA9IHsNCiAgICAgICAgICAgICAgICAgICAgaGVhZGVyczogew0KICAgICAgICAgICAgICAgICAgICAgICAgdG9rZW46IHRoaXMudG9rZW4NCiAgICAgICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgICAgICB0aGlzLmF4aW9zLnB1dChgYXBpL3N1YmlySW1hZ2VuLyR7dGhpcy5jb2RpZ29BZ3JlZ2FyfWAsIGZvcm1EYXRhLCBjb25maWcpDQogICAgICAgICAgICAgICAgICAgIC50aGVuKHJlcyA9PiB7DQogICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmFsZXJ0YSgnc3VjY2VzcycsICdTZSBoYSBsb2dyYWRvIHN1YmlyIGxhIGltYWdlbicpDQogICAgICAgICAgICAgICAgICAgIH0pDQogICAgICAgICAgICAgICAgICAgIC5jYXRjaChlID0+IHsNCiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuYWxlcnRhKCdkYW5nZXInLCAnTm8gc2UgaGEgbG9ncmFkbyBzdWJpciBsYSBpbWFnZW4nKQ0KICAgICAgICAgICAgICAgICAgICB9KQ0KICAgICAgICAgICAgfQ0KICAgICAgICB9LA0KICAgICAgICAvL0Z1bmNpb24gcXVlIGFncmVnYSBlbCBzdG9jayBkZWwgUHJvZHVjdG8NCiAgICAgICAgYWdyZWdhclN0b2NrKCl7DQogICAgICAgICAgICBmb3IodmFyIGkgPSAwOyBpIDwgdGhpcy5ib2RlZ2FzLmxlbmd0aDsgaSsrKXsNCiAgICAgICAgICAgICAgICBsZXQgY29uZmlnID0gew0KICAgICAgICAgICAgICAgICAgICBoZWFkZXJzOiB7DQogICAgICAgICAgICAgICAgICAgICAgICB0b2tlbjogdGhpcy50b2tlbg0KICAgICAgICAgICAgICAgICAgICB9DQogICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgICAgIHRoaXMuYXhpb3MucG9zdCgnYXBpL2FncmVnYVByb2R1Y3RvQm9kZWdhJywge3N0b2NrQm9kZWdhOiB0aGlzLmJvZGVnYXNbaV0uc3RvY2tCb2RlZ2EsIHN0b2NrQ3JpdGljbzogdGhpcy5ib2RlZ2FzW2ldLnN0b2NrQ3JpdGljbywgbm9tQm9kZWdhOiB0aGlzLmJvZGVnYXNbaV0ubm9tQm9kZWdhLCBjb2RpZ29CYXJyYTogdGhpcy5jb2RpZ29BZ3JlZ2FyfSwgY29uZmlnKQ0KICAgICAgICAgICAgICAgICAgICAudGhlbihyZXMgPT4gew0KICAgICAgICAgICAgICAgICAgICBpZighcmVzLmRhdGEuc3FsTWVzc2FnZSl7DQogICAgICAgICAgICAgICAgICAgICAgICBTd2FsLmZpcmUoDQogICAgICAgICAgICAgICAgICAgICAgICAgICAgJ1NlIGhhIGdlbmVyYWRvIHVuIG51ZXZvIFByb2R1Y3RvJywNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAnU2VsZWNjaW9uZSBPayBwYXJhIGNvbnRpbnVhcicsDQogICAgICAgICAgICAgICAgICAgICAgICAgICAgJ3N1Y2Nlc3MnDQogICAgICAgICAgICAgICAgICAgICAgICApDQogICAgICAgICAgICAgICAgICAgIH1lbHNlew0KICAgICAgICAgICAgICAgICAgICAgICAgU3dhbC5maXJlKHsNCiAgICAgICAgICAgICAgICAgICAgICAgIGljb246ICdlcnJvcicsDQogICAgICAgICAgICAgICAgICAgICAgICB0aXRsZTogJ09vcHMuLi4nLA0KICAgICAgICAgICAgICAgICAgICAgICAgdGV4dDogJ05vIHNlIGhhIGxvZ3JhZG8gaW5ncmVzYXIgbG9zIHN0b2NrIGRlbCBwcm9kdWN0bycsDQogICAgICAgICAgICAgICAgICAgICAgICBmb290ZXI6ICdFcnJvciBjb24gZWwgaW5ncmVzbyBkZSBTdG9ja3MnDQogICAgICAgICAgICAgICAgICAgICAgICB9KQ0KICAgICAgICAgICAgICAgICAgICB9DQogICAgICAgICAgICAgICAgICAgIH0pDQogICAgICAgICAgICAgICAgICAgIC5jYXRjaChlID0+IHsNCiAgICAgICAgICAgICAgICAgICAgICAgIFN3YWwuZmlyZSh7DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgaWNvbjogJ2Vycm9yJywNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aXRsZTogJ09vcHMuLi4nLA0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRleHQ6ICdObyBzZSBoYSBjcmVhZG8gZXN0ZSBudWV2byB0aXBvJywNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBmb290ZXI6ICdQb3NpYmxlIGVycm9yIGRlbCBzaXN0ZW1hJw0KICAgICAgICAgICAgICAgICAgICAgICAgfSkNCiAgICAgICAgICAgICAgICAgICAgfSkNCiAgICAgICAgICAgIH0NCiAgICAgICAgfSwNCiAgICAgICAgLy9pbmRpY2Ftb3MgbGEgbWluaW1hIGNhbnRpZGFkIHBhcmEgZWwgc3RvY2sgcmVnaW9uYWwNCiAgICAgICAgY2FudE1pblN0b2NrUmVnKHN0b2NrKXsNCiAgICAgICAgICAgIGlmKHN0b2NrIDwgMCB8fCBzdG9jayA9PT0gJycpew0KICAgICAgICAgICAgICAgIHRoaXMuc3RvY2tBZ3JlZ2EgPSAwDQogICAgICAgICAgICAgICAgdGhpcy5zdG9ja1JFRyA9IDANCiAgICAgICAgICAgIH0NCiAgICAgICAgfSwNCiAgICAgICAgLy9JbmRpY2Ftb3MgZWwgbWluaW1vIGRlIGNhbnRpZGFkIHBhcmEgcXVlIG5vIGVzdGUgdmFjaW8gbyBzZWEgbWVub3IgYSAwDQogICAgICAgIGNhbnRNaW4obm9tQm9kZWdhKXsNCiAgICAgICAgICAgIGNvbnN0IGluZGV4ID0gdGhpcy5ib2RlZ2FzLmZpbmRJbmRleChpdGVtID0+IGl0ZW0ubm9tQm9kZWdhID09IG5vbUJvZGVnYSk7DQogICAgICAgICAgICBpZih0aGlzLmJvZGVnYXNbaW5kZXhdLnN0b2NrQm9kZWdhIDwgMCl7DQogICAgICAgICAgICAgICAgdGhpcy5ib2RlZ2FzW2luZGV4XS5zdG9ja0JvZGVnYSA9IDA7DQogICAgICAgICAgICB9DQogICAgICAgICAgICBpZih0aGlzLmJvZGVnYXNbaW5kZXhdLnN0b2NrQm9kZWdhIDwgdGhpcy5ib2RlZ2FzW2luZGV4XS5zdG9ja0NyaXRpY28pew0KICAgICAgICAgICAgICAgIHRoaXMuYWxlcnRhKCdkYW5nZXInLCAnRWwgc3RvY2sgcXVlIGVzdGEgaW5ncmVzYW5kbyBlcyBtZW5vciBhbCBjcml0aWNvIHBhcmEgbGEgYm9kZWdhICcgKyB0aGlzLmJvZGVnYXNbaW5kZXhdLm5vbUJvZGVnYSkNCiAgICAgICAgICAgIH0NCiAgICAgICAgfSwNCiAgICAgICAgLy9JbmRpY2Ftb3MgZWwgbWluaW1vIGRlIGNhbnRpZGFkIHBhcmEgcXVlIG5vIGVzdGUgdmFjaW8gbyBzZWEgbWVub3IgYSAwDQogICAgICAgIGNhbnRNaW5Dcml0aWNvKG5vbUJvZGVnYSl7DQogICAgICAgICAgICBjb25zdCBpbmRleCA9IHRoaXMuYm9kZWdhcy5maW5kSW5kZXgoaXRlbSA9PiBpdGVtLm5vbUJvZGVnYSA9PSBub21Cb2RlZ2EpOw0KICAgICAgICAgICAgaWYodGhpcy5ib2RlZ2FzW2luZGV4XS5zdG9ja0NyaXRpY28gPCAwKXsNCiAgICAgICAgICAgICAgICB0aGlzLmJvZGVnYXNbaW5kZXhdLnN0b2NrQ3JpdGljbyA9IDA7DQogICAgICAgICAgICB9DQogICAgICAgICAgICBpZih0aGlzLmJvZGVnYXNbaW5kZXhdLnN0b2NrQ3JpdGljbyA+IHRoaXMuYm9kZWdhc1tpbmRleF0uc3RvY2tCb2RlZ2EgKXsNCiAgICAgICAgICAgICAgICB0aGlzLmFsZXJ0YSgnZGFuZ2VyJywgJ0VsIHN0b2NrIHF1ZSBlc3RhIGluZ3Jlc2FuZG8gZXMgbWVub3IgYWwgY3JpdGljbyBwYXJhIGxhIGJvZGVnYSAnICsgdGhpcy5ib2RlZ2FzW2luZGV4XS5ub21Cb2RlZ2EpDQogICAgICAgICAgICB9DQogICAgICAgIH0sDQogICAgICAgIC8vRlVOQ0lPTkVTIFBBUkEgRURJVEFSDQogICAgICAgIC8vRnVuY2nDs24gcXVlIHBlcm1pdGUgb2J0ZW5lciBsb3MgZGF0b3MgZGlyZWN0YW1lbnRlIGRlIGxhIHRhYmxhDQogICAgICAgIE9idGVuZXJEYXRvcygpew0KICAgICAgICAgICAgY29uc3QgaW5kZXggPSB0aGlzLnByb2R1Y3Rvcy5maW5kSW5kZXgoaXRlbSA9PiBpdGVtLmNvZGlnb0JhcnJhID09IHRoaXMuY29kaWdvQmFycmEpOw0KICAgICAgICAgICAgdmFyIGRhdGEgPSB0aGlzLnByb2R1Y3Rvc1tpbmRleF0NCiAgICAgICAgICAgIHRoaXMucHJvZHVjdG8gPSBkYXRhLm5vbVByb2R1Y3RvDQogICAgICAgICAgICB0aGlzLm1hcmNhID0gZGF0YS5tYXJjYQ0KICAgICAgICAgICAgdGhpcy5kZXNjcmlwY2lvbiA9IGRhdGEuZGVzY3JpcGNpb24NCiAgICAgICAgICAgIHRoaXMuc3RvY2tSRUcgPSBkYXRhLnN0b2NrDQogICAgICAgICAgICB0aGlzLk9idGVuZXJTdG9ja0NyaXRpY28oKTsNCiAgICAgICAgfSwNCiAgICAgICAgLy9GdW5jacOzbiBxdWUgb2J0aWVuZSB1bmEgaW1hZ2VuDQogICAgICAgIG9idGVuZXJJbWFnZW5lcygpew0KICAgICAgICAgICAgbGV0IGNvbmZpZyA9IHsNCiAgICAgICAgICAgICAgICBoZWFkZXJzOiB7DQogICAgICAgICAgICAgICAgICAgIHRva2VuOiB0aGlzLnRva2VuDQogICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgfQ0KICAgICAgICAgICAgIHRoaXMuYXhpb3MuZ2V0KGBhcGkvb2J0ZW5lckltYWdlbmAsIGNvbmZpZykNCiAgICAgICAgICAgICAgICAudGhlbihyZXMgPT4gew0KICAgICAgICAgICAgICAgICAgICB0aGlzLmltYWdlbmVzID0gcmVzLmRhdGENCiAgICAgICAgICAgICAgICB9KQ0KICAgICAgICAgICAgICAgIC5jYXRjaChlID0+IHsNCiAgICAgICAgICAgICAgICAgICAgdGhpcy5hbGVydGEoJ2RhbmdlcicsICdFc3RlIHByb2R1Y3RvIG5vIHBvc2VlIGltYWdlbiBvIG5vIGhhIGNhcmdhZG8gY29ycmVjdGFtZW50ZScpDQogICAgICAgICAgICAgICAgfSkNCg0KICAgICAgICB9LA0KICAgICAgICAvL0Z1bmNpw7NuIHF1ZSByZWNhcmdhIGxhIGZ1bmNpw7NuIHNpZ3VpZW50ZSBwYXJhcSB1biBzdG9jayBDcml0aWNvDQogICAgICAgIHJlY2FyZ2FyQ3JpdGljbygpew0KICAgICAgICAgICAgdGhpcy5PYnRlbmVyU3RvY2tDcml0aWNvKCk7DQogICAgICAgIH0sDQogICAgICAgIC8vRnVuY2nDs24gcXVlIG9idGllbmUgZWwgc3RvY2tDcml0aW8gYWN0dWFsIGRlbCBwcm9kdWN0byBzZWfDum4gbGEgYm9kZWdhIHNlbGVjY2lvbmFkYSBlbiBlbCBlZGl0YXINCiAgICAgICAgT2J0ZW5lclN0b2NrQ3JpdGljbygpew0KICAgICAgICAgICAgbGV0IGNvbmZpZyA9IHsNCiAgICAgICAgICAgICAgICBoZWFkZXJzOiB7DQogICAgICAgICAgICAgICAgICAgIHRva2VuOiB0aGlzLnRva2VuDQogICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgfQ0KICAgICAgICAgICAgdGhpcy5heGlvcy5nZXQoYGFwaS9vYnRlbmVyUHJvZHVjdG9Cb2RlZ2EvJHt0aGlzLmNvZGlnb0JhcnJhfS8ke3RoaXMubm9tQm9kZWdhRWRpdGFyfWAsIGNvbmZpZykNCiAgICAgICAgICAgIC50aGVuKHJlcyA9PiB7DQogICAgICAgICAgICAgICAgdGhpcy5zdG9ja0NyaXRpY29FZGl0YXIgPSByZXMuZGF0YVswXS5zdG9ja0NyaXRpY287DQogICAgICAgICAgICB9KQ0KICAgICAgICAgICAgLmNhdGNoKGUgPT4gew0KICAgICAgICAgICAgICAgIHRoaXMuYWxlcnRhKCdkYW5nZXInLCAnTm8gc2UgaGEgbG9ncmFkbyBjYXJnYXIgZWwgc3RvY2sgQ3JpdGljbycpOw0KICAgICAgICAgICAgfSkNCiAgICAgICAgfSwNCiAgICAgICAgQ2FyZ2FJbWFnZW5FZGl0YXIoZSl7DQogICAgICAgICAgICB0aGlzLmltYWdlbiA9IGUudGFyZ2V0LmZpbGVzWzBdDQogICAgICAgICAgICB2YXIgaW1hZ2VuRWRpdGEgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnaW1hZ2VuRWRpdGEnKTsNCiAgICAgICAgICAgIGltYWdlbkVkaXRhLnNyYyA9IFVSTC5jcmVhdGVPYmplY3RVUkwoZS50YXJnZXQuZmlsZXNbMF0pOw0KICAgICAgICB9LA0KICAgICAgICAvL0VkaXRhciB1biBwcm9kdWN0byANCiAgICAgICAgRWRpdGFyUHJvZHVjdG8oKXsNCiAgICAgICAgICAgIHRoaXMuJHYuJHRvdWNoKCkNCiAgICAgICAgICAgIGlmKCF0aGlzLiR2LnByb2R1Y3RvLiRpbnZhbGlkICYmICF0aGlzLiR2Lm1hcmNhLiRpbnZhbGlkICYmICF0aGlzLiR2LmRlc2NyaXBjaW9uLiRpbnZhbGlkKXsNCiAgICAgICAgICAgICAgICBsZXQgY29uZmlnID0gew0KICAgICAgICAgICAgICAgICAgICBoZWFkZXJzOiB7DQogICAgICAgICAgICAgICAgICAgICAgICB0b2tlbjogdGhpcy50b2tlbg0KICAgICAgICAgICAgICAgICAgICB9DQogICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgICAgIHRoaXMuYXhpb3MucHV0KGBhcGkvZWRpdGFyUHJvZHVjdG8vJHt0aGlzLmNvZGlnb0JhcnJhfWAsIHtub21Qcm9kdWN0bzogdGhpcy5wcm9kdWN0bywgbWFyY2E6IHRoaXMubWFyY2EsIGRlc2NyaXBjaW9uOiB0aGlzLmRlc2NyaXBjaW9uLCBzdG9jazogdGhpcy5zdG9ja1JFR30sIGNvbmZpZykNCiAgICAgICAgICAgICAgICAgICAgLnRoZW4ocmVzID0+IHsNCiAgICAgICAgICAgICAgICAgICAgaWYoIXJlcy5kYXRhLnNxbE1lc3NhZ2Upew0KICAgICAgICAgICAgICAgICAgICAgICAgaWYodGhpcy5pbWFnZW4gIT09IG51bGwpew0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuc3ViaXJJbWFnZW5FZGl0YXIoKTsNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLm9idGVuZXJJbWFnZW5lcygpOw0KICAgICAgICAgICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgICAgICAgICAgICAgU3dhbC5maXJlKA0KICAgICAgICAgICAgICAgICAgICAgICAgJ1NlIGhhIGVkaXRhZG8gYWwgcHJvZHVjdG8gc2F0aXNmYWN0b3JpYW1lbnRlJywNCiAgICAgICAgICAgICAgICAgICAgICAgICdTZWxlY2Npb25lIE9rIHBhcmEgY29udGludWFyJywNCiAgICAgICAgICAgICAgICAgICAgICAgICdzdWNjZXNzJw0KICAgICAgICAgICAgICAgICAgICAgICAgKQ0KICAgICAgICAgICAgICAgICAgICB9ZWxzZXsNCiAgICAgICAgICAgICAgICAgICAgICAgIFN3YWwuZmlyZSh7DQogICAgICAgICAgICAgICAgICAgICAgICBpY29uOiAnZXJyb3InLA0KICAgICAgICAgICAgICAgICAgICAgICAgdGl0bGU6ICdPb3BzLi4uJywNCiAgICAgICAgICAgICAgICAgICAgICAgIHRleHQ6ICdObyBzZSBoYSBhY3R1YWxpemFkbyBlbCBwcm9kdWN0bycsDQogICAgICAgICAgICAgICAgICAgICAgICBmb290ZXI6ICdEYXRvIHJlcGV0aWRvIGFzZWd1cmVzZSBkZSBxdWUgZWwgY29kaWdvIG8gbm9tYnJlIG5vIGV4aXN0YW4nDQogICAgICAgICAgICAgICAgICAgICAgICB9KQ0KICAgICAgICAgICAgICAgICAgICB9DQogICAgICAgICAgICAgICAgICAgIH0pDQogICAgICAgICAgICAgICAgICAgIC5jYXRjaChlID0+IHsNCiAgICAgICAgICAgICAgICAgICAgdGhpcy5hbGVydGEoJ2RhbmdlcicsICdObyBzZSBoYSBsb2dyYWRvIGVkaXRhciBhbCBwcm9kdWN0bycpOw0KICAgICAgICAgICAgICAgIH0pDQogICAgICAgICAgICB9ZWxzZXsNCiAgICAgICAgICAgICAgICB0aGlzLmFsZXJ0YSgnZGFuZ2VyJywgJ1JlbGxlbmUgdG9kb3MgbG9zIGNhbXBvcyBwYXJhIGVkaXRhciBlbCBQcm9kdWN0bycpDQogICAgICAgICAgICB9DQogICAgICAgIH0sDQogICAgICAgIC8vU1VCSVIgSU1BR0VOIGRlIHVuIHByb2R1Y3RvIGV4aXN0ZW50ZQ0KICAgICAgICBzdWJpckltYWdlbkVkaXRhcigpew0KICAgICAgICAgICAgaWYodGhpcy5pbWFnZW4gIT09IG51bGwpew0KICAgICAgICAgICAgICAgIGNvbnN0IGZvcm1EYXRhID0gbmV3IEZvcm1EYXRhKCkNCiAgICAgICAgICAgICAgICBmb3JtRGF0YS5hcHBlbmQoJ2ltYWdlJywgdGhpcy5pbWFnZW4pDQogICAgICAgICAgICAgICAgbGV0IGNvbmZpZyA9IHsNCiAgICAgICAgICAgICAgICAgICAgaGVhZGVyczogew0KICAgICAgICAgICAgICAgICAgICAgICAgdG9rZW46IHRoaXMudG9rZW4NCiAgICAgICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgICAgICB0aGlzLmF4aW9zLnB1dChgYXBpL3N1YmlySW1hZ2VuLyR7dGhpcy5jb2RpZ29CYXJyYX1gLCBmb3JtRGF0YSwgY29uZmlnKQ0KICAgICAgICAgICAgICAgICAgICAudGhlbihyZXMgPT4gew0KICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5hbGVydGEoJ3N1Y2Nlc3MnLCAnU2UgaGEgbG9ncmFkbyBzdWJpciBsYSBpbWFnZW4nKQ0KICAgICAgICAgICAgICAgICAgICB9KQ0KICAgICAgICAgICAgICAgICAgICAuY2F0Y2goZSA9PiB7DQogICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmFsZXJ0YSgnZGFuZ2VyJywgJ05vIHNlIGhhIGxvZ3JhZG8gc3ViaXIgbGEgaW1hZ2VuJykNCiAgICAgICAgICAgICAgICAgICAgfSkNCiAgICAgICAgICAgIH0NCiAgICAgICAgfSwNCiAgICAgICAgLy9FRElUQVIgRUwgU1RPQ0sgQ1JJVElDTw0KICAgICAgICBFZGl0YXJTdG9ja0NyaXRpY28oKXsNCiAgICAgICAgICAgIGxldCBjb25maWcgPSB7DQogICAgICAgICAgICAgICAgaGVhZGVyczogew0KICAgICAgICAgICAgICAgICAgICB0b2tlbjogdGhpcy50b2tlbg0KICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgIH0NCiAgICAgICAgICAgIHRoaXMuYXhpb3MucHV0KGBhcGkvZWRpdGFyc3RvY2tDcml0aWNvLyR7dGhpcy5jb2RpZ29CYXJyYX1gLCB7c3RvY2tDcml0aWNvOiB0aGlzLnN0b2NrQ3JpdGljb0VkaXRhciwgbm9tQm9kZWdhOiB0aGlzLm5vbUJvZGVnYUVkaXRhcn0sIGNvbmZpZykNCiAgICAgICAgICAgICAgICAudGhlbihyZXMgPT4gew0KICAgICAgICAgICAgICAgIGlmKCFyZXMuZGF0YS5zcWxNZXNzYWdlKXsNCiAgICAgICAgICAgICAgICAgICAgU3dhbC5maXJlKA0KICAgICAgICAgICAgICAgICAgICAnU2UgaGEgZWRpdGFkbyBlbCBzdG9jayBjcml0aWNvIGRlbCBwcm9kdWN0byBkZSBmb3JtYSBzYXRpc2ZhY3RvcmlhJywNCiAgICAgICAgICAgICAgICAgICAgJ1NlbGVjY2lvbmUgT2sgcGFyYSBjb250aW51YXInLA0KICAgICAgICAgICAgICAgICAgICAnc3VjY2VzcycNCiAgICAgICAgICAgICAgICAgICAgKQ0KICAgICAgICAgICAgICAgIH1lbHNlew0KICAgICAgICAgICAgICAgICAgICBTd2FsLmZpcmUoew0KICAgICAgICAgICAgICAgICAgICBpY29uOiAnZXJyb3InLA0KICAgICAgICAgICAgICAgICAgICB0aXRsZTogJ09vcHMuLi4nLA0KICAgICAgICAgICAgICAgICAgICB0ZXh0OiAnTm8gc2UgaGEgYWN0dWFsaXphZG8gZWwgcHJvZHVjdG8nLA0KICAgICAgICAgICAgICAgICAgICBmb290ZXI6ICdEYXRvIHJlcGV0aWRvIGFzZWd1cmVzZSBkZSBxdWUgZWwgY29kaWdvIG8gbm9tYnJlIG5vIGV4aXN0YW4nDQogICAgICAgICAgICAgICAgICAgIH0pDQogICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgICAgIH0pDQogICAgICAgICAgICAgICAgLmNhdGNoKGUgPT4gew0KICAgICAgICAgICAgICAgIHRoaXMuYWxlcnRhKCdkYW5nZXInLCAnTm8gc2UgaGEgbG9ncmFkbyBlZGl0YXIgYWwgcHJvZHVjdG8nKTsNCiAgICAgICAgICAgIH0pDQogICAgICAgIH0sDQogICAgICAgIC8vQ0FSR0FSIERBVE9TIERFIFRBQkxBIEhJU1RPUklBTA0KICAgICAgICBjYXJnYXJIaXN0b3JpYWwoKXsNCiAgICAgICAgICAgIGxldCBjb25maWcgPSB7DQogICAgICAgICAgICAgICAgaGVhZGVyczogew0KICAgICAgICAgICAgICAgICAgICB0b2tlbjogdGhpcy50b2tlbg0KICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgIH0NCiAgICAgICAgICAgIHRoaXMuYXhpb3MuZ2V0KGBhcGkvb2J0ZW5lckhpc3RvcmlhbGVzUHJvZHVjdG8vJHt0aGlzLmNvZGlnb0JhcnJhfWAsIGNvbmZpZykNCiAgICAgICAgICAgIC50aGVuKHJlcyA9PiB7DQogICAgICAgICAgICAgICAgdGhpcy5oaXN0b3JpYWwgPSByZXMuZGF0YTsNCiAgICAgICAgICAgIH0pDQogICAgICAgICAgICAuY2F0Y2goZSA9PiB7DQogICAgICAgICAgICAgICAgdGhpcy5hbGVydGEoJ2RhbmdlcicsICdObyBzZSBoYSBsb2dyYWRvIGNhcmdhciBlbCBoaXN0b3JpYWwnKTsNCiAgICAgICAgICAgIH0pDQogICAgICAgIH0sDQogICAgICAgIC8vQ2FyYWdhciB0YWJsYSBkZSBvcmRlbmVzIGRlIGNvbXByYSBkZSB1biBwcm9kdWN0bw0KICAgICAgICBjYXJnYXJPcmRlbmVzKCl7DQogICAgICAgICAgICBsZXQgY29uZmlnID0gew0KICAgICAgICAgICAgICAgIGhlYWRlcnM6IHsNCiAgICAgICAgICAgICAgICAgICAgdG9rZW46IHRoaXMudG9rZW4NCiAgICAgICAgICAgICAgICB9DQogICAgICAgICAgICB9DQogICAgICAgICAgICB0aGlzLmF4aW9zLmdldChgYXBpL29idGVuZXJPcmRlbmVzUHJvZHVjdG8vJHt0aGlzLmNvZGlnb0JhcnJhfWAsIGNvbmZpZykNCiAgICAgICAgICAgIC50aGVuKHJlcyA9PiB7DQogICAgICAgICAgICAgICAgdGhpcy5vcmRlbmVzID0gcmVzLmRhdGE7DQogICAgICAgICAgICB9KQ0KICAgICAgICAgICAgLmNhdGNoKGUgPT4gew0KICAgICAgICAgICAgICAgIHRoaXMuYWxlcnRhKCdkYW5nZXInLCAnTm8gc2UgaGEgbG9ncmFkbyBjYXJnYXIgbGEgb3JkZW4nKTsNCiAgICAgICAgICAgIH0pDQogICAgICAgIH0sDQogICAgICAgIC8vQ2FyZ2FyIGxvcyBkZXRhbGxlcyBkZSB1biBoaXN0b3JpYWwNCiAgICAgICAgY2FyZ2FyRGV0YWxsZUhpc3RvcmlhbCgpew0KICAgICAgICAgICAgbGV0IGNvbmZpZyA9IHsNCiAgICAgICAgICAgICAgICBoZWFkZXJzOiB7DQogICAgICAgICAgICAgICAgICAgIHRva2VuOiB0aGlzLnRva2VuDQogICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgfQ0KICAgICAgICAgICAgdGhpcy5heGlvcy5nZXQoYGFwaS9vYnRlbmVySGlzdG9yaWFsLyR7dGhpcy5oaXN0b31gLCBjb25maWcpDQogICAgICAgICAgICAudGhlbihyZXMgPT4gew0KICAgICAgICAgICAgICAgIHRoaXMuZGV0YWxsZUhpc3QgPSByZXMuZGF0YTsNCiAgICAgICAgICAgIH0pDQogICAgICAgICAgICAuY2F0Y2goZSA9PiB7DQogICAgICAgICAgICAgICAgdGhpcy5hbGVydGEoJ2RhbmdlcicsICdObyBzZSBoYSBsb2dyYWRvIGNhcmdhciBlbCBkZXRhbGxlIGRlbCBoaXN0b3JpYWwnKTsNCiAgICAgICAgICAgIH0pDQogICAgICAgIH0sDQogICAgICAgIC8vQ2FyZ2FyIGxvcyBkZXRhbGxlcyBkZSB1bmEgb3JkZW4NCiAgICAgICAgY2FyZ2FyRGV0YWxsZU9yZGVuKCl7DQogICAgICAgICAgICBsZXQgY29uZmlnID0gew0KICAgICAgICAgICAgICAgIGhlYWRlcnM6IHsNCiAgICAgICAgICAgICAgICAgICAgdG9rZW46IHRoaXMudG9rZW4NCiAgICAgICAgICAgICAgICB9DQogICAgICAgICAgICB9DQogICAgICAgICAgICB0aGlzLmF4aW9zLmdldChgYXBpL29idGVuZXJPcmRlbi8ke3RoaXMuaGlzdG99YCwgY29uZmlnKQ0KICAgICAgICAgICAgLnRoZW4ocmVzID0+IHsNCiAgICAgICAgICAgICAgICB0aGlzLmRldGFsbGVPcmRlbiA9IHJlcy5kYXRhOw0KICAgICAgICAgICAgfSkNCiAgICAgICAgICAgIC5jYXRjaChlID0+IHsNCiAgICAgICAgICAgICAgICB0aGlzLmFsZXJ0YSgnZGFuZ2VyJywgJ05vIHNlIGhhIGxvZ3JhZG8gY2FyZ2FyIGVsIGRldGFsbGUgZGUgdW5hIG9yZGVuJyk7DQogICAgICAgICAgICB9KQ0KICAgICAgICB9LA0KICAgICAgICAvL0FsIGNhbWJpYXIgZWwgaW5wdXQgZGVsIHN0b2NrIGNyaXRpY28gZXZpdGFyIHF1ZSBzZWEgbWVub3MgcXVlIDEgeSBhbGVydGFyIHNpIGVzIGluZmVyaW9yIGFsIHN0b2NrIGRlIGJvZGVnYQ0KICAgICAgICBjYW50TWluQ3JpdGljb0VkaXRhcigpew0KICAgICAgICAgICAgaWYodGhpcy5zdG9ja0NyaXRpY29FZGl0YXIgPCAxKXsNCiAgICAgICAgICAgICAgICB0aGlzLnN0b2NrQ3JpdGljb0VkaXRhciA9IDE7DQogICAgICAgICAgICB9DQogICAgICAgIH0sDQogICAgICAgIGNvdW50RG93bkNoYW5nZWQoZGlzbWlzc0NvdW50RG93bikgew0KICAgICAgICAgICAgdGhpcy5kaXNtaXNzQ291bnREb3duID0gZGlzbWlzc0NvdW50RG93bg0KICAgICAgICB9LA0KICAgICAgICBzaG93QWxlcnQoKSB7DQogICAgICAgICAgICB0aGlzLmRpc21pc3NDb3VudERvd24gPSB0aGlzLmRpc21pc3NTZWNzDQogICAgICAgIH0sDQogICAgICAgIGFsZXJ0YShjb2xvciwgdGV4dG8pew0KICAgICAgICAgICAgdGhpcy5tZW5zYWplLmNvbG9yID0gY29sb3I7DQogICAgICAgICAgICB0aGlzLm1lbnNhamUudGV4dG8gPSB0ZXh0bzsNCiAgICAgICAgICAgIHRoaXMuc2hvd0FsZXJ0KCk7DQogICAgICAgIH0sDQogICAgfSwNCiAgICBhc3luYyBtb3VudGVkKCl7DQogICAgICBhd2FpdCAkKCcjcHJvZHVjdG9zJykuRGF0YVRhYmxlKCkNCiAgICAgIGF3YWl0ICQoJyNoaXN0b3JpYWwnKS5EYXRhVGFibGUoKQ0KICAgICAgYXdhaXQgJCgnI2RldGFsbGVIaXN0JykuRGF0YVRhYmxlKCkNCiAgICAgIGF3YWl0ICQoJyNvcmRlbmVzJykuRGF0YVRhYmxlKCkNCiAgICAgIGF3YWl0ICQoJyNkZXRhbGxlT3JkZW4nKS5EYXRhVGFibGUoKQ0KICAgIH0sDQogICAgd2F0Y2g6IHsNCiAgICAgIHByb2R1Y3Rvcyh2YWwpIHsNCiAgICAgICAgaWYodGhpcy5wZXN0YcOxYSA9PT0gJ3Byb2R1Y3Rvcycpew0KICAgICAgICAgICQoJyNwcm9kdWN0b3MnKS5EYXRhVGFibGUoKS5kZXN0cm95KCk7DQogICAgICAgICAgdGhpcy4kbmV4dFRpY2soKCk9PiB7DQogICAgICAgICAgICAkKCcjcHJvZHVjdG9zJykuRGF0YVRhYmxlKCkNCiAgICAgICAgICB9KTsNCiAgICAgICAgfQ0KICAgICAgfSwNCiAgICAgIGhpc3RvcmlhbCh2YWwpIHsNCiAgICAgICAgaWYodGhpcy5wZXN0YcOxYSA9PT0gJ2hpc3RvcmlhbCcpew0KICAgICAgICAgICQoJyNoaXN0b3JpYWwnKS5EYXRhVGFibGUoKS5kZXN0cm95KCk7DQogICAgICAgICAgdGhpcy4kbmV4dFRpY2soKCk9PiB7DQogICAgICAgICAgICAkKCcjaGlzdG9yaWFsJykuRGF0YVRhYmxlKCkNCiAgICAgICAgICB9KTsNCiAgICAgICAgfQ0KICAgICAgfSwNCiAgICAgIGRldGFsbGVIaXN0KHZhbCkgew0KICAgICAgICBpZih0aGlzLnBlc3Rhw7FhID09PSAnZGV0YWxsZUhpc3QnKXsNCiAgICAgICAgICAkKCcjZGV0YWxsZUhpc3QnKS5EYXRhVGFibGUoKS5kZXN0cm95KCk7DQogICAgICAgICAgdGhpcy4kbmV4dFRpY2soKCk9PiB7DQogICAgICAgICAgICAkKCcjZGV0YWxsZUhpc3QnKS5EYXRhVGFibGUoKQ0KICAgICAgICAgIH0pOw0KICAgICAgICB9DQogICAgICB9LA0KICAgICAgb3JkZW5lcyh2YWwpIHsNCiAgICAgICAgaWYodGhpcy5wZXN0YcOxYSA9PT0gJ29yZGVuZXMnKXsNCiAgICAgICAgICAkKCcjb3JkZW5lcycpLkRhdGFUYWJsZSgpLmRlc3Ryb3koKTsNCiAgICAgICAgICB0aGlzLiRuZXh0VGljaygoKT0+IHsNCiAgICAgICAgICAgICQoJyNvcmRlbmVzJykuRGF0YVRhYmxlKCkNCiAgICAgICAgICB9KTsNCiAgICAgICAgfQ0KICAgICAgfSwNCiAgICAgIGRldGFsbGVPcmRlbih2YWwpIHsNCiAgICAgICAgaWYodGhpcy5wZXN0YcOxYSA9PT0gJ2RldGFsbGVPcmRlbicpew0KICAgICAgICAgICQoJyNkZXRhbGxlT3JkZW4nKS5EYXRhVGFibGUoKS5kZXN0cm95KCk7DQogICAgICAgICAgdGhpcy4kbmV4dFRpY2soKCk9PiB7DQogICAgICAgICAgICAkKCcjZGV0YWxsZU9yZGVuJykuRGF0YVRhYmxlKCkNCiAgICAgICAgICB9KTsNCiAgICAgICAgfQ0KICAgICAgfQ0KICAgIH0NCn0NCg=="},{"version":3,"sources":["productos.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA0SA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"productos.vue","sourceRoot":"src/views","sourcesContent":["<template>\r\n    <div class=\"menu\">\r\n        <navbar />\r\n        <b-container><br>\r\n            <h1 class=\"mt-2\">Administración de Productos</h1>\r\n            <h2 class=\"mt-1\" v-if=\"pestaña === 'productos'\"> Listado de Productos</h2>\r\n            <h2 class=\"mt-1\" v-if=\"pestaña === 'historial'\"> Historial de entrega de insumos del producto: {{codigoBarra}}</h2>\r\n            <h2 class=\"mt-1\" v-if=\"pestaña === 'ordenes'\"> Ordenes de compra del producto: {{codigoBarra}}</h2> \r\n            <h2 class=\"mt-1\" v-if=\"pestaña === 'detalleHist'\"> Detalle del MEMO N°: {{memoHist}}</h2>\r\n            <h2 class=\"mt-1\" v-if=\"pestaña === 'detalleOrden'\"> Detalle de la orden de compra numero: {{histo}}</h2>\r\n            <b-alert\r\n              :show=\"dismissCountDown\"\r\n              dismissible\r\n              :variant=\"mensaje.color\"\r\n              @dismissed=\"dismissCountDown=0\"\r\n              @dismiss-count-down=\"countDownChanged\"\r\n              >\r\n              {{mensaje.texto}}\r\n            </b-alert>\r\n            <div class=\"mt-1\">\r\n                <b-row v-if=\"pestaña === 'productos'\">\r\n                    <b-col cols=\"12\" md=\"12\">\r\n                        <b-button @click=\"ActAgregar()\" class=\"btn-success btn boton mt-5\">Agregar Producto</b-button>\r\n                    </b-col>\r\n                </b-row>\r\n                <table class=\"table table-striped table-dark table-responsive-lg table-responsive-md\" id=\"productos\" v-if=\"pestaña === 'productos'\">\r\n                  <thead>\r\n                    <tr>\r\n                      <th scope=\"col\">Productos</th>\r\n                      <th scope=\"col\">Codigo de Barras</th>\r\n                      <th scope=\"col\">Marca</th>\r\n                      <th scope=\"col\">Stock DirecReg</th>\r\n                      <th scope=\"col\">Edición</th>\r\n                      <th scope=\"col\">Entregas</th>\r\n                      <th scope=\"col\">Ordenes</th>\r\n                    </tr>\r\n                  </thead>\r\n                  <tbody>\r\n                    <tr v-for=\"i in productos\" :key=\"i.codigoBarra\">\r\n                      <td scope=\"row\">{{i.nomProducto}}</td>\r\n                      <td>{{i.codigoBarra}}</td>\r\n                      <td>{{i.marca}}</td>\r\n                      <td>{{i.stock}}</td>\r\n                      <td><b-button @click=\"Acteditar(i.codigoBarra)\" class=\"btn-warning btn-sm\" style=\"border-color: white;\">Editar</b-button></td>\r\n                      <td><b-button @click=\"ActHist(i.codigoBarra)\" class=\"btn btn-sm\" style=\"border-color: white;\">Historial</b-button></td>\r\n                      <td><b-button @click=\"ActOrdenes(i.codigoBarra)\" class=\"btn-success btn-sm\" style=\"border-color: white;\">Ordenes</b-button></td>\r\n                    </tr>\r\n                  </tbody>\r\n                </table>\r\n                <br v-if=\"pestaña === 'productos'\"><div class=\"mb-1\">\r\n                    <b-button @click=\"exportar(1)\" v-if=\"pestaña === 'productos'\" class=\"btn-success boton\">Exportar</b-button>\r\n                </div>\r\n                <div class=\"card mt-5\" v-if=\"pestaña === 'agregar'\" style=\"border-color: black;\">\r\n                    <div class=\"card-header\">\r\n                        <h2>Agrega un Nuevo Producto</h2>\r\n                    </div>\r\n                    <div class=\"card-body\">\r\n                        <b-row class=\"mt-2\">\r\n                            <b-col cols=\"12\" md=\"3\">\r\n                                <label for=\"exampleInputEmail1\" class=\"form-label\">Codigo de Barras</label>\r\n                                <input type=\"text\" class=\"form-control\" aria-describedby=\"emailHelp\" v-model=\"$v.codigoAgregar.$model\">\r\n                                <p class=\"text-danger\" v-if=\"$v.codigoAgregar.$error\" >El codigo del Producto es Requerido</p>\r\n                            </b-col>\r\n                            <b-col cols=\"12\" md=\"4\">\r\n                                <label for=\"exampleInputEmail1\" class=\"form-label\">Nombre del Producto</label>\r\n                                <input type=\"text\" class=\"form-control\" aria-describedby=\"emailHelp\" v-model=\"$v.productoAgregar.$model\">\r\n                                <p class=\"text-danger\" v-if=\"$v.productoAgregar.$error\" >El nombre del Producto es Requerido</p>\r\n                            </b-col>\r\n                            <b-col cols=\"12\" md=\"3\">\r\n                                <label for=\"exampleInputEmail1\" class=\"form-label\">Marca del Producto</label>\r\n                                <input type=\"text\" class=\"form-control\" aria-describedby=\"emailHelp\" v-model=\"$v.marcaAgregar.$model\">\r\n                                <p class=\"text-danger\" v-if=\"$v.marcaAgregar.$error\" >La marca del Producto es Requerida</p>\r\n                            </b-col>\r\n                            <b-col cols=\"12\" md=\"2\">\r\n                                <label for=\"exampleInputEmail1\" class=\"form-label\">Stock Reg.</label>\r\n                                <input type=\"number\" @change=\"cantMinStockReg(stockAgrega)\" class=\"form-control\" aria-describedby=\"emailHelp\" v-model=\"$v.stockAgrega.$model\">\r\n                                <p class=\"text-danger\" v-if=\"$v.stockAgrega.$error\" >El stock regional del Producto es Requerida</p>\r\n                            </b-col>\r\n                        </b-row>\r\n                        <b-row class=\"mt-4\">\r\n                            <b-col cols=\"12\" md=\"12\">\r\n                                <label for=\"exampleInputEmail1\" class=\"form-label\">Descripcion del Productos</label>\r\n                                <textarea type=\"text\" class=\"form-control\" id=\"exampleInputEmail1\" aria-describedby=\"emailHelp\" v-model=\"$v.descripcionAgrega.$model\"></textarea>\r\n                                <p class=\"text-danger\" v-if=\"$v.descripcionAgrega.$error\" >La descripción del Producto es Requerida</p>\r\n                            </b-col>\r\n                        </b-row>\r\n                        <b-row class=\"mt-4\" v-for=\"i in bodegas\" :key=\"i.nomBodega\">\r\n                            <b-col cols=\"12\" md=\"4\">\r\n                                <label for=\"exampleInputEmail1\" class=\"form-label\">Nombre Bodega</label>\r\n                                <input disabled type=\"text\" class=\"form-control\" aria-describedby=\"emailHelp\" v-model=\"i.nomBodega\">\r\n                            </b-col>\r\n                            <b-col cols=\"12\" md=\"4\">\r\n                                <label for=\"exampleInputEmail1\" class=\"form-label\">Stock de Bodega</label>\r\n                                <input type=\"number\" @change=\"cantMin(i.nomBodega)\" class=\"form-control\" v-model=\"i.stockBodega\">\r\n                            </b-col>\r\n                            <b-col cols=\"12\" md=\"4\">\r\n                                <label for=\"exampleInputEmail1\" class=\"form-label\">Stock Critico</label>\r\n                                <input type=\"number\" @change=\"cantMinCritico(i.nomBodega)\" class=\"form-control\" v-model=\"i.stockCritico\">\r\n                            </b-col>\r\n                        </b-row>\r\n                        <b-row class=\"mt-5\">\r\n                            <b-col cols=\"12\" md=\"6\">\r\n                                <b-button @click=\"Volver()\" class=\"btn btn-sm boton\">Volver al listado</b-button>\r\n                            </b-col>\r\n                            <b-col cols=\"12\" md=\"6\">\r\n                                <b-button @click=\"AgregarProducto()\" class=\"btn-success btn-sm boton\">Agregar Producto</b-button>\r\n                            </b-col>\r\n                        </b-row>\r\n                        <b-row class=\"mt-5\">\r\n                            <b-col cols=\"12\" md=\"12\">\r\n                                <img src=\"../assets/no-imagen.png\" id=\"imagenAgrega\" width=\"40%\">\r\n                            </b-col>\r\n                        </b-row>\r\n                        <b-row class=\"mt-5\">\r\n                            <b-col cols=\"12\" md=\"12\">\r\n                                <input @change=\"CargaImagen($event)\" id=\"fileInput\" class=\"form-control\" type=\"file\" accept=\"image/*\">\r\n                            </b-col>\r\n                        </b-row>\r\n                    </div>\r\n                </div>\r\n                <div class=\"card mt-5\" v-if=\"pestaña === 'editar'\" style=\"border-color: black;\">\r\n                    <div class=\"card-header\">\r\n                        <h2>Editar un Producto</h2>\r\n                    </div>\r\n                    <div class=\"card-body\">\r\n                        <b-row class=\"mt-2\">\r\n                            <b-col cols=\"12\" md=\"4\">\r\n                                <label for=\"exampleInputEmail1\" class=\"form-label\">Nombre del Producto</label>\r\n                                <input type=\"text\" class=\"form-control\" aria-describedby=\"emailHelp\" v-model=\"$v.producto.$model\">\r\n                                <p class=\"text-danger\" v-if=\"$v.producto.$error\" >El nombre del Producto es Requerido</p>\r\n                            </b-col>\r\n                            <b-col cols=\"12\" md=\"4\">\r\n                                <label for=\"exampleInputEmail1\" class=\"form-label\">Marca del Producto</label>\r\n                                <input type=\"text\" class=\"form-control\" aria-describedby=\"emailHelp\" v-model=\"$v.marca.$model\">\r\n                                <p class=\"text-danger\" v-if=\"$v.marca.$error\" >La marca del Producto es Requerida</p>\r\n                            </b-col>\r\n                            <b-col cols=\"12\" md=\"4\">\r\n                                <label for=\"exampleInputEmail1\" class=\"form-label\">Stock DIREG</label>\r\n                                <input type=\"number\" @change=\"cantMinStockReg(stockREG)\" class=\"form-control\" aria-describedby=\"emailHelp\" v-model=\"$v.stockREG.$model\">\r\n                                <p class=\"text-danger\" v-if=\"$v.stockREG.$error\" >La marca del Producto es Requerida</p>\r\n                            </b-col>\r\n                        </b-row>\r\n                        <b-row class=\"mt-4\">\r\n                            <b-col cols=\"12\" md=\"12\">\r\n                                <label for=\"exampleInputEmail1\" class=\"form-label\">Descripcion del Productos</label>\r\n                                <textarea type=\"text\" class=\"form-control\" id=\"exampleInputEmail1\" aria-describedby=\"emailHelp\" v-model=\"$v.descripcion.$model\"></textarea>\r\n                                <p class=\"text-danger\" v-if=\"$v.descripcion.$error\" >La descripción del Producto es Requerida</p>\r\n                            </b-col>\r\n                        </b-row>\r\n                        <b-row class=\"mt-4\">\r\n                            <b-col cols=\"12\" md=\"4\">\r\n                                <b-button @click=\"EditarStockCritico()\" class=\"btn-warning btn-sm boton-margin\">Editar Stock Critico</b-button>\r\n                            </b-col>\r\n                            <b-col cols=\"12\" md=\"4\">\r\n                                <label for=\"exampleInputEmail1\" class=\"form-label\">Nombre de la Bodega</label>\r\n                                <select class=\"form-control\" @change=\"recargarCritico()\" v-model=\"nomBodegaEditar\">\r\n                                    <option v-for=\"i in bod\" :key=\"i.nomBodega\" :value=\"i.nomBodega\">{{i.nomBodega}}</option>\r\n                                </select>\r\n                            </b-col>\r\n                            <b-col cols=\"12\" md=\"4\">\r\n                                <label for=\"exampleInputEmail1\" class=\"form-label\">Stock Critico</label>\r\n                                <input type=\"number\" @change=\"cantMinCriticoEditar(stockCriticoEditar)\" class=\"form-control\" v-model=\"stockCriticoEditar\">\r\n                            </b-col>\r\n                        </b-row>\r\n                        <b-row class=\"mt-5\">\r\n                            <b-col cols=\"12\" md=\"6\">\r\n                                <b-button @click=\"Volver()\" class=\"btn btn-sm boton\">Volver al listado</b-button>\r\n                            </b-col>\r\n                            <b-col cols=\"12\" md=\"6\">\r\n                                <b-button @click=\"EditarProducto()\" class=\"btn-success btn-sm boton\">Editar Producto</b-button>\r\n                            </b-col>\r\n                        </b-row>\r\n                        <b-row class=\"mt-5\">\r\n                            <b-col cols=\"12\" md=\"12\">\r\n                                <img :src=\"imagenDir\" id=\"imagenEdita\" width=\"40%\">\r\n                            </b-col>\r\n                        </b-row>\r\n                        <b-row class=\"mt-5\">\r\n                            <b-col cols=\"12\" md=\"12\">\r\n                                <input @change=\"CargaImagenEditar($event)\" id=\"fileInputEdita\" class=\"form-control\" type=\"file\" accept=\"image/*\">\r\n                            </b-col>\r\n                        </b-row>\r\n                    </div>\r\n                </div>\r\n                <b-row v-if=\"pestaña === 'historial'\">\r\n                    <b-col cols=\"12\" md=\"12\">\r\n                        <b-button @click=\"Volver()\" class=\"btn btn boton mt-5\">Volver a Productos</b-button>\r\n                    </b-col>\r\n                </b-row>\r\n                <table class=\"table table-striped table-dark table-responsive-lg table-responsive-md\" id=\"historial\" v-if=\"pestaña === 'historial'\">\r\n                  <thead>\r\n                    <tr>\r\n                      <th scope=\"col\">MEMO</th>\r\n                      <th scope=\"col\">Funcionario</th>\r\n                      <th scope=\"col\">Dependencia</th>\r\n                      <th scope=\"col\">Fecha</th>\r\n                      <th scope=\"col\">Ver al Detalle</th>\r\n                    </tr>\r\n                  </thead>\r\n                  <tbody>\r\n                    <tr v-for=\"i in historial\" :key=\"i.corrHistorial\">\r\n                      <td scope=\"row\">{{i.memo}}</td>\r\n                      <td>{{i.nomFuncionario}}</td>\r\n                      <td>{{i.nomDependencia}}</td>\r\n                      <td>{{i.fecha}}</td>\r\n                      <td><b-button @click=\"ActDHist(i.corrHistorial, i.memo)\" class=\"btn-success btn-sm\" style=\"border-color: white;\">Detalles</b-button></td>\r\n                    </tr>\r\n                  </tbody>\r\n                </table>\r\n                <br v-if=\"pestaña === 'historial'\"><div class=\"mb-1\">\r\n                    <b-button @click=\"exportar(2)\" v-if=\"pestaña === 'historial'\" class=\"btn-success boton\">Exportar</b-button>\r\n                </div>\r\n                <b-row v-if=\"pestaña === 'detalleHist'\">\r\n                    <b-col cols=\"12\" md=\"12\">\r\n                        <b-button @click=\"VolverHist()\" class=\"btn btn boton mt-5\">Volver al Historial</b-button>\r\n                    </b-col>\r\n                </b-row>\r\n                <table class=\"table table-striped table-dark table-responsive-lg table-responsive-md\" id=\"detalleHist\" v-if=\"pestaña === 'detalleHist'\">\r\n                  <thead>\r\n                    <tr>\r\n                      <th scope=\"col\">ID</th>\r\n                      <th scope=\"col\">Codigo Barra</th>\r\n                      <th scope=\"col\">Producto</th>\r\n                      <th scope=\"col\">Cantidad</th>\r\n                    </tr>\r\n                  </thead>\r\n                  <tbody>\r\n                    <tr v-for=\"i in detalleHist\" :key=\"i.corrHistProd\">\r\n                      <td scope=\"row\">{{i.corrHistProd}}</td>\r\n                      <td>{{i.codigoBarra}}</td>\r\n                      <td>{{i.nomProducto}}</td>\r\n                      <td>{{i.cantidad}}</td>\r\n                    </tr>\r\n                  </tbody>\r\n                </table>\r\n                <br v-if=\"pestaña === 'detalleHist'\"><div class=\"mb-1\">\r\n                    <b-button @click=\"exportar(3)\" v-if=\"pestaña === 'detalleHist'\" class=\"btn-success boton\">Exportar</b-button>\r\n                </div>\r\n                <b-row v-if=\"pestaña === 'ordenes'\">\r\n                    <b-col cols=\"12\" md=\"12\">\r\n                        <b-button @click=\"Volver()\" class=\"btn btn boton mt-5\">Volver a Productos</b-button>\r\n                    </b-col>\r\n                </b-row>\r\n                <table class=\"table table-striped table-dark table-responsive-lg table-responsive-md\" id=\"ordenes\" v-if=\"pestaña === 'ordenes'\">\r\n                  <thead>\r\n                    <tr>\r\n                      <th scope=\"col\">Codigo de Orden</th>\r\n                      <th scope=\"col\">Bodega</th>\r\n                      <th scope=\"col\">Proveedor</th>\r\n                      <th scope=\"col\">Fecha</th>\r\n                      <th scope=\"col\">Ver al Detalle</th>\r\n                    </tr>\r\n                  </thead>\r\n                  <tbody>\r\n                    <tr v-for=\"i in ordenes\" :key=\"i.codOrden\">\r\n                      <td scope=\"row\">{{i.codOrden}}</td>\r\n                      <td>{{i.nomBodega}}</td>\r\n                      <td>{{i.proveedor}}</td>\r\n                      <td>{{i.fecha}}</td>\r\n                      <td><b-button @click=\"ActDOrdenes(i.codOrden)\" class=\"btn-success btn-sm\" style=\"border-color: white;\">Detalles</b-button></td>\r\n                    </tr>\r\n                  </tbody>\r\n                </table>\r\n                <br v-if=\"pestaña === 'ordenes'\"><div class=\"mb-1\">\r\n                    <b-button @click=\"exportar(4)\" v-if=\"pestaña === 'ordenes'\" class=\"btn-success boton\">Exportar</b-button>\r\n                </div>\r\n                <b-row v-if=\"pestaña === 'detalleOrden'\">\r\n                    <b-col cols=\"12\" md=\"12\">\r\n                        <b-button @click=\"VolverORD()\" class=\"btn btn boton mt-5\">Volver al Historial</b-button>\r\n                    </b-col>\r\n                </b-row>\r\n                <table class=\"table table-striped table-dark table-responsive-lg table-responsive-md\" id=\"detalleOrden\" v-if=\"pestaña === 'detalleOrden'\">\r\n                  <thead>\r\n                    <tr>\r\n                      <th scope=\"col\">ID</th>\r\n                      <th scope=\"col\">Codigo Barra</th>\r\n                      <th scope=\"col\">Producto</th>\r\n                      <th scope=\"col\">Cantidad</th>\r\n                    </tr>\r\n                  </thead>\r\n                  <tbody>\r\n                    <tr v-for=\"i in detalleOrden\" :key=\"i.corrOrdenProducto\">\r\n                      <td scope=\"row\">{{i.corrOrdenProducto}}</td>\r\n                      <td>{{i.codigoBarra}}</td>\r\n                      <td>{{i.nomProducto}}</td>\r\n                      <td>{{i.cantidad}}</td>\r\n                    </tr>\r\n                  </tbody>\r\n                </table>\r\n                <br v-if=\"pestaña === 'detalleOrden'\"><div class=\"mb-1\">\r\n                    <b-button @click=\"exportar(5)\" v-if=\"pestaña === 'detalleOrden'\" class=\"btn-success boton\">Exportar</b-button>\r\n                </div>\r\n            </div>\r\n        </b-container>\r\n    </div>\r\n</template>\r\n\r\n<script>\r\nimport navbar from \"../components/navbar.vue\";\r\nimport { required, minLength} from \"vuelidate/lib/validators\";\r\n\r\nimport 'jquery/dist/jquery.min.js';\r\nimport 'bootstrap/dist/css/bootstrap.min.css';\r\nimport \"datatables.net-dt/js/dataTables.dataTables\"\r\nimport \"datatables.net-dt/css/jquery.dataTables.min.css\"\r\nimport $ from 'jquery'; \r\n\r\nimport { mapState } from 'vuex'\r\n\r\n//EXCEL eXportación\r\nimport * as XLSX from 'xlsx/xlsx.mjs';\r\n/* load 'fs' for readFile and writeFile support */\r\nimport * as fs from 'fs';\r\nXLSX.set_fs(fs);\r\n/* load the codepage support library for extended support with older formats  */\r\nimport * as cpexcel from 'xlsx/dist/cpexcel.full.mjs';\r\nXLSX.set_cptable(cpexcel);\r\n\r\nexport default {\r\n    name: \"about\",\r\n    components: {\r\n        navbar,\r\n    },\r\n    data() {\r\n      return {\r\n        //Datos para agregar un nuevo memo (historial) con v-model\r\n        pestaña: 'productos',\r\n        productos: [],\r\n        historial: [],\r\n        ordenes: [],\r\n        bodegas: [],\r\n        bod: [],\r\n        detalleHist: [],\r\n        detalleOrden: [],\r\n        imagenes: [],\r\n        //Variables del AGREGAR\r\n        codigoAgregar: '',\r\n        productoAgregar: '',\r\n        marcaAgregar: '',\r\n        descripcionAgrega: '',\r\n        stockAgrega: 0,\r\n        imagen: null,\r\n        //Variable para reconocer un producto\r\n        codigoBarra: '',\r\n        //Variables para EDITAR\r\n        imagenDir: '',\r\n        producto: '',\r\n        marca: '',\r\n        descripcion: '',\r\n        stockBodegaEditar: 0,\r\n        stockCriticoEditar: 0,\r\n        nomBodegaEditar: '',\r\n        stockREG: 0,\r\n        //Variable Historial\r\n        histo: 0,\r\n        memoHist: 0,\r\n        //Variables de las alertas\r\n        dismissSecs: 5,\r\n        dismissCountDown: 0,\r\n        mensaje: {color: '', texto: ''}\r\n      }\r\n    },\r\n    validations:{\r\n        //Validaciones de los input\r\n        codigoAgregar:{required},\r\n        productoAgregar:{required},\r\n        marcaAgregar:{required},\r\n        descripcionAgrega:{required},\r\n        producto:{required},\r\n        marca:{required},\r\n        descripcion:{required},\r\n        stockAgrega: {required},\r\n        stockREG: {required}\r\n    },\r\n    computed: {\r\n      ...mapState(['token', 'usuarioDB'])\r\n    },\r\n    created(){\r\n        this.cargarProductos();\r\n        this.cargarBodegas();\r\n        this.obtenerImagenes();\r\n    },\r\n    methods:{\r\n        //Función que permite exportar las tablas en excel\r\n        exportar(num) {\r\n            let data = [];\r\n            var filename = \"planilla\";\r\n            if(num === 1){\r\n                var arreglado = this.productos.map( item => { \r\n                    return { CodigoBarra: item.codigoBarra , Producto : item.nomProducto, Marca : item.marca, Stock : item.stock }; \r\n                });\r\n                data = XLSX.utils.json_to_sheet(arreglado);\r\n                filename = 'Productos'\r\n            }else if(num === 2){\r\n                var arreglado = this.historial.map( item => { \r\n                    return { Memo: item.memo , Funcionario : item.nomFuncionario, Dependencia : item.nomDependencia, Fecha : item.fecha}; \r\n                });\r\n                data = XLSX.utils.json_to_sheet(arreglado);\r\n                if(arreglado[0]){\r\n                    filename = 'Historial' + this.codigoBarra\r\n                }else{\r\n                    filename = 'Historial'\r\n                }\r\n            }else if(num === 3){\r\n                var arreglado = this.detalleHist.map( item => { \r\n                    return { Producto: item.nomProducto , CodigoBarra : item.codigoBarra, Cantidad : item.cantidad }; \r\n                });\r\n                data = XLSX.utils.json_to_sheet(arreglado);\r\n                filename = 'Memo' + this.memoHist\r\n            }else if(num === 4){\r\n                var arreglado = this.ordenes.map( item => { \r\n                    return { Código: item.codOrden , Bodega : item.nomBodega, Proveedor : item.proveedor, Fecha : item.fecha }; \r\n                });\r\n                data = XLSX.utils.json_to_sheet(arreglado);\r\n                if(arreglado[0]){\r\n                    filename = 'Ordenes' + this.codigoBarra\r\n                }else{\r\n                    filename = 'Ordenes'\r\n                }\r\n            }else if(num === 5){\r\n                var arreglado = this.detalleOrden.map( item => { \r\n                    return { Producto: item.nomProducto , CodigoBarra : item.codigoBarra, Cantidad : item.cantidad }; \r\n                });\r\n                data = XLSX.utils.json_to_sheet(arreglado);\r\n                filename = 'Orden' + this.histo\r\n            }\r\n            const workbook = XLSX.utils.book_new();\r\n            XLSX.utils.book_append_sheet(workbook, data, filename);\r\n            XLSX.writeFile(workbook, `${filename}.xlsx`);\r\n        },\r\n        //Funcion que carga todos los productos del sistema\r\n        cargarProductos(){\r\n            let config = {\r\n                headers: {\r\n                    token: this.token\r\n                }\r\n            }\r\n            this.axios.get('api/obtenerProductosSolos', config)\r\n            .then(res => {\r\n                this.productos = res.data;\r\n            })\r\n            .catch(e => {\r\n                this.alerta('danger', 'No se han podido cargar los Productos');\r\n            })\r\n        },\r\n        //Función que se encarga de obtener todas las bodegas existentes\r\n        cargarBodegas(){\r\n            let config = {\r\n                headers: {\r\n                    token: this.token\r\n                }\r\n            }\r\n            this.axios.get('api/obtenerbodegas', config)\r\n            .then(res => {\r\n                this.bod = res.data;\r\n                this.nomBodegaEditar = res.data[0].nomBodega\r\n                this.llenarBodegas();\r\n            })\r\n            .catch(e => {\r\n                this.alerta('danger', 'No se han podido cargar las bodegas');\r\n            })\r\n        },\r\n        //Función que se encarga de establecer el stock de estas bodegas\r\n        llenarBodegas(){\r\n            for(var i = 0; i < this.bod.length; i++){\r\n                this.bodegas.push({nomBodega: this.bod[i].nomBodega, stockBodega: 1, stockCritico: 1})\r\n            }\r\n        },\r\n        //Función para regresar a la vista inicial\r\n        Volver(){\r\n            $('#historial').DataTable().destroy();\r\n            $('#ordenes').DataTable().destroy()\r\n            this.imagen = null;\r\n            this.pestaña = 'productos'\r\n            this.cargarProductos();\r\n            this.obtenerImagenes();\r\n            $('#productos').DataTable()\r\n        },\r\n        VolverHist(){\r\n            $('#detalleHist').DataTable().destroy();\r\n            this.pestaña = 'historial'\r\n            this.cargarHistorial();\r\n            $('#historial').DataTable()\r\n        },\r\n        VolverORD(){\r\n            $('#detalleOrden').DataTable().destroy();\r\n            this.pestaña = 'ordenes'\r\n            this.cargarOrdenes();\r\n            $('#ordenes').DataTable()\r\n        },\r\n        //Funciones de activacion de vistas\r\n        ActAgregar(){\r\n            this.pestaña = 'agregar'\r\n            $('#productos').DataTable().destroy();\r\n        },\r\n        Acteditar(codigoBarra){\r\n            this.codigoBarra = codigoBarra\r\n            this.pestaña = 'editar'\r\n            $('#productos').DataTable().destroy();\r\n            this.ObtenerDatos();\r\n            for(var i = 0; i<this.imagenes.length; i++){\r\n                if(this.imagenes[i].split('.')[0] == this.codigoBarra){\r\n                    this.imagenDir = 'http://localhost:3000/dbImagenes/' + this.imagenes[i]\r\n                    break;\r\n                }else{\r\n                    this.imagenDir = 'http://localhost:3000/dbImagenes/no-imagen.png'\r\n                }\r\n            }\r\n        },\r\n        ActHist(codigoBarra){\r\n            this.codigoBarra = codigoBarra\r\n            $('#productos').DataTable().destroy();\r\n            this.pestaña = 'historial'\r\n            $('#historial').DataTable()\r\n            this.cargarHistorial();\r\n        },\r\n        ActOrdenes(codigoBarra){\r\n            this.codigoBarra = codigoBarra\r\n            this.pestaña = 'ordenes'\r\n            $('#productos').DataTable().destroy();\r\n            $('#ordenes').DataTable()\r\n            this.cargarOrdenes();\r\n        },\r\n        ActDHist(corrHistorial, memo){\r\n            this.histo = corrHistorial;\r\n            this.memoHist = memo;\r\n            this.pestaña = 'detalleHist'\r\n            $('#historial').DataTable().destroy();\r\n            $('#detalleHist').DataTable()\r\n            this.cargarDetalleHistorial();\r\n        },\r\n        ActDOrdenes(codOrden){\r\n            this.histo = codOrden;\r\n            this.pestaña = 'detalleOrden';\r\n            $('#ordenes').DataTable().destroy();\r\n            $('#detalleOrden').DataTable()\r\n            this.cargarDetalleOrden();\r\n        },\r\n        //Funciones de AGREGAR\r\n        //Funcion para cargar una imagen y mostrar su preview\r\n        CargaImagen(e){\r\n            this.imagen = e.target.files[0]\r\n            var imagenAgrega = document.getElementById('imagenAgrega');\r\n            imagenAgrega.src = URL.createObjectURL(e.target.files[0]);\r\n        },\r\n        //Función que se encarga de agregar un producto al sistema\r\n        AgregarProducto(){\r\n            this.$v.$touch()\r\n            if(!this.$v.codigoAgregar.$invalid && !this.$v.productoAgregar.$invalid && !this.$v.marcaAgregar.$invalid && !this.$v.descripcionAgrega.$invalid){\r\n                let config = {\r\n                    headers: {\r\n                        token: this.token\r\n                    }\r\n                }\r\n                this.axios.post('api/agregaProducto', {codigoBarra: this.codigoAgregar, nomProducto: this.productoAgregar, marca: this.marcaAgregar, descripcion: this.descripcionAgrega, stock: this.stockAgrega}, config)\r\n                    .then(res => {\r\n                    if(!res.data.sqlMessage){\r\n                        if(this.imagen !== null){\r\n                            this.subirImagen();\r\n                        }\r\n                        this.agregarStock();\r\n                    }else{\r\n                        Swal.fire({\r\n                        icon: 'error',\r\n                        title: 'Oops...',\r\n                        text: 'No se ha creado este nuevo tipo',\r\n                        footer: 'Codigo o nombre de Producto ya utilizado'\r\n                        })\r\n                    }\r\n                    })\r\n                    .catch(e => {\r\n                    Swal.fire({\r\n                        icon: 'error',\r\n                        title: 'Oops...',\r\n                        text: 'No se ha creado este nuevo tipo',\r\n                        footer: 'Posible error del sistema'\r\n                    })\r\n                    })\r\n            }else{\r\n                this.alerta('danger', 'Porfavor ingrese todos los campos requeridos');\r\n            }\r\n        },\r\n        //SUBIR IMAGEN del nuevo producto\r\n        subirImagen(){\r\n            if(this.imagen !== null){\r\n                const formData = new FormData()\r\n                formData.append('image', this.imagen)\r\n                let config = {\r\n                    headers: {\r\n                        token: this.token\r\n                    }\r\n                }\r\n                this.axios.put(`api/subirImagen/${this.codigoAgregar}`, formData, config)\r\n                    .then(res => {\r\n                        this.alerta('success', 'Se ha logrado subir la imagen')\r\n                    })\r\n                    .catch(e => {\r\n                        this.alerta('danger', 'No se ha logrado subir la imagen')\r\n                    })\r\n            }\r\n        },\r\n        //Funcion que agrega el stock del Producto\r\n        agregarStock(){\r\n            for(var i = 0; i < this.bodegas.length; i++){\r\n                let config = {\r\n                    headers: {\r\n                        token: this.token\r\n                    }\r\n                }\r\n                this.axios.post('api/agregaProductoBodega', {stockBodega: this.bodegas[i].stockBodega, stockCritico: this.bodegas[i].stockCritico, nomBodega: this.bodegas[i].nomBodega, codigoBarra: this.codigoAgregar}, config)\r\n                    .then(res => {\r\n                    if(!res.data.sqlMessage){\r\n                        Swal.fire(\r\n                            'Se ha generado un nuevo Producto',\r\n                            'Seleccione Ok para continuar',\r\n                            'success'\r\n                        )\r\n                    }else{\r\n                        Swal.fire({\r\n                        icon: 'error',\r\n                        title: 'Oops...',\r\n                        text: 'No se ha logrado ingresar los stock del producto',\r\n                        footer: 'Error con el ingreso de Stocks'\r\n                        })\r\n                    }\r\n                    })\r\n                    .catch(e => {\r\n                        Swal.fire({\r\n                            icon: 'error',\r\n                            title: 'Oops...',\r\n                            text: 'No se ha creado este nuevo tipo',\r\n                            footer: 'Posible error del sistema'\r\n                        })\r\n                    })\r\n            }\r\n        },\r\n        //indicamos la minima cantidad para el stock regional\r\n        cantMinStockReg(stock){\r\n            if(stock < 0 || stock === ''){\r\n                this.stockAgrega = 0\r\n                this.stockREG = 0\r\n            }\r\n        },\r\n        //Indicamos el minimo de cantidad para que no este vacio o sea menor a 0\r\n        cantMin(nomBodega){\r\n            const index = this.bodegas.findIndex(item => item.nomBodega == nomBodega);\r\n            if(this.bodegas[index].stockBodega < 0){\r\n                this.bodegas[index].stockBodega = 0;\r\n            }\r\n            if(this.bodegas[index].stockBodega < this.bodegas[index].stockCritico){\r\n                this.alerta('danger', 'El stock que esta ingresando es menor al critico para la bodega ' + this.bodegas[index].nomBodega)\r\n            }\r\n        },\r\n        //Indicamos el minimo de cantidad para que no este vacio o sea menor a 0\r\n        cantMinCritico(nomBodega){\r\n            const index = this.bodegas.findIndex(item => item.nomBodega == nomBodega);\r\n            if(this.bodegas[index].stockCritico < 0){\r\n                this.bodegas[index].stockCritico = 0;\r\n            }\r\n            if(this.bodegas[index].stockCritico > this.bodegas[index].stockBodega ){\r\n                this.alerta('danger', 'El stock que esta ingresando es menor al critico para la bodega ' + this.bodegas[index].nomBodega)\r\n            }\r\n        },\r\n        //FUNCIONES PARA EDITAR\r\n        //Función que permite obtener los datos directamente de la tabla\r\n        ObtenerDatos(){\r\n            const index = this.productos.findIndex(item => item.codigoBarra == this.codigoBarra);\r\n            var data = this.productos[index]\r\n            this.producto = data.nomProducto\r\n            this.marca = data.marca\r\n            this.descripcion = data.descripcion\r\n            this.stockREG = data.stock\r\n            this.ObtenerStockCritico();\r\n        },\r\n        //Función que obtiene una imagen\r\n        obtenerImagenes(){\r\n            let config = {\r\n                headers: {\r\n                    token: this.token\r\n                }\r\n            }\r\n             this.axios.get(`api/obtenerImagen`, config)\r\n                .then(res => {\r\n                    this.imagenes = res.data\r\n                })\r\n                .catch(e => {\r\n                    this.alerta('danger', 'Este producto no posee imagen o no ha cargado correctamente')\r\n                })\r\n\r\n        },\r\n        //Función que recarga la función siguiente paraq un stock Critico\r\n        recargarCritico(){\r\n            this.ObtenerStockCritico();\r\n        },\r\n        //Función que obtiene el stockCritio actual del producto según la bodega seleccionada en el editar\r\n        ObtenerStockCritico(){\r\n            let config = {\r\n                headers: {\r\n                    token: this.token\r\n                }\r\n            }\r\n            this.axios.get(`api/obtenerProductoBodega/${this.codigoBarra}/${this.nomBodegaEditar}`, config)\r\n            .then(res => {\r\n                this.stockCriticoEditar = res.data[0].stockCritico;\r\n            })\r\n            .catch(e => {\r\n                this.alerta('danger', 'No se ha logrado cargar el stock Critico');\r\n            })\r\n        },\r\n        CargaImagenEditar(e){\r\n            this.imagen = e.target.files[0]\r\n            var imagenEdita = document.getElementById('imagenEdita');\r\n            imagenEdita.src = URL.createObjectURL(e.target.files[0]);\r\n        },\r\n        //Editar un producto \r\n        EditarProducto(){\r\n            this.$v.$touch()\r\n            if(!this.$v.producto.$invalid && !this.$v.marca.$invalid && !this.$v.descripcion.$invalid){\r\n                let config = {\r\n                    headers: {\r\n                        token: this.token\r\n                    }\r\n                }\r\n                this.axios.put(`api/editarProducto/${this.codigoBarra}`, {nomProducto: this.producto, marca: this.marca, descripcion: this.descripcion, stock: this.stockREG}, config)\r\n                    .then(res => {\r\n                    if(!res.data.sqlMessage){\r\n                        if(this.imagen !== null){\r\n                            this.subirImagenEditar();\r\n                            this.obtenerImagenes();\r\n                        }\r\n                        Swal.fire(\r\n                        'Se ha editado al producto satisfactoriamente',\r\n                        'Seleccione Ok para continuar',\r\n                        'success'\r\n                        )\r\n                    }else{\r\n                        Swal.fire({\r\n                        icon: 'error',\r\n                        title: 'Oops...',\r\n                        text: 'No se ha actualizado el producto',\r\n                        footer: 'Dato repetido asegurese de que el codigo o nombre no existan'\r\n                        })\r\n                    }\r\n                    })\r\n                    .catch(e => {\r\n                    this.alerta('danger', 'No se ha logrado editar al producto');\r\n                })\r\n            }else{\r\n                this.alerta('danger', 'Rellene todos los campos para editar el Producto')\r\n            }\r\n        },\r\n        //SUBIR IMAGEN de un producto existente\r\n        subirImagenEditar(){\r\n            if(this.imagen !== null){\r\n                const formData = new FormData()\r\n                formData.append('image', this.imagen)\r\n                let config = {\r\n                    headers: {\r\n                        token: this.token\r\n                    }\r\n                }\r\n                this.axios.put(`api/subirImagen/${this.codigoBarra}`, formData, config)\r\n                    .then(res => {\r\n                        this.alerta('success', 'Se ha logrado subir la imagen')\r\n                    })\r\n                    .catch(e => {\r\n                        this.alerta('danger', 'No se ha logrado subir la imagen')\r\n                    })\r\n            }\r\n        },\r\n        //EDITAR EL STOCK CRITICO\r\n        EditarStockCritico(){\r\n            let config = {\r\n                headers: {\r\n                    token: this.token\r\n                }\r\n            }\r\n            this.axios.put(`api/editarstockCritico/${this.codigoBarra}`, {stockCritico: this.stockCriticoEditar, nomBodega: this.nomBodegaEditar}, config)\r\n                .then(res => {\r\n                if(!res.data.sqlMessage){\r\n                    Swal.fire(\r\n                    'Se ha editado el stock critico del producto de forma satisfactoria',\r\n                    'Seleccione Ok para continuar',\r\n                    'success'\r\n                    )\r\n                }else{\r\n                    Swal.fire({\r\n                    icon: 'error',\r\n                    title: 'Oops...',\r\n                    text: 'No se ha actualizado el producto',\r\n                    footer: 'Dato repetido asegurese de que el codigo o nombre no existan'\r\n                    })\r\n                }\r\n                })\r\n                .catch(e => {\r\n                this.alerta('danger', 'No se ha logrado editar al producto');\r\n            })\r\n        },\r\n        //CARGAR DATOS DE TABLA HISTORIAL\r\n        cargarHistorial(){\r\n            let config = {\r\n                headers: {\r\n                    token: this.token\r\n                }\r\n            }\r\n            this.axios.get(`api/obtenerHistorialesProducto/${this.codigoBarra}`, config)\r\n            .then(res => {\r\n                this.historial = res.data;\r\n            })\r\n            .catch(e => {\r\n                this.alerta('danger', 'No se ha logrado cargar el historial');\r\n            })\r\n        },\r\n        //Caragar tabla de ordenes de compra de un producto\r\n        cargarOrdenes(){\r\n            let config = {\r\n                headers: {\r\n                    token: this.token\r\n                }\r\n            }\r\n            this.axios.get(`api/obtenerOrdenesProducto/${this.codigoBarra}`, config)\r\n            .then(res => {\r\n                this.ordenes = res.data;\r\n            })\r\n            .catch(e => {\r\n                this.alerta('danger', 'No se ha logrado cargar la orden');\r\n            })\r\n        },\r\n        //Cargar los detalles de un historial\r\n        cargarDetalleHistorial(){\r\n            let config = {\r\n                headers: {\r\n                    token: this.token\r\n                }\r\n            }\r\n            this.axios.get(`api/obtenerHistorial/${this.histo}`, config)\r\n            .then(res => {\r\n                this.detalleHist = res.data;\r\n            })\r\n            .catch(e => {\r\n                this.alerta('danger', 'No se ha logrado cargar el detalle del historial');\r\n            })\r\n        },\r\n        //Cargar los detalles de una orden\r\n        cargarDetalleOrden(){\r\n            let config = {\r\n                headers: {\r\n                    token: this.token\r\n                }\r\n            }\r\n            this.axios.get(`api/obtenerOrden/${this.histo}`, config)\r\n            .then(res => {\r\n                this.detalleOrden = res.data;\r\n            })\r\n            .catch(e => {\r\n                this.alerta('danger', 'No se ha logrado cargar el detalle de una orden');\r\n            })\r\n        },\r\n        //Al cambiar el input del stock critico evitar que sea menos que 1 y alertar si es inferior al stock de bodega\r\n        cantMinCriticoEditar(){\r\n            if(this.stockCriticoEditar < 1){\r\n                this.stockCriticoEditar = 1;\r\n            }\r\n        },\r\n        countDownChanged(dismissCountDown) {\r\n            this.dismissCountDown = dismissCountDown\r\n        },\r\n        showAlert() {\r\n            this.dismissCountDown = this.dismissSecs\r\n        },\r\n        alerta(color, texto){\r\n            this.mensaje.color = color;\r\n            this.mensaje.texto = texto;\r\n            this.showAlert();\r\n        },\r\n    },\r\n    async mounted(){\r\n      await $('#productos').DataTable()\r\n      await $('#historial').DataTable()\r\n      await $('#detalleHist').DataTable()\r\n      await $('#ordenes').DataTable()\r\n      await $('#detalleOrden').DataTable()\r\n    },\r\n    watch: {\r\n      productos(val) {\r\n        if(this.pestaña === 'productos'){\r\n          $('#productos').DataTable().destroy();\r\n          this.$nextTick(()=> {\r\n            $('#productos').DataTable()\r\n          });\r\n        }\r\n      },\r\n      historial(val) {\r\n        if(this.pestaña === 'historial'){\r\n          $('#historial').DataTable().destroy();\r\n          this.$nextTick(()=> {\r\n            $('#historial').DataTable()\r\n          });\r\n        }\r\n      },\r\n      detalleHist(val) {\r\n        if(this.pestaña === 'detalleHist'){\r\n          $('#detalleHist').DataTable().destroy();\r\n          this.$nextTick(()=> {\r\n            $('#detalleHist').DataTable()\r\n          });\r\n        }\r\n      },\r\n      ordenes(val) {\r\n        if(this.pestaña === 'ordenes'){\r\n          $('#ordenes').DataTable().destroy();\r\n          this.$nextTick(()=> {\r\n            $('#ordenes').DataTable()\r\n          });\r\n        }\r\n      },\r\n      detalleOrden(val) {\r\n        if(this.pestaña === 'detalleOrden'){\r\n          $('#detalleOrden').DataTable().destroy();\r\n          this.$nextTick(()=> {\r\n            $('#detalleOrden').DataTable()\r\n          });\r\n        }\r\n      }\r\n    }\r\n}\r\n</script>\r\n\r\n<style>\r\n    body{\r\n        background-color: #eee;\r\n    }\r\n\r\n    .texto{\r\n        text-align: center;\r\n    }\r\n\r\n    .imagen{\r\n        width: 50%;\r\n    }\r\n    .boton{\r\n        margin: 20px;\r\n        width: 90%;\r\n        border-radius: 12px !important;\r\n        border-color: black !important;\r\n    }\r\n    .boton-grande{\r\n        width: 90%;\r\n        margin: 1px;\r\n        border-radius: 12px !important;\r\n        border-color: black !important;\r\n    }\r\n    .boton-margin{\r\n        width: 90%;\r\n        margin: 35px;\r\n        border-radius: 12px !important;\r\n        border-color: black !important;\r\n    }\r\n</style>"]}]}