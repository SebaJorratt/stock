{"remainingRequest":"D:\\inventarioInformatico\\stock\\stock\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!D:\\inventarioInformatico\\stock\\stock\\src\\views\\insumos.vue?vue&type=script&lang=js&","dependencies":[{"path":"D:\\inventarioInformatico\\stock\\stock\\src\\views\\insumos.vue","mtime":1646312137699},{"path":"D:\\inventarioInformatico\\stock\\stock\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1645539054355},{"path":"D:\\inventarioInformatico\\stock\\stock\\node_modules\\babel-loader\\lib\\index.js","mtime":1645539058368},{"path":"D:\\inventarioInformatico\\stock\\stock\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1645539054355},{"path":"D:\\inventarioInformatico\\stock\\stock\\node_modules\\vue-loader\\lib\\index.js","mtime":1645539059241}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KDQppbXBvcnQgbmF2YmFyIGZyb20gIi4uL2NvbXBvbmVudHMvbmF2YmFyLnZ1ZSI7DQppbXBvcnQgeyByZXF1aXJlZCwgbWluTGVuZ3RofSBmcm9tICJ2dWVsaWRhdGUvbGliL3ZhbGlkYXRvcnMiOw0KZXhwb3J0IGRlZmF1bHQgew0KICAgIG5hbWU6ICJpbnN1bW9zIiwNCiAgICBjb21wb25lbnRzOiB7DQogICAgICAgIG5hdmJhciwNCiAgICB9LA0KICAgICBkYXRhKCkgew0KICAgICAgcmV0dXJuIHsNCiAgICAgICAgLy9EYXRvcyBwYXJhIGFncmVnYXIgdW4gbnVldm8gbWVtbyAoaGlzdG9yaWFsKSBjb24gdi1tb2RlbA0KICAgICAgICBjYW50aWRhZFByb2R1Y3RvczogMSwNCiAgICAgICAgcHJvZHVjdG9zOiBbe2tleTogMSwgbm9tUHJvZHVjdG86ICcnLCBjYW50aWRhZDogMCwgc3RvY2s6IDAsIGNvZGlnb0JhcnJhOiAnJ31dLA0KICAgICAgICBwcm9kczogW10sDQogICAgICAgIHByb2R1Y3RvQW50OiAnJywNCiAgICAgICAgLy9WYXJpYWJsZSBwYXJhIGxhcyBkZXBlbmRlbmNpYXMgDQogICAgICAgIGRlcGVuZGVuY2lhczogW10sDQogICAgICAgIGRlcGVuZGVuY2lhOiAnJywNCiAgICAgICAgLy9WYXJpYWJsZXMgcGFyYSBpbmRpY2FyIGFsIGZ1bmNpb25hcmlvDQogICAgICAgIGZ1bmNpb25hcmlvczogW10sDQogICAgICAgIGZ1bmNpb25hcmlvOiAnJywNCiAgICAgICAgLy9WYXJpYWJsZXMgZGUgbGFzIGFsZXJ0YXMNCiAgICAgICAgZGlzbWlzc1NlY3M6IDUsDQogICAgICAgIGRpc21pc3NDb3VudERvd246IDAsDQogICAgICAgIG1lbnNhamU6IHtjb2xvcjogJycsIHRleHRvOiAnJ30sDQogICAgICAgIC8vVkFSSUFCTEVTIERFIERFVEFMTEVTDQogICAgICAgIGNvZGlnbzogJycsDQogICAgICAgIHByb2R1Y3RvOiAnJywNCiAgICAgICAgbWFyY2E6ICcnLA0KICAgICAgICBkZXNjcmlwY2lvbjogJycsDQogICAgICB9DQogICAgfSwNCiAgICB2YWxpZGF0aW9uczp7DQogICAgICAvL1ZhbGlkYWNpb25lcyBkZSBsb3MgaW5wdXQNCiAgICAgIGRlcGVuZGVuY2lhOiB7cmVxdWlyZWR9DQogICAgfSwNCiAgICBjcmVhdGVkKCl7DQogICAgICAgIHRoaXMuY2FyZ2FyUHJvZHVjdG9zKHRydWUpOw0KICAgICAgICB0aGlzLmNhcmdhckRlcGVuZGVuY2lhcygpOw0KICAgICAgICB0aGlzLmNhcmdhckZ1bmNpb25hcmlvcygpOw0KICAgIH0sDQogICAgbWV0aG9kczp7DQogICAgICAgIC8vTWV0b2RvIHF1ZSBDYXJnYSB0b2RvcyBsb3MgcHJvZHVjdG9zIGRlbCBzaXN0ZW1hDQogICAgICAgIGNhcmdhclByb2R1Y3RvcyhwcmltZXJhKXsNCiAgICAgICAgICAgIHRoaXMuYXhpb3MuZ2V0KCdhcGkvb2J0ZW5lclByb2R1Y3RvcycpDQogICAgICAgICAgICAudGhlbihyZXMgPT4gew0KICAgICAgICAgICAgICAgIHRoaXMucHJvZHMgPSByZXMuZGF0YTsNCiAgICAgICAgICAgICAgICBpZihwcmltZXJhKXsNCiAgICAgICAgICAgICAgICAgICAgdGhpcy5wcm9kdWN0b3NbMF0ubm9tUHJvZHVjdG8gPSB0aGlzLnByb2RzWzBdLm5vbVByb2R1Y3RvDQogICAgICAgICAgICAgICAgICAgIHRoaXMucHJvZHVjdG9zWzBdLnN0b2NrID0gdGhpcy5wcm9kc1swXS5zdG9jaw0KICAgICAgICAgICAgICAgICAgICB0aGlzLnByb2R1Y3Rvc1swXS5jb2RpZ29CYXJyYSA9IHRoaXMucHJvZHNbMF0uY29kaWdvQmFycmENCiAgICAgICAgICAgICAgICB9DQogICAgICAgICAgICB9KQ0KICAgICAgICAgICAgLmNhdGNoKGUgPT4gew0KICAgICAgICAgICAgICAgIHRoaXMuYWxlcnRhKCdkYW5nZXInLCAnTm8gc2UgaGFuIHBvZGlkbyBjYXJnYXIgbG9zIFByb2R1Y3RvcycpOw0KICAgICAgICAgICAgfSkNCiAgICAgICAgfSwNCiAgICAgICAgLy9GdW5jacOzbiBxdWUgc2UgZW5jYXJnYXIgZGUgY2FyZ2FyIGxhcyBkZXBlbmRlbmNpYXMNCiAgICAgICAgY2FyZ2FyRGVwZW5kZW5jaWFzKCl7DQogICAgICAgICAgICB0aGlzLmF4aW9zLmdldCgnYXBpL29idGVuZXJEZXBlbmRlbmNpYXMnKQ0KICAgICAgICAgICAgLnRoZW4ocmVzID0+IHsNCiAgICAgICAgICAgICAgICB0aGlzLmRlcGVuZGVuY2lhcyA9IHJlcy5kYXRhOw0KICAgICAgICAgICAgICAgIHRoaXMuZGVwZW5kZW5jaWEgPSB0aGlzLmRlcGVuZGVuY2lhc1swXS5ub21EZXBlbmRlbmNpYTsNCiAgICAgICAgICAgIH0pDQogICAgICAgICAgICAuY2F0Y2goZSA9PiB7DQogICAgICAgICAgICAgICAgdGhpcy5hbGVydGEoJ2RhbmdlcicsICdObyBzZSBoYW4gcG9kaWRvIGNhcmdhciBsYXMgRGVwZW5kZW5jaWFzJyk7DQogICAgICAgICAgICB9KQ0KICAgICAgICB9LA0KICAgICAgICAvL0Z1bmNpw7NuIHF1ZSBzZSBlbmNhcmdhciBkZSBjYXJnYXIgbGFzIGRlcGVuZGVuY2lhcw0KICAgICAgICBjYXJnYXJGdW5jaW9uYXJpb3MoKXsNCiAgICAgICAgICAgIHRoaXMuYXhpb3MuZ2V0KCdhcGkvb2J0ZW5lckZ1bmNpb25hcmlvcycpDQogICAgICAgICAgICAudGhlbihyZXMgPT4gew0KICAgICAgICAgICAgICAgIHRoaXMuZnVuY2lvbmFyaW9zID0gcmVzLmRhdGE7DQogICAgICAgICAgICAgICAgdGhpcy5mdW5jaW9uYXJpbyA9IHRoaXMuZnVuY2lvbmFyaW9zWzBdLm5vbUZ1bmNpb25hcmlvOw0KICAgICAgICAgICAgfSkNCiAgICAgICAgICAgIC5jYXRjaChlID0+IHsNCiAgICAgICAgICAgICAgICB0aGlzLmFsZXJ0YSgnZGFuZ2VyJywgJ05vIHNlIGhhbiBwb2RpZG8gY2FyZ2FyIGxvcyBGdW5jaW9uYXJpb3MnKTsNCiAgICAgICAgICAgIH0pDQogICAgICAgIH0sDQogICAgICAgIC8vRnVuY2nDs24gcXVlIHRlIHBlcm1pdGUgZ3VhcmRhciBlbCB2YWxvciBhbnRlcmlvciBkZWwgc2VsZWN0DQogICAgICAgIGFudGVyaW9yKG5vbVByb2R1Y3RvKXsNCiAgICAgICAgICAgIHRoaXMucHJvZHVjdG9BbnQgPSBub21Qcm9kdWN0bw0KICAgICAgICB9LA0KICAgICAgICAvL1NpIHNlIGNhbWJpYSB1biBwcm9kdWN0byBzZSBkZWJlIGJ1c2NhciBzdSBzdG9jaw0KICAgICAgICBjYW1iaW9Qcm9kdWN0byhub21Qcm9kdWN0bywga2V5KXsNCiAgICAgICAgICAgIC8qDQogICAgICAgICAgICAgICAgY29uc3QgaW5kZXggPSB0aGlzLnByb2RzLmZpbmRJbmRleChpdGVtID0+IGl0ZW0ubm9tUHJvZHVjdG8gPT0gbm9tUHJvZHVjdG8pOw0KICAgICAgICAgICAgICAgIGNvbnN0IGluZGV4MiA9IHRoaXMucHJvZHVjdG9zLmZpbmRJbmRleChpdGVtID0+IGl0ZW0ua2V5ID09IGtleSk7DQogICAgICAgICAgICAgICAgdGhpcy5wcm9kdWN0b3NbaW5kZXgyXS5zdG9jayA9IHRoaXMucHJvZHNbaW5kZXhdLnN0b2NrDQogICAgICAgICAgICAgICAgdGhpcy5wcm9kdWN0b3NbaW5kZXgyXS5jb2RpZ29CYXJyYSA9IHRoaXMucHJvZHNbaW5kZXhdLmNvZGlnb0JhcnJhDQogICAgICAgICAgICAgICAgaWYodGhpcy5wcm9kdWN0b3NbaW5kZXgyXS5jYW50aWRhZCA+IHRoaXMucHJvZHVjdG9zW2luZGV4Ml0uc3RvY2spew0KICAgICAgICAgICAgICAgICAgICB0aGlzLnByb2R1Y3Rvc1tpbmRleDJdLmNhbnRpZGFkID0gdGhpcy5wcm9kdWN0b3NbaW5kZXgyXS5zdG9jazsNCiAgICAgICAgICAgICAgICB9DQogICAgICAgICAgICAqLw0KICAgICAgICAgICAgY29uc3QgaW5kZXhBY3R1YWwgPSB0aGlzLnByb2R1Y3Rvcy5maW5kSW5kZXgoaXRlbSA9PiBpdGVtLmtleSA9PSBrZXkpOw0KICAgICAgICAgICAgdmFyIHJlcGV0aWRvID0gZmFsc2U7DQogICAgICAgICAgICBmb3IodmFyIGkgPSAwOyBpPHRoaXMucHJvZHVjdG9zLmxlbmd0aDsgaSsrKXsNCiAgICAgICAgICAgICAgICBpZihpICE9IGluZGV4QWN0dWFsKXsNCiAgICAgICAgICAgICAgICAgICAgaWYodGhpcy5wcm9kdWN0b3NbaV0ubm9tUHJvZHVjdG8gPT09IHRoaXMucHJvZHVjdG9zW2luZGV4QWN0dWFsXS5ub21Qcm9kdWN0byl7DQogICAgICAgICAgICAgICAgICAgICAgICByZXBldGlkbyA9IHRydWU7DQogICAgICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgICAgICB9DQogICAgICAgICAgICB9DQogICAgICAgICAgICBpZighcmVwZXRpZG8pew0KICAgICAgICAgICAgICAgIGNvbnN0IGluZGV4ID0gdGhpcy5wcm9kcy5maW5kSW5kZXgoaXRlbSA9PiBpdGVtLm5vbVByb2R1Y3RvID09IG5vbVByb2R1Y3RvKTsNCiAgICAgICAgICAgICAgICBjb25zdCBpbmRleDIgPSB0aGlzLnByb2R1Y3Rvcy5maW5kSW5kZXgoaXRlbSA9PiBpdGVtLmtleSA9PSBrZXkpOw0KICAgICAgICAgICAgICAgIHRoaXMucHJvZHVjdG9zW2luZGV4Ml0uc3RvY2sgPSB0aGlzLnByb2RzW2luZGV4XS5zdG9jaw0KICAgICAgICAgICAgICAgIHRoaXMucHJvZHVjdG9zW2luZGV4Ml0uY29kaWdvQmFycmEgPSB0aGlzLnByb2RzW2luZGV4XS5jb2RpZ29CYXJyYQ0KICAgICAgICAgICAgICAgIGlmKHRoaXMucHJvZHVjdG9zW2luZGV4Ml0uY2FudGlkYWQgPiB0aGlzLnByb2R1Y3Rvc1tpbmRleDJdLnN0b2NrKXsNCiAgICAgICAgICAgICAgICAgICAgdGhpcy5wcm9kdWN0b3NbaW5kZXgyXS5jYW50aWRhZCA9IHRoaXMucHJvZHVjdG9zW2luZGV4Ml0uc3RvY2s7DQogICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgfWVsc2V7DQogICAgICAgICAgICAgICAgdGhpcy5wcm9kdWN0b3NbaW5kZXhBY3R1YWxdLm5vbVByb2R1Y3RvID0gdGhpcy5wcm9kdWN0b0FudA0KICAgICAgICAgICAgICAgIA0KICAgICAgICAgICAgfQ0KICAgICAgICB9LA0KICAgICAgICAvL1NlIGFncmVnYSB1biBudWV2byBwb3NpYmxlIHByb2R1Y3RvDQogICAgICAgIC8vQURFTUFTIGRlYmUgcmV2aXNhciBzaSBsb3MgdmFsb3JlcyBhbnRlcmlvcmVzIGVzdGFuIHJlcGV0aWRvcw0KICAgICAgICBhZ3JlZ2FQcm9kdWN0bygpew0KICAgICAgICAgICAgdGhpcy5jYW50aWRhZFByb2R1Y3RvcysrDQogICAgICAgICAgICB2YXIgYSA9IDA7DQogICAgICAgICAgICB0aGlzLnByb2R1Y3Rvcy5wdXNoKHtrZXk6IHRoaXMuY2FudGlkYWRQcm9kdWN0b3MsIG5vbVByb2R1Y3RvOiAnJywgY2FudGlkYWQ6IDAsIHN0b2NrOiAwfSk7DQogICAgICAgICAgICB3aGlsZShhIDwgdGhpcy5wcm9kcy5sZW5ndGgpew0KICAgICAgICAgICAgICAgIGNvbnN0IGluZGV4ID0gdGhpcy5wcm9kdWN0b3MuZmluZEluZGV4KGl0ZW0gPT4gaXRlbS5ub21Qcm9kdWN0byA9PSB0aGlzLnByb2RzW2FdLm5vbVByb2R1Y3RvKTsNCiAgICAgICAgICAgICAgICBpZihpbmRleCAhPSAtMSl7DQogICAgICAgICAgICAgICAgICAgIGErKzsNCiAgICAgICAgICAgICAgICB9ZWxzZXsNCiAgICAgICAgICAgICAgICAgICAgdGhpcy5wcm9kdWN0b3NbdGhpcy5wcm9kdWN0b3MubGVuZ3RoLTFdLm5vbVByb2R1Y3RvID0gdGhpcy5wcm9kc1thXS5ub21Qcm9kdWN0bw0KICAgICAgICAgICAgICAgICAgICB0aGlzLnByb2R1Y3Rvc1t0aGlzLnByb2R1Y3Rvcy5sZW5ndGgtMV0uc3RvY2sgPSB0aGlzLnByb2RzW2FdLnN0b2NrDQogICAgICAgICAgICAgICAgICAgIHRoaXMucHJvZHVjdG9zW3RoaXMucHJvZHVjdG9zLmxlbmd0aC0xXS5jb2RpZ29CYXJyYSA9IHRoaXMucHJvZHNbYV0uY29kaWdvQmFycmENCiAgICAgICAgICAgICAgICAgICAgdGhpcy5wcm9kdWN0b3NbdGhpcy5wcm9kdWN0b3MubGVuZ3RoLTFdLmtleSA9IHRoaXMuY2FudGlkYWRQcm9kdWN0b3MNCiAgICAgICAgICAgICAgICAgICAgYnJlYWs7DQogICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgICAgIGlmKGEgPT0gdGhpcy5wcm9kcy5sZW5ndGgpew0KICAgICAgICAgICAgICAgICAgICB0aGlzLmNhbnRpZGFkUHJvZHVjdG9zLS07DQogICAgICAgICAgICAgICAgICAgIHRoaXMucHJvZHVjdG9zLnNwbGljZSgtMSk7DQogICAgICAgICAgICAgICAgICAgIHRoaXMuYWxlcnRhKCdkYW5nZXInLCdObyBleGlzdGVuIG1hcyBwcm9kdWN0b3MgcGFyYSBhZ3JlZ2FyJykNCiAgICAgICAgICAgICAgICAgICAgYnJlYWs7DQogICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgfSANCiAgICAgICAgfSwNCiAgICAgICAgLy9TZSBxdWl0YSB1biBQcm9kdWN0byBkZSBsb3MgcXVlIHNlcsOhbiBhZ3JlZ2Fkb3MgYWwgc2lzdGVtYQ0KICAgICAgICBxdWl0YXJQcm9kdWN0bygpew0KICAgICAgICAgICAgaWYodGhpcy5wcm9kdWN0b3MubGVuZ3RoID4gMSl7DQogICAgICAgICAgICAgICAgdGhpcy5jYW50aWRhZFByb2R1Y3Rvcy0tOw0KICAgICAgICAgICAgICAgIHRoaXMucHJvZHVjdG9zLnNwbGljZSgtMSk7DQogICAgICAgICAgICB9ZWxzZXsNCiAgICAgICAgICAgICAgICB0aGlzLmFsZXJ0YSgnZGFuZ2VyJywgJ1RpZW5lIHF1ZSBleGlzdGlyIGFsIG1lbm9zIDEgcHJvZHVjdG8nKTsNCiAgICAgICAgICAgIH0NCiAgICAgICAgfSwNCiAgICAgICAgLy9JbmRpY2Ftb3MgZWwgbWluaW1vIGRlIGNhbnRpZGFkIHBhcmEgcXVlIG5vIGVzdGUgdmFjaW8gbyBzZWEgbWVub3IgYSAwDQogICAgICAgIGNhbnRNaW4ocHJvZHVjdG8pew0KICAgICAgICAgICAgY29uc3QgaW5kZXggPSB0aGlzLnByb2R1Y3Rvcy5maW5kSW5kZXgoaXRlbSA9PiBpdGVtLmtleSA9PSBwcm9kdWN0byk7DQogICAgICAgICAgICBpZih0aGlzLnByb2R1Y3Rvc1tpbmRleF0uY2FudGlkYWQgPCAxKXsNCiAgICAgICAgICAgICAgICB0aGlzLnByb2R1Y3Rvc1tpbmRleF0uY2FudGlkYWQgPSAxOw0KICAgICAgICAgICAgfSBlbHNlIGlmKHRoaXMucHJvZHVjdG9zW2luZGV4XS5jYW50aWRhZCA+IHRoaXMucHJvZHVjdG9zW2luZGV4XS5zdG9jayl7DQogICAgICAgICAgICAgICAgdGhpcy5wcm9kdWN0b3NbaW5kZXhdLmNhbnRpZGFkID0gdGhpcy5wcm9kdWN0b3NbaW5kZXhdLnN0b2NrOw0KICAgICAgICAgICAgfQ0KICAgICAgICB9LA0KICAgICAgICBjb252ZXJ0RGF0ZU15c3FsKHlvdXJEYXRlKXsNCiAgICAgICAgICAgIHlvdXJEYXRlLnRvSVNPU3RyaW5nKCkuc3BsaXQoJ1QnKVswXQ0KICAgICAgICAgICAgY29uc3Qgb2Zmc2V0ID0geW91ckRhdGUuZ2V0VGltZXpvbmVPZmZzZXQoKQ0KICAgICAgICAgICAgeW91ckRhdGUgPSBuZXcgRGF0ZSh5b3VyRGF0ZS5nZXRUaW1lKCkgLSAob2Zmc2V0KjYwKjEwMDApKQ0KICAgICAgICAgICAgcmV0dXJuIHlvdXJEYXRlLnRvSVNPU3RyaW5nKCkuc3BsaXQoJ1QnKVswXQ0KCQl9LA0KICAgICAgICAvL0Z1bmNpw7NuIHF1ZSBwZXJtaXRlIGdlbmVyYXIgdW4gaW5mb3JtZSB5IGVudmlhciBsb3MgZGF0b3MgZGUgdW4gbnVldm8gSElTVE9SSUFMIA0KICAgICAgICBnZW5lcmFySW5mb3JtZSgpew0KICAgICAgICAgICAgdmFyIGR0ID0gdGhpcy5jb252ZXJ0RGF0ZU15c3FsKG5ldyBEYXRlKCkpDQogICAgICAgICAgICBzd2FsLmZpcmUoew0KICAgICAgICAgICAgdGl0bGU6ICfCv1NlZ3VybyBxdWUgZGVzZWEgYXNpZ25hciBlc3RlIGVxdWlwbyBhbCB1c3VhcmlvICcgKyB0aGlzLmR1ZcOxbyArICc/JywNCiAgICAgICAgICAgIHR5cGU6ICd3YXJuaW5nJywNCiAgICAgICAgICAgIHNob3dDYW5jZWxCdXR0b246IHRydWUsDQogICAgICAgICAgICBjb25maXJtQnV0dG9uQ29sb3I6ICcjMzA4NWQ2JywNCiAgICAgICAgICAgIGNhbmNlbEJ1dHRvbkNvbG9yOiAnI2QzMycsDQogICAgICAgICAgICBjYW5jZWxCdXR0b25UZXh0OiAnQ2FuY2VsYXInLA0KICAgICAgICAgICAgY29uZmlybUJ1dHRvblRleHQ6ICfCoVNpIScNCiAgICAgICAgICAgIH0pLnRoZW4oKHJlc3VsdCkgPT4gew0KICAgICAgICAgICAgICAgIGlmIChyZXN1bHQudmFsdWUpIHsNCiAgICAgICAgICAgICAgICAgICAgdGhpcy5heGlvcy5wb3N0KCdhcGkvYWdyZWdhSGlzdG9yaWFsJywge2ZlY2hhOiBkdCwgbm9tRnVuY2lvbmFyaW86IHRoaXMuZnVuY2lvbmFyaW8sIG5vbURlcGVuZGVuY2lhOiB0aGlzLmRlcGVuZGVuY2lhfSkNCiAgICAgICAgICAgICAgICAgICAgLnRoZW4ocmVzID0+IHsNCiAgICAgICAgICAgICAgICAgICAgaWYoIXJlcy5kYXRhLnNxbE1lc3NhZ2Upew0KICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5IaXN0b3JpYWxQcm9kdWN0bygpOw0KICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5yZXN0YXJTdG9jaygpOw0KICAgICAgICAgICAgICAgICAgICB9ZWxzZXsNCiAgICAgICAgICAgICAgICAgICAgICAgIFN3YWwuZmlyZSh7DQogICAgICAgICAgICAgICAgICAgICAgICBpY29uOiAnZXJyb3InLA0KICAgICAgICAgICAgICAgICAgICAgICAgdGl0bGU6ICdPb3BzLi4uJywNCiAgICAgICAgICAgICAgICAgICAgICAgIHRleHQ6ICdObyBzZSBoYSBsb2dyYWRvIGNyZWFyICcsDQogICAgICAgICAgICAgICAgICAgICAgICBmb290ZXI6ICdBbGfDum4gZGF0byBoYSBzaWRvIGluY29ycmVjdG8gdmVyaWZpcXVlbG9zJw0KICAgICAgICAgICAgICAgICAgICAgICAgfSkNCiAgICAgICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgICAgICAgICB9KQ0KICAgICAgICAgICAgICAgICAgICAuY2F0Y2goZSA9PiB7DQogICAgICAgICAgICAgICAgICAgIFN3YWwuZmlyZSh7DQogICAgICAgICAgICAgICAgICAgICAgICBpY29uOiAnZXJyb3InLA0KICAgICAgICAgICAgICAgICAgICAgICAgdGl0bGU6ICdPb3BzLi4uJywNCiAgICAgICAgICAgICAgICAgICAgICAgIHRleHQ6ICdObyBzZSBoYSBsb2dyYWRvIHJlZ2lzdHJhciBsYSBlbnRyZWdhIGRlIGluc3Vtb3MnLA0KICAgICAgICAgICAgICAgICAgICAgICAgZm9vdGVyOiAnUG9zaWJsZSBlcnJvciBkZWwgc2lzdGVtYScNCiAgICAgICAgICAgICAgICAgICAgfSkNCiAgICAgICAgICAgICAgICAgICAgfSkgDQogICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgfSkNCiAgICAgICAgfSwNCiAgICAgICAgLy9SZWdpc3RyYSBsb3MgcHJvZHVjdG9zIGRlIGVzdGEgRU5UUkVHQSBERSBJTlNVTU9TIA0KICAgICAgICBIaXN0b3JpYWxQcm9kdWN0bygpew0KICAgICAgICAgICAgZm9yKHZhciBpID0gMDsgaTx0aGlzLnByb2R1Y3Rvcy5sZW5ndGg7IGkrKyl7DQogICAgICAgICAgICAgICAgdGhpcy5heGlvcy5wb3N0KCdhcGkvYWdyZWdhaGlzdFByb2QnLCB7Y2FudGlkYWQ6IHRoaXMucHJvZHVjdG9zW2ldLmNhbnRpZGFkLCBjb2RpZ29CYXJyYTogdGhpcy5wcm9kdWN0b3NbaV0uY29kaWdvQmFycmF9KQ0KICAgICAgICAgICAgICAgICAgICAudGhlbihyZXMgPT4gew0KICAgICAgICAgICAgICAgICAgICBpZighcmVzLmRhdGEuc3FsTWVzc2FnZSl7DQogICAgICAgICAgICAgICAgICAgICAgICBTd2FsLmZpcmUoDQogICAgICAgICAgICAgICAgICAgICAgICAnU2UgaGEgcmVnaXN0cmFkbyBsYSBlbnRyZWdhIGRlIGluc3Vtb3MgY29ycmVjdGFtZW50ZScsDQogICAgICAgICAgICAgICAgICAgICAgICAnU2VsZWNjaW9uZSBPayBwYXJhIGNvbnRpbnVhcicsDQogICAgICAgICAgICAgICAgICAgICAgICAnc3VjY2VzcycNCiAgICAgICAgICAgICAgICAgICAgICAgICkNCiAgICAgICAgICAgICAgICAgICAgfWVsc2V7DQogICAgICAgICAgICAgICAgICAgICAgICBTd2FsLmZpcmUoew0KICAgICAgICAgICAgICAgICAgICAgICAgaWNvbjogJ2Vycm9yJywNCiAgICAgICAgICAgICAgICAgICAgICAgIHRpdGxlOiAnT29wcy4uLicsDQogICAgICAgICAgICAgICAgICAgICAgICB0ZXh0OiAnTm8gc2UgaGEgbG9ncmFkbyBjcmVhciAnLA0KICAgICAgICAgICAgICAgICAgICAgICAgZm9vdGVyOiAnQWxnw7puIGRhdG8gaGEgc2lkbyBpbmNvcnJlY3RvIHZlcmlmaXF1ZWxvcycNCiAgICAgICAgICAgICAgICAgICAgICAgIH0pDQogICAgICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgICAgICAgICAgfSkNCiAgICAgICAgICAgICAgICAgICAgLmNhdGNoKGUgPT4gew0KICAgICAgICAgICAgICAgICAgICBTd2FsLmZpcmUoew0KICAgICAgICAgICAgICAgICAgICAgICAgaWNvbjogJ2Vycm9yJywNCiAgICAgICAgICAgICAgICAgICAgICAgIHRpdGxlOiAnT29wcy4uLicsDQogICAgICAgICAgICAgICAgICAgICAgICB0ZXh0OiAnTm8gc2UgaGEgbG9ncmFkbyByZWdpc3RyYXIgbGEgZW50cmVnYSBkZSBpbnN1bW9zJywNCiAgICAgICAgICAgICAgICAgICAgICAgIGZvb3RlcjogJ1Bvc2libGUgZXJyb3IgZGVsIHNpc3RlbWEnDQogICAgICAgICAgICAgICAgICAgIH0pDQogICAgICAgICAgICAgICAgICAgIH0pDQogICAgICAgICAgICB9DQogICAgICAgIH0sDQogICAgICAgIC8vUmVzdGEgbG9zIHN0b2NrIGRlIGNhZGEgcHJvZHVjdG8NCiAgICAgICAgcmVzdGFyU3RvY2soKXsNCiAgICAgICAgICAgIGZvcih2YXIgaSA9IDA7IGk8dGhpcy5wcm9kdWN0b3MubGVuZ3RoOyBpKyspew0KICAgICAgICAgICAgICAgIHRoaXMuYXhpb3MucHV0KGBhcGkvYWN0dWFsaXphU3RvY2svJHt0aGlzLnByb2R1Y3Rvc1tpXS5jb2RpZ29CYXJyYX1gLCB7Y2FudGlkYWQ6IHRoaXMucHJvZHVjdG9zW2ldLmNhbnRpZGFkfSkNCiAgICAgICAgICAgICAgICAgICAgLnRoZW4ocmVzID0+IHsNCiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuYWN0dWFsaXphclN0b2NrKCk7DQogICAgICAgICAgICAgICAgICAgIH0pDQogICAgICAgICAgICAgICAgICAgIC5jYXRjaChlID0+IHsNCiAgICAgICAgICAgICAgICAgICAgICAgIHZhciBtZW5zYWplID0gJ1Bvc2libGUgZXJyb3IgZGVsIHNpc3RlbWEnOw0KICAgICAgICAgICAgICAgICAgICAgICAgU3dhbC5maXJlKHsNCiAgICAgICAgICAgICAgICAgICAgICAgIGljb246ICdlcnJvcicsDQogICAgICAgICAgICAgICAgICAgICAgICB0aXRsZTogJ09vcHMuLi4nLA0KICAgICAgICAgICAgICAgICAgICAgICAgdGV4dDogJ05vIHNlIGhhIGxvZ3JhZG8gcmVnaXN0cmFyIGxhIGVudHJlZ2EgZGUgaW5zdW1vcycsDQogICAgICAgICAgICAgICAgICAgICAgICBmb290ZXI6IG1lbnNhamUNCiAgICAgICAgICAgICAgICAgICAgICAgIH0pDQogICAgICAgICAgICAgICAgICAgIH0pDQogICAgICAgICAgICB9DQogICAgICAgIH0sDQogICAgICAgIC8vQWN0dWFsaXphIGxhIHBhZ2luYSB0cmFzIGdlbmVyYXIgdW5hIGVudHJlZ2EgZGUgaW5zdW1vcw0KICAgICAgICBhY3R1YWxpemFyU3RvY2soKXsNCiAgICAgICAgICAgIGZvcih2YXIgaSA9IDA7IGk8dGhpcy5wcm9kdWN0b3MubGVuZ3RoLTE7IGkrKyl7DQogICAgICAgICAgICAgICAgdGhpcy5jYW50aWRhZFByb2R1Y3Rvcy0tOw0KICAgICAgICAgICAgICAgIHRoaXMucHJvZHVjdG9zLnNwbGljZSgtMSk7DQogICAgICAgICAgICB9DQogICAgICAgICAgICB0aGlzLmNhcmdhclByb2R1Y3Rvcyh0cnVlKTsNCiAgICAgICAgfSwNCiAgICAgICAgLy9QZXJtaXRlIHZlciBsb3MgZGV0YWxsZXMgZGUgdW4gcHJvZHVjdG8geSBsb3MgY2FyZ2ENCiAgICAgICAgZGV0YWxsZXMoaWQpew0KICAgICAgICAgICAgdGhpcy5heGlvcy5nZXQoYGFwaS9vYnRlbmVyUHJvZHVjdG8vJHtpZH1gKQ0KICAgICAgICAgICAgICAgIC50aGVuKHJlcyA9PiB7DQogICAgICAgICAgICAgICAgICAgIHRoaXMuY29kaWdvID0gcmVzLmRhdGFbMF0uY29kaWdvQmFycmE7DQogICAgICAgICAgICAgICAgICAgIHRoaXMucHJvZHVjdG8gPSByZXMuZGF0YVswXS5ub21Qcm9kdWN0bzsNCiAgICAgICAgICAgICAgICAgICAgdGhpcy5tYXJjYSA9IHJlcy5kYXRhWzBdLm1hcmNhOw0KICAgICAgICAgICAgICAgICAgICB0aGlzLmRlc2NyaXBjaW9uID0gcmVzLmRhdGFbMF0uZGVzY3JpcGNpb24NCiAgICAgICAgICAgICAgICB9KQ0KICAgICAgICAgICAgICAgIC5jYXRjaChlID0+IHsNCiAgICAgICAgICAgICAgICAgICAgU3dhbC5maXJlKHsNCiAgICAgICAgICAgICAgICAgICAgaWNvbjogJ2Vycm9yJywNCiAgICAgICAgICAgICAgICAgICAgdGl0bGU6ICdPb3BzLi4uJywNCiAgICAgICAgICAgICAgICAgICAgdGV4dDogJ05vIHNlIGhhIGxvZ3JhZG8gZW5jb250cmFyIGxvcyBkYXRvcyBkZWwgZXF1aXBvJywNCiAgICAgICAgICAgICAgICAgICAgZm9vdGVyOiAnUG9zaWJsZSBlcnJvciBkZWwgc2lzdGVtYScNCiAgICAgICAgICAgICAgICAgICAgfSkNCiAgICAgICAgICAgICAgICB9KQ0KICAgICAgICB9LA0KICAgICAgICAvL0Z1bmNpb25lcyBkZSBsYSBhbGVydGENCiAgICAgICAgY291bnREb3duQ2hhbmdlZChkaXNtaXNzQ291bnREb3duKSB7DQogICAgICAgICAgICB0aGlzLmRpc21pc3NDb3VudERvd24gPSBkaXNtaXNzQ291bnREb3duDQogICAgICAgIH0sDQogICAgICAgIHNob3dBbGVydCgpIHsNCiAgICAgICAgICAgIHRoaXMuZGlzbWlzc0NvdW50RG93biA9IHRoaXMuZGlzbWlzc1NlY3MNCiAgICAgICAgfSwNCiAgICAgICAgYWxlcnRhKGNvbG9yLCB0ZXh0byl7DQogICAgICAgICAgICB0aGlzLm1lbnNhamUuY29sb3IgPSBjb2xvcjsNCiAgICAgICAgICAgIHRoaXMubWVuc2FqZS50ZXh0byA9IHRleHRvOw0KICAgICAgICAgICAgdGhpcy5zaG93QWxlcnQoKTsNCiAgICAgICAgfSwNCiAgICB9LA0KfQ0K"},{"version":3,"sources":["insumos.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA4FA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"insumos.vue","sourceRoot":"src/views","sourcesContent":["<template>\r\n    <div class=\"menu\">\r\n        <navbar />\r\n        <b-container><br>\r\n            <h1 class=\"mt-2\">Entrega de Insumos</h1>\r\n            <b-alert\r\n              :show=\"dismissCountDown\"\r\n              dismissible\r\n              :variant=\"mensaje.color\"\r\n              @dismissed=\"dismissCountDown=0\"\r\n              @dismiss-count-down=\"countDownChanged\"\r\n              >\r\n              {{mensaje.texto}}\r\n            </b-alert>\r\n            <div class=\" card mt-4\">\r\n                <div class=\"card-header\">\r\n                    <h2>Determine que productos serán enviados a la Dependencia</h2>\r\n                </div>\r\n                <div class=\"card-body\">\r\n                    <b-row class=\"mt-2\">\r\n                        <b-col cols=\"12\" md=\"4\">\r\n                            <label for=\"exampleInputEmail1\" class=\"form-label\">Dependencia</label>\r\n                            <select class=\"form-control\" v-model=\"$v.dependencia.$model\">\r\n                                <option v-for=\"i in dependencias\" :key=\"i.nomDependencia\" :value=\"i.nomDependencia\">{{i.nomDependencia}}</option>\r\n                            </select>\r\n                        </b-col>\r\n                        <b-col cols=\"12\" md=\"4\">\r\n                            <label for=\"exampleInputEmail1\" class=\"form-label\">Funcionario</label>\r\n                            <select class=\"form-control\" v-model=\"funcionario\">\r\n                                <option v-for=\"i in funcionarios\" :key=\"i.nomFuncionario\" :value=\"i.nomFuncionario\">{{i.nomFuncionario}}</option>\r\n                            </select>\r\n                        </b-col>\r\n                        <b-col cols=\"12\" md=\"2\">\r\n                            <b-button @click=\"agregaProducto()\" variant=\"primary\" class=\"btn-primary btn boton\">Agregar Producto</b-button>\r\n                        </b-col>\r\n                        <b-col cols=\"12\" md=\"2\">\r\n                            <b-button @click=\"quitarProducto()\" class=\"btn-danger btn boton\">Quitar Producto</b-button>\r\n                        </b-col>\r\n                    </b-row>\r\n                    <b-row class=\"mt-2\" v-for=\"i in productos\" :key=\"i.key\">\r\n                        <b-col cols=\"12\" md=\"4\">\r\n                            <label for=\"exampleInputEmail1\" class=\"form-label\">Producto</label>\r\n                            <select class=\"form-control\" @click=\"anterior(i.nomProducto)\" @change=\"cambioProducto(i.nomProducto, i.key)\" v-model=\"i.nomProducto\">\r\n                                <option v-for=\"i in prods\" :key=\"i.nomProducto\" :value=\"i.nomProducto\">{{i.nomProducto}}</option>\r\n                            </select>\r\n                        </b-col>\r\n                        <b-col cols=\"12\" md=\"3\">\r\n                            <label for=\"exampleInputEmail1\" class=\"form-label\">Cantidad ha agregar</label>\r\n                            <input type=\"number\" @change=\"cantMin(i.key)\" min=\"1\" class=\"form-control\" aria-describedby=\"emailHelp\" v-model=\"i.cantidad\">\r\n                        </b-col>\r\n                        <b-col cols=\"12\" md=\"3\">\r\n                            <label for=\"exampleInputEmail1\" class=\"form-label\">Stock Actual</label>\r\n                            <input disabled type=\"number\" class=\"form-control\" aria-describedby=\"emailHelp\" v-model=\"i.stock\">\r\n                        </b-col>\r\n                        <b-col cols=\"12\" md=\"2\">\r\n                            <b-button @click=\"detalles(i.codigoBarra)\" v-b-modal.modal-1 class=\"btn-success boton\">Detalles Producto</b-button>\r\n                        </b-col>\r\n                    </b-row>\r\n                    <b-row>\r\n                        <b-button @click=\"generarInforme()\" class=\"btn-success btn boton mt-5\">Generar Informe</b-button>\r\n                    </b-row>\r\n                </div>\r\n            </div>\r\n            <b-modal id=\"modal-1\" title=\"Detalles del Producto\">\r\n                <div class=\"card-body\">\r\n                        <b-row class=\"mt-2\">\r\n                            <b-col cols=\"12\" md=\"4\">\r\n                                <label for=\"exampleInputEmail1\" class=\"form-label\">Codigo de Barras</label>\r\n                                <input disabled type=\"text\" class=\"form-control\" aria-describedby=\"emailHelp\" v-model=\"codigo\">\r\n                            </b-col>\r\n                            <b-col cols=\"12\" md=\"4\">\r\n                                <label for=\"exampleInputEmail1\" class=\"form-label\">Nombre</label>\r\n                                <input disabled type=\"text\" class=\"form-control\" aria-describedby=\"emailHelp\" v-model=\"producto\">\r\n                            </b-col>\r\n                            <b-col cols=\"12\" md=\"4\">\r\n                                <label for=\"exampleInputEmail1\" class=\"form-label\">Marca</label>\r\n                                <input disabled type=\"text\" class=\"form-control\" aria-describedby=\"emailHelp\" v-model=\"marca\">\r\n                            </b-col>\r\n                        </b-row>\r\n                        <b-row class=\"mt-4\">\r\n                            <b-col cols=\"12\" md=\"12\">\r\n                                <label for=\"exampleInputEmail1\" class=\"form-label\">Descripcion</label>\r\n                                <textarea disabled type=\"text\" class=\"form-control\" id=\"exampleInputEmail1\" aria-describedby=\"emailHelp\" v-model=\"descripcion\"></textarea>\r\n                            </b-col>\r\n                        </b-row>\r\n                    </div>\r\n            </b-modal>\r\n        </b-container>\r\n    </div>\r\n</template>\r\n\r\n<script>\r\nimport navbar from \"../components/navbar.vue\";\r\nimport { required, minLength} from \"vuelidate/lib/validators\";\r\nexport default {\r\n    name: \"insumos\",\r\n    components: {\r\n        navbar,\r\n    },\r\n     data() {\r\n      return {\r\n        //Datos para agregar un nuevo memo (historial) con v-model\r\n        cantidadProductos: 1,\r\n        productos: [{key: 1, nomProducto: '', cantidad: 0, stock: 0, codigoBarra: ''}],\r\n        prods: [],\r\n        productoAnt: '',\r\n        //Variable para las dependencias \r\n        dependencias: [],\r\n        dependencia: '',\r\n        //Variables para indicar al funcionario\r\n        funcionarios: [],\r\n        funcionario: '',\r\n        //Variables de las alertas\r\n        dismissSecs: 5,\r\n        dismissCountDown: 0,\r\n        mensaje: {color: '', texto: ''},\r\n        //VARIABLES DE DETALLES\r\n        codigo: '',\r\n        producto: '',\r\n        marca: '',\r\n        descripcion: '',\r\n      }\r\n    },\r\n    validations:{\r\n      //Validaciones de los input\r\n      dependencia: {required}\r\n    },\r\n    created(){\r\n        this.cargarProductos(true);\r\n        this.cargarDependencias();\r\n        this.cargarFuncionarios();\r\n    },\r\n    methods:{\r\n        //Metodo que Carga todos los productos del sistema\r\n        cargarProductos(primera){\r\n            this.axios.get('api/obtenerProductos')\r\n            .then(res => {\r\n                this.prods = res.data;\r\n                if(primera){\r\n                    this.productos[0].nomProducto = this.prods[0].nomProducto\r\n                    this.productos[0].stock = this.prods[0].stock\r\n                    this.productos[0].codigoBarra = this.prods[0].codigoBarra\r\n                }\r\n            })\r\n            .catch(e => {\r\n                this.alerta('danger', 'No se han podido cargar los Productos');\r\n            })\r\n        },\r\n        //Función que se encargar de cargar las dependencias\r\n        cargarDependencias(){\r\n            this.axios.get('api/obtenerDependencias')\r\n            .then(res => {\r\n                this.dependencias = res.data;\r\n                this.dependencia = this.dependencias[0].nomDependencia;\r\n            })\r\n            .catch(e => {\r\n                this.alerta('danger', 'No se han podido cargar las Dependencias');\r\n            })\r\n        },\r\n        //Función que se encargar de cargar las dependencias\r\n        cargarFuncionarios(){\r\n            this.axios.get('api/obtenerFuncionarios')\r\n            .then(res => {\r\n                this.funcionarios = res.data;\r\n                this.funcionario = this.funcionarios[0].nomFuncionario;\r\n            })\r\n            .catch(e => {\r\n                this.alerta('danger', 'No se han podido cargar los Funcionarios');\r\n            })\r\n        },\r\n        //Función que te permite guardar el valor anterior del select\r\n        anterior(nomProducto){\r\n            this.productoAnt = nomProducto\r\n        },\r\n        //Si se cambia un producto se debe buscar su stock\r\n        cambioProducto(nomProducto, key){\r\n            /*\r\n                const index = this.prods.findIndex(item => item.nomProducto == nomProducto);\r\n                const index2 = this.productos.findIndex(item => item.key == key);\r\n                this.productos[index2].stock = this.prods[index].stock\r\n                this.productos[index2].codigoBarra = this.prods[index].codigoBarra\r\n                if(this.productos[index2].cantidad > this.productos[index2].stock){\r\n                    this.productos[index2].cantidad = this.productos[index2].stock;\r\n                }\r\n            */\r\n            const indexActual = this.productos.findIndex(item => item.key == key);\r\n            var repetido = false;\r\n            for(var i = 0; i<this.productos.length; i++){\r\n                if(i != indexActual){\r\n                    if(this.productos[i].nomProducto === this.productos[indexActual].nomProducto){\r\n                        repetido = true;\r\n                    }\r\n                }\r\n            }\r\n            if(!repetido){\r\n                const index = this.prods.findIndex(item => item.nomProducto == nomProducto);\r\n                const index2 = this.productos.findIndex(item => item.key == key);\r\n                this.productos[index2].stock = this.prods[index].stock\r\n                this.productos[index2].codigoBarra = this.prods[index].codigoBarra\r\n                if(this.productos[index2].cantidad > this.productos[index2].stock){\r\n                    this.productos[index2].cantidad = this.productos[index2].stock;\r\n                }\r\n            }else{\r\n                this.productos[indexActual].nomProducto = this.productoAnt\r\n                \r\n            }\r\n        },\r\n        //Se agrega un nuevo posible producto\r\n        //ADEMAS debe revisar si los valores anteriores estan repetidos\r\n        agregaProducto(){\r\n            this.cantidadProductos++\r\n            var a = 0;\r\n            this.productos.push({key: this.cantidadProductos, nomProducto: '', cantidad: 0, stock: 0});\r\n            while(a < this.prods.length){\r\n                const index = this.productos.findIndex(item => item.nomProducto == this.prods[a].nomProducto);\r\n                if(index != -1){\r\n                    a++;\r\n                }else{\r\n                    this.productos[this.productos.length-1].nomProducto = this.prods[a].nomProducto\r\n                    this.productos[this.productos.length-1].stock = this.prods[a].stock\r\n                    this.productos[this.productos.length-1].codigoBarra = this.prods[a].codigoBarra\r\n                    this.productos[this.productos.length-1].key = this.cantidadProductos\r\n                    break;\r\n                }\r\n                if(a == this.prods.length){\r\n                    this.cantidadProductos--;\r\n                    this.productos.splice(-1);\r\n                    this.alerta('danger','No existen mas productos para agregar')\r\n                    break;\r\n                }\r\n            } \r\n        },\r\n        //Se quita un Producto de los que serán agregados al sistema\r\n        quitarProducto(){\r\n            if(this.productos.length > 1){\r\n                this.cantidadProductos--;\r\n                this.productos.splice(-1);\r\n            }else{\r\n                this.alerta('danger', 'Tiene que existir al menos 1 producto');\r\n            }\r\n        },\r\n        //Indicamos el minimo de cantidad para que no este vacio o sea menor a 0\r\n        cantMin(producto){\r\n            const index = this.productos.findIndex(item => item.key == producto);\r\n            if(this.productos[index].cantidad < 1){\r\n                this.productos[index].cantidad = 1;\r\n            } else if(this.productos[index].cantidad > this.productos[index].stock){\r\n                this.productos[index].cantidad = this.productos[index].stock;\r\n            }\r\n        },\r\n        convertDateMysql(yourDate){\r\n            yourDate.toISOString().split('T')[0]\r\n            const offset = yourDate.getTimezoneOffset()\r\n            yourDate = new Date(yourDate.getTime() - (offset*60*1000))\r\n            return yourDate.toISOString().split('T')[0]\r\n\t\t},\r\n        //Función que permite generar un informe y enviar los datos de un nuevo HISTORIAL \r\n        generarInforme(){\r\n            var dt = this.convertDateMysql(new Date())\r\n            swal.fire({\r\n            title: '¿Seguro que desea asignar este equipo al usuario ' + this.dueño + '?',\r\n            type: 'warning',\r\n            showCancelButton: true,\r\n            confirmButtonColor: '#3085d6',\r\n            cancelButtonColor: '#d33',\r\n            cancelButtonText: 'Cancelar',\r\n            confirmButtonText: '¡Si!'\r\n            }).then((result) => {\r\n                if (result.value) {\r\n                    this.axios.post('api/agregaHistorial', {fecha: dt, nomFuncionario: this.funcionario, nomDependencia: this.dependencia})\r\n                    .then(res => {\r\n                    if(!res.data.sqlMessage){\r\n                        this.HistorialProducto();\r\n                        this.restarStock();\r\n                    }else{\r\n                        Swal.fire({\r\n                        icon: 'error',\r\n                        title: 'Oops...',\r\n                        text: 'No se ha logrado crear ',\r\n                        footer: 'Algún dato ha sido incorrecto verifiquelos'\r\n                        })\r\n                    }\r\n                    })\r\n                    .catch(e => {\r\n                    Swal.fire({\r\n                        icon: 'error',\r\n                        title: 'Oops...',\r\n                        text: 'No se ha logrado registrar la entrega de insumos',\r\n                        footer: 'Posible error del sistema'\r\n                    })\r\n                    }) \r\n                }\r\n            })\r\n        },\r\n        //Registra los productos de esta ENTREGA DE INSUMOS \r\n        HistorialProducto(){\r\n            for(var i = 0; i<this.productos.length; i++){\r\n                this.axios.post('api/agregahistProd', {cantidad: this.productos[i].cantidad, codigoBarra: this.productos[i].codigoBarra})\r\n                    .then(res => {\r\n                    if(!res.data.sqlMessage){\r\n                        Swal.fire(\r\n                        'Se ha registrado la entrega de insumos correctamente',\r\n                        'Seleccione Ok para continuar',\r\n                        'success'\r\n                        )\r\n                    }else{\r\n                        Swal.fire({\r\n                        icon: 'error',\r\n                        title: 'Oops...',\r\n                        text: 'No se ha logrado crear ',\r\n                        footer: 'Algún dato ha sido incorrecto verifiquelos'\r\n                        })\r\n                    }\r\n                    })\r\n                    .catch(e => {\r\n                    Swal.fire({\r\n                        icon: 'error',\r\n                        title: 'Oops...',\r\n                        text: 'No se ha logrado registrar la entrega de insumos',\r\n                        footer: 'Posible error del sistema'\r\n                    })\r\n                    })\r\n            }\r\n        },\r\n        //Resta los stock de cada producto\r\n        restarStock(){\r\n            for(var i = 0; i<this.productos.length; i++){\r\n                this.axios.put(`api/actualizaStock/${this.productos[i].codigoBarra}`, {cantidad: this.productos[i].cantidad})\r\n                    .then(res => {\r\n                        this.actualizarStock();\r\n                    })\r\n                    .catch(e => {\r\n                        var mensaje = 'Posible error del sistema';\r\n                        Swal.fire({\r\n                        icon: 'error',\r\n                        title: 'Oops...',\r\n                        text: 'No se ha logrado registrar la entrega de insumos',\r\n                        footer: mensaje\r\n                        })\r\n                    })\r\n            }\r\n        },\r\n        //Actualiza la pagina tras generar una entrega de insumos\r\n        actualizarStock(){\r\n            for(var i = 0; i<this.productos.length-1; i++){\r\n                this.cantidadProductos--;\r\n                this.productos.splice(-1);\r\n            }\r\n            this.cargarProductos(true);\r\n        },\r\n        //Permite ver los detalles de un producto y los carga\r\n        detalles(id){\r\n            this.axios.get(`api/obtenerProducto/${id}`)\r\n                .then(res => {\r\n                    this.codigo = res.data[0].codigoBarra;\r\n                    this.producto = res.data[0].nomProducto;\r\n                    this.marca = res.data[0].marca;\r\n                    this.descripcion = res.data[0].descripcion\r\n                })\r\n                .catch(e => {\r\n                    Swal.fire({\r\n                    icon: 'error',\r\n                    title: 'Oops...',\r\n                    text: 'No se ha logrado encontrar los datos del equipo',\r\n                    footer: 'Posible error del sistema'\r\n                    })\r\n                })\r\n        },\r\n        //Funciones de la alerta\r\n        countDownChanged(dismissCountDown) {\r\n            this.dismissCountDown = dismissCountDown\r\n        },\r\n        showAlert() {\r\n            this.dismissCountDown = this.dismissSecs\r\n        },\r\n        alerta(color, texto){\r\n            this.mensaje.color = color;\r\n            this.mensaje.texto = texto;\r\n            this.showAlert();\r\n        },\r\n    },\r\n}\r\n</script>\r\n\r\n<style>\r\n    body{\r\n        background-color: #eee;\r\n    }\r\n\r\n    .texto{\r\n        text-align: center;\r\n    }\r\n\r\n    .imagen{\r\n        width: 100%;\r\n    }\r\n\r\n    .boton{\r\n        margin: 20px;\r\n        width: 90%;\r\n        border-radius: 12px !important;\r\n        border-color: black !important;\r\n    }\r\n</style>"]}]}